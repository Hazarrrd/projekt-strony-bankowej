try{if(top.location.hostname!=self.location.hostname)throw 1}catch(o){top.location.href=self.location.href}
window.Modernizr=function(e,t,n){function r(e){v.cssText=e}function o(e,t){return r(g.join(e+";")+(t||""))}function i(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function c(e,t){for(var r in e){var o=e[r];if(!a(o,"-")&&v[o]!==n)return"pfx"!=t||o}return!1}function u(e,t,r){for(var o in e){var a=t[e[o]];if(a!==n)return!1===r?e[o]:i(a,"function")?a.bind(r||t):a}return!1}function s(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+b.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?c(o,t):(o=(e+" "+E.join(r+" ")+r).split(" "),u(o,t,n))}var l,f,d={},m=t.documentElement,h="modernizr",p=t.createElement(h),v=p.style,g=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",b=y.split(" "),E=y.toLowerCase().split(" "),C={},x=[],S=x.slice,w=function(e,n,r,o){var i,a,c,u,s=t.createElement("div"),l=t.body,f=l||t.createElement("body");if(parseInt(r,10))for(;r--;)c=t.createElement("div"),c.id=o?o[r]:h+(r+1),s.appendChild(c);return i=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),s.id=h,(l?s:f).innerHTML+=i,f.appendChild(s),l||(f.style.background="",f.style.overflow="hidden",u=m.style.overflow,m.style.overflow="hidden",m.appendChild(f)),a=n(s,e),l?s.parentNode.removeChild(s):(f.parentNode.removeChild(f),m.style.overflow=u),!!a},M=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return w("@media "+t+" { #"+h+" { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r},k=function(){function e(e,o){o=o||t.createElement(r[e]||"div"),e="on"+e;var a=e in o;return a||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(e,""),a=i(o[e],"function"),i(o[e],"undefined")||(o[e]=n),o.removeAttribute(e))),o=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),j={}.hasOwnProperty;f=i(j,"undefined")||i(j.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return j.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=S.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var i=new o,a=t.apply(i,n.concat(S.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(S.call(arguments)))};return r}),C.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},C.canvastext=function(){return!!d.canvas&&!!i(t.createElement("canvas").getContext("2d").fillText,"function")},C.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:w(["@media (",g.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},C.geolocation=function(){return"geolocation"in navigator},C.postmessage=function(){return!!e.postMessage},C.hashchange=function(){return k("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},C.history=function(){return!!e.history&&!!history.pushState},C.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},C.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(v.backgroundColor,"rgba")},C.backgroundsize=function(){return s("backgroundSize")},C.borderimage=function(){return s("borderImage")},C.borderradius=function(){return s("borderRadius")},C.boxshadow=function(){return s("boxShadow")},C.textshadow=function(){return""===t.createElement("div").style.textShadow},C.opacity=function(){return o("opacity:.55"),/^0.55$/.test(v.opacity)},C.cssanimations=function(){return s("animationName")},C.csstransitions=function(){return s("transition")},C.fontface=function(){var e;return w('@font-face {font-family:"font";src:url("https://")}',function(n,r){var o=t.getElementById("smodernizr"),i=o.sheet||o.styleSheet,a=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),e},C.generatedcontent=function(){var e;return w(["#",h,"{font:0/0 a}#",h,':after{content:"',":)",'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},C.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(e){return!1}},C.applicationcache=function(){return!!e.applicationCache};for(var T in C)f(C,T)&&(l=T.toLowerCase(),d[l]=C[T](),x.push((d[l]?"":"no-")+l));return d.addTest=function(e,t){if("object"==typeof e)for(var r in e)f(e,r)&&d.addTest(r,e[r]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,m.className+=" "+(t?"":"no-")+e,d[e]=t}return d},r(""),p=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=v[e[h]];return t||(t={},p++,e[h]=p,v[p]=t),t}function i(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=o(n));var i;return i=r.cache[e]?r.cache[e].cloneNode():m.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),i.canHaveChildren&&!d.test(e)?r.frag.appendChild(i):i}function a(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||o(e);for(var i=n.frag.cloneNode(),a=0,c=r(),u=c.length;a<u;a++)i.createElement(c[a]);return i}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function u(e){e||(e=t);var r=o(e);return g.shivCSS&&!s&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),l||c(e,r),e}var s,l,f=e.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",p=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",s="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){s=!0,l=!0}}();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==f.shivCSS,supportsUnknownElements:l,shivMethods:!1!==f.shivMethods,type:"default",shivDocument:u,createElement:i,createDocumentFragment:a};e.html5=g,u(t)}(this,t),d._version="2.6.2",d._prefixes=g,d._domPrefixes=E,d._cssomPrefixes=b,d.mq=M,d.hasEvent=k,d.testProp=function(e){return c([e])},d.testAllProps=s,d.testStyles=w,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+x.join(" "),d}(this,this.document);
!function(e,t){function n(e){var t=e.length,n=ie.type(e);return!ie.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function r(e){var t=fe[e]={};return ie.each(e.match(se)||[],function(e,n){t[n]=!0}),t}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ie.expando+Math.random()}function o(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(ge,"-$1").toLowerCase(),"string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:he.test(r)?JSON.parse(r):r)}catch(e){}pe.set(e,n,r)}else r=t;return r}function s(){return!0}function a(){return!1}function u(){try{return X.activeElement}catch(e){}}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Te.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ee.call(t,e)>=0!==n})}function f(e,t){return ie.nodeName(e,"table")&&ie.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=e.length,r=0;r<n;r++)de.set(e[r],"globalEval",!t||de.get(t[r],"globalEval"))}function g(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(de.hasData(e)&&(o=de.access(e),s=de.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)ie.event.add(t,i,l[i][n])}pe.hasData(e)&&(a=pe.access(e),u=ie.extend({},a),pe.set(t,u))}}function m(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&ie.nodeName(e,n)?ie.merge([e],r):r}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ae.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function v(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Ue.length;i--;)if((t=Ue[i]+n)in e)return t;return r}function x(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)}function b(t){return e.getComputedStyle(t,null)}function w(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(o[s]=de.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&x(r)&&(o[s]=de.access(r,"olddisplay",k(r.nodeName)))):o[s]||(i=x(r),(n&&"none"!==n||!i)&&de.set(r,"olddisplay",i?n:ie.css(r,"display"))));for(s=0;s<a;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function T(e,t,n){var r=We.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ie.css(e,n+Xe[o],!0,i)),r?("content"===n&&(s-=ie.css(e,"padding"+Xe[o],!0,i)),"margin"!==n&&(s-=ie.css(e,"border"+Xe[o]+"Width",!0,i))):(s+=ie.css(e,"padding"+Xe[o],!0,i),"padding"!==n&&(s+=ie.css(e,"border"+Xe[o]+"Width",!0,i)));return s}function N(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=b(e),s=ie.support.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=Fe(e,t,o),(i<0||null==i)&&(i=e.style[t]),$e.test(i))return i;r=s&&(ie.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(s?"border":"content"),r,o)+"px"}function k(e){var t=X,n=Ie[e];return n||(n=E(e,t),"none"!==n&&n||(Pe=(Pe||ie("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pe[0].contentWindow||Pe[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),Pe.detach()),Ie[e]=n),n}function E(e,t){var n=ie(t.createElement(e)).appendTo(t.body),r=ie.css(n[0],"display");return n.remove(),r}function S(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Ye.test(e)?r(e,i):S(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)S(e+"["+i+"]",t[i],n,r)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(se)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function D(e,t,n,r){function i(a){var u;return o[a]=!0,ie.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===at;return i(t.dataTypes[0])||!o["*"]&&i("*")}function A(e,n){var r,i,o=ie.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&ie.extend(!0,e,i),e}function L(e,n,r){for(var i,o,s,a,u=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){l.unshift(o);break}if(l[0]in r)s=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}a||(a=o)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),r[s]}function q(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function H(){return setTimeout(function(){gt=t}),gt=ie.now()}function O(e,t,n){for(var r,i=(wt[t]||[]).concat(wt["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o=0,s=bt.length,a=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=gt||H(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),o<1&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:gt||H(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(P(c,l.opts.specialEasing);o<s;o++)if(r=bt[o].call(l,e,c,l.opts))return r;return ie.map(c,O,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e,t){var n,r,i,o,s;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=ie.cssHooks[r])&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function R(e,n,r){var i,o,s,a,u,l,c=this,f={},p=e.style,d=e.nodeType&&x(e),h=de.get(e,"fxshow");r.queue||(u=ie._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,l=u.empty.fire,u.empty.fire=function(){u.unqueued||l()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,ie.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===ie.css(e,"display")&&"none"===ie.css(e,"float")&&(p.display="inline-block")),r.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],yt.exec(o)){if(delete n[i],s=s||"toggle"===o,o===(d?"hide":"show")){if("show"!==o||!h||h[i]===t)continue;d=!0}f[i]=h&&h[i]||ie.style(e,i)}if(!ie.isEmptyObject(f)){h?"hidden"in h&&(d=h.hidden):h=de.access(e,"fxshow",{}),s&&(h.hidden=!d),d?ie(e).show():c.done(function(){ie(e).hide()}),c.done(function(){var t;de.remove(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(i in f)a=O(d?h[i]:0,i,c),i in h||(h[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function W(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=Xe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function $(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B,I,z=typeof t,_=e.location,X=e.document,U=X.documentElement,Y=e.jQuery,V=e.$,G={},J=[],Q=J.concat,K=J.push,Z=J.slice,ee=J.indexOf,te=G.toString,ne=G.hasOwnProperty,re="2.0.3".trim,ie=function(e,t){return new ie.fn.init(e,t,B)},oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=/\S+/g,ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=function(e,t){return t.toUpperCase()},ce=function(){X.removeEventListener("DOMContentLoaded",ce,!1),e.removeEventListener("load",ce,!1),ie.ready()};ie.fn=ie.prototype={jquery:"2.0.3",constructor:ie,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ae.exec(e))||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ie?n[0]:n,ie.merge(this,ie.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),ue.test(i[1])&&ie.isPlainObject(n))for(i in n)ie.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=X.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))},selector:"",length:0,toArray:function(){return Z.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},ready:function(e){return ie.ready.promise().done(e),this},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},ie.fn.init.prototype=ie.fn,ie.extend=ie.fn.extend=function(){var e,n,r,i,o,s,a=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},u=2),"object"==typeof a||ie.isFunction(a)||(a={}),l===u&&(a=this,--u);u<l;u++)if(null!=(e=arguments[u]))for(n in e)r=a[n],i=e[n],a!==i&&(c&&i&&(ie.isPlainObject(i)||(o=ie.isArray(i)))?(o?(o=!1,s=r&&ie.isArray(r)?r:[]):s=r&&ie.isPlainObject(r)?r:{},a[n]=ie.extend(c,s,i)):i!==t&&(a[n]=i));return a},ie.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ie&&(e.$=V),t&&e.jQuery===ie&&(e.jQuery=Y),ie},isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(!0===e?--ie.readyWait:ie.isReady)||(ie.isReady=!0,!0!==e&&--ie.readyWait>0||(I.resolveWith(X,[ie]),ie.fn.trigger&&ie(X).trigger("ready").off("ready")))},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?G[te.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!ne.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=ue.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&ie(i).remove(),ie.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(e){n=t}return n&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;(e=ie.trim(e))&&(1===e.indexOf("use stapp")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,s=n(e);if(r){if(s)for(;i<o&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(s)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":re.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):K.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:ee.call(t,e,n)},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;o<r;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;o<s;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;o<s;o++)null!=(i=t(e[o],o,r))&&(u[u.length]=i);else for(o in e)null!=(i=t(e[o],o,r))&&(u[u.length]=i);return Q.apply([],u)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),ie.isFunction(e)?(i=Z.call(arguments,2),o=function(){return e.apply(n||this,i.concat(Z.call(arguments)))},o.guid=e.guid=e.guid||ie.guid++,o):t},access:function(e,n,r,i,o,s,a){var u=0,l=e.length,c=null==r;if("object"===ie.type(r)){o=!0;for(u in r)ie.access(e,n,u,r[u],!0,s,a)}else if(i!==t&&(o=!0,ie.isFunction(i)||(a=!0),c&&(a?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ie(e),n)})),n))for(;u<l;u++)n(e[u],r,a?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):s},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i}}),ie.ready.promise=function(t){return I||(I=ie.Deferred(),"complete"===X.readyState?setTimeout(ie.ready):(X.addEventListener("DOMContentLoaded",ce,!1),e.addEventListener("load",ce,!1))),I.promise(t)},ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),B=ie(X),function(e,t){function n(e,t,n,r){var i,o,s,a,u,l,p,d,h,g;if((t?t.ownerDocument||t:M)!==A&&D(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(q&&!r){if(i=me.exec(e))if(s=i[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&P(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!H||!H.test(e))){if(d=p=R,h=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=c(e),(p=t.getAttribute("id"))?d=p.replace(xe,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);h=ce.test(e)&&t.parentNode||t,g=l.join(",")}if(g)try{return Q.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{p||t.removeAttribute("id")}}}return x(e.replace(ae,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[R]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=e.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(){}function c(e,t){var r,i,o,s,a,u,l,c=I[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],l=C.preFilter;a;){r&&!(i=ue.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=le.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),a=a.slice(r.length));for(s in C.filter)!(i=he[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return t?a.length:a?n.error(e):I(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l,c=W+" "+o;if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[R]||(t[R]={}),(u=l[r])&&u[0]===c){if(!0===(a=u[1])||a===T)return!0===a}else if(u=l[r]=[c],u[1]=e(t,n,s)||T,!0===u[1])return!0}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function g(e,t,n,r,o,s){return r&&!r[R]&&(r=g(r)),o&&!o[R]&&(o=g(o,s)),i(function(i,s,a,u){var l,c,f,p=[],d=[],g=s.length,m=i||v(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?m:h(m,p,e,a,u),x=n?o||(i?e:g||r)?[]:s:y;if(n&&n(y,x,a,u),r)for(l=h(x,d),r(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(i){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?Z.call(i,f):p[c])>-1&&(i[l]=!(s[l]=f))}}else x=h(x===s?x.splice(g,x.length):x),o?o(null,s,x,u):Q.apply(s,x)})}function m(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],s=o||C.relative[" "],a=o?1:0,u=p(function(e){return e===t},s,!0),l=p(function(e){return Z.call(t,e)>-1},s,!0),c=[function(e,n,r){return!o&&(r||n!==S)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];a<i;a++)if(n=C.relative[e[a].type])c=[p(d(c),n)];else{if(n=C.filter[e[a].type].apply(null,e[a].matches),n[R]){for(r=++a;r<i&&!C.relative[e[r].type];r++);return g(a>1&&d(c),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<r&&m(e.slice(a,r)),r<i&&m(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function y(e,t){var r=0,o=t.length>0,s=e.length>0,a=function(i,a,u,l,c){var f,p,d,g=[],m=0,y="0",v=i&&[],x=null!=c,b=S,w=i||s&&C.find.TAG("*",c&&a.parentNode||a),N=W+=null==b?1:Math.random()||.1;for(x&&(S=a!==A&&a,T=r);null!=(f=w[y]);y++){if(s&&f){for(p=0;d=e[p++];)if(d(f,a,u)){l.push(f);break}x&&(W=N,T=++r)}o&&((f=!d&&f)&&m--,i&&v.push(f))}if(m+=y,o&&y!==m){for(p=0;d=t[p++];)d(v,g,a,u);if(i){if(m>0)for(;y--;)v[y]||g[y]||(g[y]=G.call(l));g=h(g)}Q.apply(l,g),x&&!i&&g.length>0&&m+t.length>1&&n.uniqueSort(l)}return x&&(W=N,S=b),v};return o?i(a):a}function v(e,t,r){for(var i=0,o=t.length;i<o;i++)n(e,t[i],r);return r}function x(e,t,n,r){var i,o,s,a,u,l=c(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&q&&C.relative[o[1].type]){if(!(t=(C.find.ID(s.matches[0].replace(be,we),t)||[])[0]))return n;e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!C.relative[a=s.type]);)if((u=C.find[a])&&(r=u(s.matches[0].replace(be,we),ce.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Q.apply(n,r),n;break}}return E(e,l)(r,t,!q,n,ce.test(e)),n}var b,w,T,C,N,k,E,S,j,D,A,L,q,H,O,F,P,R="sizzle"+-new Date,M=e.document,W=0,$=0,B=r(),I=r(),z=r(),_=!1,X=function(e,t){return e===t?(_=!0,0):0},U=1<<31,Y={}.hasOwnProperty,V=[],G=V.pop,J=V.push,Q=V.push,K=V.slice,Z=V.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ne.replace("w","w#"),oe="\\["+te+"*("+ne+")"+te+"*(?:([*^$|!~]?=)"+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+re+")|)|)"+te+"*\\]",se=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+oe.replace(3,8)+")*)|.*)\\)|)",ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ue=new RegExp("^"+te+"*,"+te+"*"),le=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp(te+"*[+~]"),fe=new RegExp("="+te+"*([^\\]'\"]*)"+te+"*\\]","g"),pe=new RegExp(se),de=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(V=K.call(M.childNodes),M.childNodes),V[M.childNodes.length].nodeType}catch(e){Q={apply:V.length?function(e,t){J.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}k=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},w=n.support={},D=n.setDocument=function(e){var t=e?e.ownerDocument||e:M,n=t.defaultView;return t!==A&&9===t.nodeType&&t.documentElement?(A=t,L=t.documentElement,q=!k(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){D()}),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=o(function(e){return L.appendChild(e).id=R,!t.getElementsByName||!t.getElementsByName(R).length}),w.getById?(C.find.ID=function(e,t){if(void 0!==t.getElementById&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=w.getElementsByTagName?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&q)return t.getElementsByClassName(e)},O=[],H=[],(w.qsa=ge.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||H.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&H.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(w.matchesSelector=ge.test(F=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",se)}),H=H.length&&new RegExp(H.join("|")),O=O.length&&new RegExp(O.join("|")),P=ge.test(L.contains)||L.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=L.compareDocumentPosition?function(e,n){if(e===n)return _=!0,0;var r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return r?1&r||!w.sortDetached&&n.compareDocumentPosition(e)===r?e===t||P(M,e)?-1:n===t||P(M,n)?1:j?Z.call(j,e)-Z.call(j,n):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,s=n.parentNode,u=[e],l=[n];if(e===n)return _=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:j?Z.call(j,e)-Z.call(j,n):0;if(o===s)return a(e,n);for(r=e;r=r.parentNode;)u.unshift(r);for(r=n;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===M?-1:l[i]===M?1:0},t):A},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&D(e),t=t.replace(fe,"='$1']"),w.matchesSelector&&q&&(!O||!O.test(t))&&(!H||!H.test(t)))try{var r=F.call(e,t);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return n(t,A,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==A&&D(e),P(e,t)},n.attr=function(e,t){(e.ownerDocument||e)!==A&&D(e);var n=C.attrHandle[t.toLowerCase()],r=n&&Y.call(C.attrHandle,t.toLowerCase())?n(e,t,!q):void 0;return void 0===r?w.attributes||!q?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null:r},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(_=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(X),_){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},N=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=N(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=N(t);return n},C=n.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return he.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&pe.test(n)&&(t=c(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&v){for(c=m[R]||(m[R]={}),l=c[e]||[],d=l[0]===W&&l[1],p=l[0]===W&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[W,d,p];break}}else if(v&&(l=(t[R]||(t[R]={}))[e])&&l[0]===W)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[R]||(f[R]={}))[e]=[W,p]),f!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var r,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[R]?o(t):o.length>1?(r=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),s=i.length;s--;)r=Z.call(e,i[s]),e[r]=!(n[r]=i[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=E(e.replace(ae,"$1"));return r[R]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||N(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do{if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return ye.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);l.prototype=C.filters=C.pseudos,C.setFilters=new l,E=n.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=c(e)),n=t.length;n--;)o=m(t[n]),o[R]?r.push(o):i.push(o);o=z(e,y(i,r))}return o},w.sortStable=R.split("").sort(X).join("")===R,w.detectDuplicates=_,D(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(ee,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:!0===e[t]?t.toLowerCase():null}),ie.find=n,ie.expr=n.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=n.uniqueSort,ie.text=n.getText,ie.isXMLDoc=n.isXML,ie.contains=n.contains}(e);var fe={};ie.Callbacks=function(e){e="string"==typeof e?fe[e]||r(e):ie.extend({},e);var n,i,o,s,a,u,l=[],c=!e.once&&[],f=function(t){for(n=e.memory&&t,i=!0,u=s||0,s=0,a=l.length,o=!0;l&&u<a;u++)if(!1===l[u].apply(t[0],t[1])&&e.stopOnFalse){n=!1;break}o=!1,l&&(c?c.length&&f(c.shift()):n?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function t(n){ie.each(n,function(n,r){var i=ie.type(r);"function"===i?e.unique&&p.has(r)||l.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),o?a=l.length:n&&(s=t,f(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,t){for(var n;(n=ie.inArray(t,l,n))>-1;)l.splice(n,1),o&&(n<=a&&a--,n<=u&&u--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=n=t,this},disabled:function(){return!l},lock:function(){return c=t,n||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var s=o[0],a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Z.call(arguments),s=o.length,a=1!==s||e&&ie.isFunction(e.promise)?s:0,u=1===a?e:ie.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Z.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}}),ie.support=function(t){var n=X.createElement("input"),r=X.createDocumentFragment(),i=X.createElement("div"),o=X.createElement("select"),s=o.appendChild(X.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled,n=X.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,ie(function(){var n,r,o=X.getElementsByTagName("body")[0];o&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",ie.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(X.createElement("div")),r.style.cssText=i.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),o.removeChild(n))}),t):t}({});var pe,de,he=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;i.uid=1,i.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},i.prototype={key:function(e){if(!i.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=i.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,ie.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(ie.isEmptyObject(o))ie.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){var i;return n===t||n&&"string"==typeof n&&r===t?(i=this.get(e,n),i!==t?i:this.get(e,ie.camelCase(n))):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,o,s=this.key(e),a=this.cache[s];if(n===t)this.cache[s]={};else{ie.isArray(n)?i=n.concat(n.map(ie.camelCase)):(o=ie.camelCase(n),n in a?i=[n,o]:(i=o,i=i in a?[i]:i.match(se)||[])),r=i.length;for(;r--;)delete a[i[r]]}},hasData:function(e){return!ie.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},pe=new i,de=new i,ie.extend({acceptData:i.accepts,hasData:function(e){return pe.hasData(e)||de.hasData(e)},data:function(e,t,n){return pe.access(e,t,n)},removeData:function(e,t){pe.remove(e,t)},_data:function(e,t,n){return de.access(e,t,n)},_removeData:function(e,t){de.remove(e,t)}}),ie.fn.extend({data:function(e,n){var r,i,s=this[0],a=0,u=null;if(e===t){if(this.length&&(u=pe.get(s),1===s.nodeType&&!de.get(s,"hasDataAttrs"))){for(r=s.attributes;a<r.length;a++)i=r[a].name,0===i.indexOf("data-")&&(i=ie.camelCase(i.slice(5)),o(s,i,u[i]));de.set(s,"hasDataAttrs",!0)}return u}return"object"==typeof e?this.each(function(){pe.set(this,e)}):ie.access(this,function(n){var r,i=ie.camelCase(e);if(s&&n===t){if((r=pe.get(s,e))!==t)return r;if((r=pe.get(s,i))!==t)return r;if((r=o(s,i,t))!==t)return r}else this.each(function(){var r=pe.get(this,i);pe.set(this,i,n),-1!==e.indexOf("-")&&r!==t&&pe.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){pe.remove(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=de.get(e,t),n&&(!r||ie.isArray(n)?r=de.access(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),s=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return de.get(e,n)||de.access(e,n,{empty:ie.Callbacks("once memory").add(function(){de.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ie.queue(this[0],e):n===t?this:this.each(function(){var t=ie.queue(this,e,n);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},delay:function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=ie.Deferred(),s=this,a=this.length,u=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)(r=de.get(s[a],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var me,ye=/^(?:input|select|textarea|button)$/i;ie.fn.extend({attr:function(e,t){return ie.access(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})},prop:function(e,t){return ie.access(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(se)||[];s<a;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(/[\t\r\n\f]/g," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=ie.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(se)||[];s<a;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(/[\t\r\n\f]/g," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ie.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(se)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==z&&"boolean"!==n||(this.className&&de.set(this,"__className__",this.className),this.className=this.className||!1===e?"":de.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(/[\t\r\n\f]/g," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=ie.isFunction(e),this.each(function(r){var o;1===this.nodeType&&(o=i?e.call(this,r,ie(this).val()):e,null==o?o="":"number"==typeof o?o+="":ie.isArray(o)&&(o=ie.map(o,function(e){return null==e?"":e+""})),(n=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return(n=ie.valHooks[o.type]||ie.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(/\r/g,""):null==r?"":r)}}}),ie.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&(ie.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=ie.inArray(ie(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===z?ie.prop(e,n,r):(1===s&&ie.isXMLDoc(e)||(n=n.toLowerCase(),i=ie.attrHooks[n]||(ie.expr.match.bool.test(n)?me:void 0)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=ie.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):void ie.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(se);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!ie.support.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!ie.isXMLDoc(e),s&&(n=ie.propFix[n]||n,o=ie.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ye.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),me={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):e.setAttribute(n,n),n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ie.expr.attrHandle[n]||ie.find.attr;ie.expr.attrHandle[n]=function(e,n,i){var o=ie.expr.attrHandle[n],s=i?t:(ie.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return ie.expr.attrHandle[n]=o,s}}),ie.support.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>=0}},ie.support.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ve=/^key/,xe=/^(?:mouse|contextmenu)|click/,be=/^(?:focusinfocus|focusoutblur)$/,we=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,n,r,i,o){var s,a,u,l,c,f,p,d,h,g,m,y=de.get(e);if(y){for(r.handler&&(s=r,r=s.handler,o=s.selector),r.guid||(r.guid=ie.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof ie===z||e&&ie.event.triggered===e.type?t:ie.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=(n||"").match(se)||[""],c=n.length;c--;)u=we.exec(n[c])||[],h=m=u[1],g=(u[2]||"").split(".").sort(),h&&(p=ie.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=ie.event.special[h]||{},f=ie.extend({type:h,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&ie.expr.match.needsContext.test(o),namespace:g.join(".")},s),(d=l[h])||(d=l[h]=[],d.delegateCount=0,p.setup&&!1!==p.setup.call(e,i,g,a)||e.addEventListener&&e.addEventListener(h,a,!1)),p.add&&(p.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,f):d.push(f),ie.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=de.hasData(e)&&de.get(e);if(m&&(u=m.events)){for(t=(t||"").match(se)||[""],l=t.length;l--;)if(a=we.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=ie.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||ie.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)ie.event.remove(e,d+t[l],n,r,!0);ie.isEmptyObject(u)&&(delete m.handle,de.remove(e,"events"))}},trigger:function(n,r,i,o){var s,a,u,l,c,f,p,d=[i||X],h=ne.call(n,"type")?n.type:n,g=ne.call(n,"namespace")?n.namespace.split("."):[];if(a=u=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!be.test(h+ie.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),c=h.indexOf(":")<0&&"on"+h,n=n[ie.expando]?n:new ie.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ie.makeArray(r,[n]),p=ie.event.special[h]||{},o||!p.trigger||!1!==p.trigger.apply(i,r))){if(!o&&!p.noBubble&&!ie.isWindow(i)){for(l=p.delegateType||h,be.test(l+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||X)&&d.push(u.defaultView||u.parentWindow||e)}for(s=0;(a=d[s++])&&!n.isPropagationStopped();)n.type=s>1?l:p.bindType||h,f=(de.get(a,"events")||{})[n.type]&&de.get(a,"handle"),f&&f.apply(a,r),(f=c&&a[c])&&ie.acceptData(a)&&f.apply&&!1===f.apply(a,r)&&n.preventDefault();return n.type=h,o||n.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),r)||!ie.acceptData(i)||c&&ie.isFunction(i[h])&&!ie.isWindow(i)&&(u=i[c],u&&(i[c]=null),ie.event.triggered=h,i[h](),ie.event.triggered=t,u&&(i[c]=u)),n.result}},dispatch:function(e){e=ie.event.fix(e);var n,r,i,o,s,a=[],u=Z.call(arguments),l=(de.get(this,"events")||{})[e.type]||[],c=ie.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=ie.event.handlers.call(this,e,l),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(s.namespace)||(e.handleObj=s,e.data=s.data,(i=((ie.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,u))!==t&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,s,a=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],r=0;r<u;r++)s=n[r],o=s.selector+" ",i[o]===t&&(i[o]=s.needsContext?ie(o,this).index(l)>=0:ie.find(o,this,null,[l]).length),i[o]&&i.push(s);i.length&&a.push({elem:l,handlers:i})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=xe.test(i)?this.mouseHooks:ve.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ie.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?s:a):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ie.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ie.support.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){0==n++&&X.addEventListener(e,r,!0)},teardown:function(){0==--n&&X.removeEventListener(e,r,!0)}}}),ie.fn.extend({on:function(e,n,r,i,o){var s,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),!1===i)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(e){return ie().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ie(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return!1!==n&&"function"!=typeof n||(r=n,n=t),!1===r&&(r=a),this.each(function(){ie.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}});var Te=/^.[^:#\[\.,]*$/,Ce=/^(?:parents|prev(?:Until|All))/,Ne=ie.expr.match.needsContext,ke={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<i;t++)if(ie.contains(r[t],this))return!0}));for(t=0;t<i;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ie.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&Ne.test(e)?ie(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=Ne.test(e)||"string"!=typeof e?ie(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ee.call(ie(e),this[0]):ee.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ie(e,t):ie.makeArray(e&&e.nodeType?[e]:e),r=ie.merge(this.get(),n);return this.pushStack(ie.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ke[e]||ie.unique(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}}),ie.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ie(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Se=/<([\w:]+)/,je=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Ae=/^(?:checkbox|radio)$/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^$|\/(?:java|ecma)script/i,He=/^true\/(.*)/,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td,ie.fn.extend({text:function(e){return ie.access(this,function(e){return e===t?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){f(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(m(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&h(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return ie.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!De.test(e)&&!Oe[(Se.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ee,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},1===n.nodeType&&(ie.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ie.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),ie(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=Q.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,f=this,h=c-1,g=e[0],y=ie.isFunction(g);if(y||!(c<=1||"string"!=typeof g||ie.support.checkClone)&&Le.test(g))return this.each(function(r){var i=f.eq(r);y&&(e[0]=g.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=ie.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=ie.map(m(r,"script"),p),s=o.length;l<c;l++)a=r,l!==h&&(a=ie.clone(a,!0,!0),s&&ie.merge(o,m(a,"script"))),t.call(this[l],a,l);if(s)for(u=o[o.length-1].ownerDocument,ie.map(o,d),l=0;l<s;l++)a=o[l],qe.test(a.type||"")&&!de.access(a,"globalEval")&&ie.contains(u,a)&&(a.src?ie._evalUrl(a.src):ie.globalEval(a.textContent.replace(/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,"")))}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=[],i=ie(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),ie(i[s])[t](n),K.apply(r,n.get());return this.pushStack(r)}}),ie.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=ie.contains(e.ownerDocument,e);if(!(ie.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(s=m(a),o=m(e),r=0,i=o.length;r<i;r++)y(o[r],s[r]);if(t)if(n)for(o=o||m(e),s=s||m(a),r=0,i=o.length;r<i;r++)g(o[r],s[r]);else g(e,a);return s=m(a,"script"),s.length>0&&h(s,!u&&m(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=0,f=e.length,p=t.createDocumentFragment(),d=[];c<f;c++)if((i=e[c])||0===i)if("object"===ie.type(i))ie.merge(d,i.nodeType?[i]:i);else if(je.test(i)){for(o=o||p.appendChild(t.createElement("div")),s=(Se.exec(i)||["",""])[1].toLowerCase(),a=Oe[s]||Oe._default,o.innerHTML=a[1]+i.replace(Ee,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;ie.merge(d,o.childNodes),o=p.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(p.textContent="",c=0;i=d[c++];)if((!r||-1===ie.inArray(i,r))&&(u=ie.contains(i.ownerDocument,i),o=m(p.appendChild(i),"script"),u&&h(o),n))for(l=0;i=o[l++];)qe.test(i.type||"")&&n.push(i);return p},cleanData:function(e){for(var n,r,o,s,a,u,l=ie.event.special,c=0;(r=e[c])!==t;c++){if(i.accepts(r)&&(a=r[de.expando])&&(n=de.cache[a])){if(o=Object.keys(n.events||{}),o.length)for(u=0;(s=o[u])!==t;u++)l[s]?ie.event.remove(r,s):ie.removeEvent(r,s,n.handle);de.cache[a]&&delete de.cache[a]}delete pe.cache[r[pe.expando]]}},_evalUrl:function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ie.fn.extend({wrapAll:function(e){var t;return ie.isFunction(e)?this.each(function(t){ie(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}});var Fe,Pe,Re=/^(none|table(?!-c[ea]).+)/,Me=/^margin/,We=new RegExp("^("+oe+")(.*)$","i"),$e=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Be=new RegExp("^([+-])=("+oe+")","i"),Ie={BODY:"block"},ze={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:0,fontWeight:400},Xe=["Top","Right","Bottom","Left"],Ue=["Webkit","O","Moz","ms"];ie.fn.extend({css:function(e,n){return ie.access(this,function(e,n,r){var i,o,s={},a=0;if(ie.isArray(n)){for(i=b(e),o=n.length;a<o;a++)s[n[a]]=ie.css(e,n[a],!1,i);return s}return r!==t?ie.style(e,n,r):ie.css(e,n)},e,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){x(this)?ie(this).show():ie(this).hide()})}}),ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,u=ie.camelCase(n),l=e.style;if(n=ie.cssProps[u]||(ie.cssProps[u]=v(l,u)),a=ie.cssHooks[n]||ie.cssHooks[u],r===t)return a&&"get"in a&&(o=a.get(e,!1,i))!==t?o:l[n];s=typeof r,"string"===s&&(o=Be.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(ie.css(e,n)),s="number"),null==r||"number"===s&&isNaN(r)||("number"!==s||ie.cssNumber[u]||(r+="px"),ie.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),a&&"set"in a&&(r=a.set(e,r,i))===t||(l[n]=r))}},css:function(e,n,r,i){var o,s,a,u=ie.camelCase(n);return n=ie.cssProps[u]||(ie.cssProps[u]=v(e.style,u)),a=ie.cssHooks[n]||ie.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=Fe(e,n,i)),"normal"===o&&n in _e&&(o=_e[n]),""===r||r?(s=parseFloat(o),!0===r||ie.isNumeric(s)?s||0:o):o}}),Fe=function(e,n,r){var i,o,s,a=r||b(e),u=a?a.getPropertyValue(n)||a[n]:t,l=e.style;return a&&(""!==u||ie.contains(e.ownerDocument,e)||(u=ie.style(e,n)),$e.test(u)&&Me.test(n)&&(i=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=a.width,l.width=i,l.minWidth=o,l.maxWidth=s)),u},ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&Re.test(ie.css(e,"display"))?ie.swap(e,ze,function(){return N(e,t,r)}):N(e,t,r)},set:function(e,n,r){var i=r&&b(e);return T(e,n,r?C(e,t,r,ie.support.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ie(function(){ie.support.reliableMarginRight||(ie.cssHooks.marginRight={get:function(e,t){if(t)return ie.swap(e,{display:"inline-block"},Fe,[e,"marginRight"])}}),!ie.support.pixelPosition&&ie.fn.position&&ie.each(["top","left"],function(e,t){ie.cssHooks[t]={get:function(e,n){if(n)return n=Fe(e,t),$e.test(n)?ie(e).position()[t]+"px":n}}})}),ie.expr&&ie.expr.filters&&(ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Xe[r]+t]=o[r]||o[r-2]||o[0];return i}},Me.test(e)||(ie.cssHooks[e+t].set=T)});var Ye=/\[\]$/,Ve=/^(?:submit|button|image|reset|file)$/i,Ge=/^(?:input|select|textarea|keygen)/i;ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Ge.test(this.nodeName)&&!Ve.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}}),ie.param=function(e,n){var r,i=[],o=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){o(this.name,this.value)});else for(r in e)S(r,e[r],n,o);return i.join("&").replace(/%20/g,"+")},ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Je,Qe,Ke=ie.now(),Ze=/\?/,et=/([?&])_=[^&]*/,tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rt=/^(?:GET|HEAD)$/,it=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ot=ie.fn.load,st={},at={},ut="*/".concat("*");try{Qe=_.href}catch(e){Qe=X.createElement("a"),Qe.href="",Qe=Qe.href}Je=it.exec(Qe.toLowerCase())||[],ie.fn.load=function(e,n,r){if("string"!=typeof e&&ot)return ot.apply(this,arguments);var i,o,s,a=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u),e=e.slice(0,u)),ie.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(i?ie("<div>").append(ie.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){a.each(r,s||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qe,type:"GET",isLocal:nt.test(Je[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?A(A(e,ie.ajaxSettings),t):A(ie.ajaxSettings,e)},ajaxPrefilter:j(st),ajaxTransport:j(at),ajax:function(e,n){function r(e,n,r,a){var l,f,v,x,w,C=n;2!==b&&(b=2,u&&clearTimeout(u),i=t,s=a||"",T.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(x=L(p,T,r)),x=q(p,x,T,l),l?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(ie.lastModified[o]=w),(w=T.getResponseHeader("etag"))&&(ie.etag[o]=w)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=x.state,f=x.data,v=x.error,l=!v)):(v=C,!e&&C||(C="error",e<0&&(e=0))),T.status=e,T.statusText=(n||C)+"",l?g.resolveWith(d,[f,C,T]):g.rejectWith(d,[T,C,v]),T.statusCode(y),y=t,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?f:v]),m.fireWith(d,[T,C]),c&&(h.trigger("ajaxComplete",[T,p]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,s,a,u,l,c,f,p=ie.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?ie(d):ie.event,g=ie.Deferred(),m=ie.Callbacks("once memory"),y=p.statusCode||{},v={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=tt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||Qe)+"").replace(/#.*$/,"").replace(/^\/\//,Je[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ie.trim(p.dataType||"*").toLowerCase().match(se)||[""],null==p.crossDomain&&(l=it.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]===Je[1]&&l[2]===Je[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Je[3]||("http:"===Je[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ie.param(p.data,p.traditional)),D(st,p,n,T),2===b)return T;c=p.global,c&&0==ie.active++&&ie.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!rt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Ze.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=et.test(o)?o.replace(et,"$1_="+Ke++):o+(Ze.test(o)?"&":"?")+"_="+Ke++)),p.ifModified&&(ie.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&T.setRequestHeader("If-None-Match",ie.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ut+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(d,T,p)||2===b))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(i=D(at,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},p.timeout));try{b=1,i.send(v,r)}catch(e){if(!(b<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,n){return ie.get(e,t,n,"script")}}),ie.each(["get","post"],function(e,n){ie[n]=function(e,r,i,o){return ie.isFunction(r)&&(o=o||i,i=r,r=t),ie.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ie("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var lt=[],ct=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=lt.pop()||ie.expando+"_"+Ke++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(n,r,i){var o,s,a,u=!1!==n.jsonp&&(ct.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&ct.test(n.data)&&"data");if(u||"jsonp"===n.dataTypes[0])return o=n.jsonpCallback=ie.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(ct,"$1"+o):!1!==n.jsonp&&(n.url+=(Ze.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||ie.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},i.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=r.jsonpCallback,lt.push(o)),a&&ie.isFunction(s)&&s(a[0]),a=s=t}),"script"}),ie.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var ft=ie.ajaxSettings.xhr(),pt={0:200,1223:204},dt=0,ht={};e.ActiveXObject&&ie(e).on("unload",function(){for(var e in ht)ht[e]();ht=t}),ie.support.cors=!!ft&&"withCredentials"in ft,ie.support.ajax=ft=!!ft,ie.ajaxTransport(function(e){var n;if(ie.support.cors||ft&&!e.crossDomain)return{send:function(r,i){var o,s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(delete ht[s],n=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status||404,a.statusText):i(pt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=ht[s=dt++]=n("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}});var gt,mt,yt=/^(?:toggle|show|hide)$/,vt=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),xt=/queueHooks$/,bt=[R],wt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=vt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),s=(ie.cssNumber[e]||"px"!==o&&+r)&&vt.exec(ie.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{a=a||".5",s/=a,ie.style(n.elem,e,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(F,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],wt[n]=wt[n]||[],wt[n].unshift(t)},prefilter:function(e,t){t?bt.unshift(e):bt.push(e)}}),ie.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,r,i)}}),ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),s=function(){var t=F(this,ie.extend({},e),o);(i||de.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ie.timers,s=de.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&xt.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=de.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,s=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.timers=[],ie.fx=M.prototype.init,ie.fx.tick=function(){var e,n=ie.timers,r=0;for(gt=ie.now();r<n.length;r++)(e=n[r])()||n[r]!==e||n.splice(r--,1);n.length||ie.fx.stop(),gt=t},ie.fx.timer=function(e){e()&&ie.timers.push(e)&&ie.fx.start()},ie.fx.interval=13,ie.fx.start=function(){mt||(mt=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(mt),mt=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fx.step={},ie.expr&&ie.expr.filters&&(ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length}),ie.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return n=s.documentElement,ie.contains(n,i)?(typeof i.getBoundingClientRect!==z&&(o=i.getBoundingClientRect()),r=$(s),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o},ie.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=ie.css(e,"position"),f=ie(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},ie.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ie.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(r=e.offset()),r.top+=ie.css(e[0],"borderTopWidth",!0),r.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ie.css(n,"marginTop",!0),left:t.left-r.left-ie.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||U})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;ie.fn[n]=function(o){return ie.access(this,function(n,o,s){var a=$(n);if(s===t)return a?a[r]:n[o];a?a.scrollTo(i?e.pageXOffset:s,i?s:e.pageYOffset):n[o]=s},n,o,arguments.length,null)}}),ie.each({Height:"height",Width:"width"},function(e,n){ie.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ie.fn[i]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(!0===i||!0===o?"margin":"border");return ie.access(this,function(n,r,i){var o;return ie.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?ie.css(n,r,a):ie.style(n,r,i,a)},n,s?i:t,s,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ie:"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=ie)}(window);
!function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,n,a,i){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r(i),a},set:function(e){r(i),a=e}})}catch(e){}e._definePropertyBroken=!0,t[n]=a}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},e.markAsWarnedAbout=function(e){i[e]=!0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){},d=/^(?:input|button)$/i,l=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,a,i){var u=n.toLowerCase(),c=t&&t.nodeType;return i&&(s.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!l.test(c)&&(o?n in o:e.isFunction(e.fn[n])))?e(t)[n](a):("type"===n&&void 0!==a&&d.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[u]&&p.test(u)&&(e.attrHooks[u]={get:function(t,n){var r,a=e.prop(t,n);return!0===a||"boolean"!=typeof a&&(r=t.getAttributeNode(n))&&!1!==r.nodeValue?n.toLowerCase():void 0},set:function(t,n,r){var a;return!1===n?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(u)&&r("jQuery.fn.attr('"+u+"') may use property instead of attribute")),s.call(e,t,n,a))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();if("button"===n)return c.apply(this,arguments);"input"!==n&&"option"!==n&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var v,h,g=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(i[2],n,!0),n,a):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(v=e.uaMatch(navigator.userAgent),h={},v.browser&&(h[v.browser]=!0,h.version=v.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var n,a,i=this[0];return!i||"events"!==t||1!==arguments.length||(n=e.data(i,t),a=e._data(i,t),void 0!==n&&n!==a||void 0===a)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),a)};var w=/\/(java|ecma)script/i,j=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),j.apply(this,arguments)},e.clean||(e.clean=function(t,n,a,i){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,r("jQuery.clean() is deprecated");var o,s,u,c,d=[];if(e.merge(d,e.buildFragment(t,n).childNodes),a)for(u=function(e){if(!e.type||w.test(e.type))return i?i.push(e.parentNode?e.parentNode.removeChild(e):e):a.appendChild(e)},o=0;null!=(s=d[o]);o++)e.nodeName(s,"script")&&u(s)||(a.appendChild(s),void 0!==s.getElementsByTagName&&(c=e.grep(e.merge([],s.getElementsByTagName("script")),u),d.splice.apply(d,[o+1,0].concat(c)),o+=c.length));return d});var x=e.event.add,Q=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,S=e.fn.die,A="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=new RegExp("\\b(?:"+A+")\\b"),M=/(?:^|\s)hover(\.\S+|)\b/,H=function(t){return"string"!=typeof t||e.event.special.hover?t:(M.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(M,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),x.call(this,e,H(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){Q.call(this,e,H(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;o<a.length;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),S?S.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(A.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);
!function(e,r){"use stapp";var o,a;e.uaMatch=function(e){e=e.toLowerCase();var r=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0",platform:o[0]||""}},o=e.uaMatch(r.navigator.userAgent),a={},o.browser&&(a[o.browser]=!0,a.version=o.version),o.platform&&(a[o.platform]=!0),a.chrome||a.opr?a.webkit=!0:a.webkit&&(a.safari=!0),a.rv&&(a.msie=!0),a.opr&&(a.opera=!0),e.markAsWarnedAbout("jQuery.browser is deprecated"),e.browser=a}(jQuery,window);
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,e,t,u,a){return jQuery.easing[jQuery.easing.def](n,e,t,u,a)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(1-Math.pow(2,-10*e/a))+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;if(i||(i=a*(.3*1.5)),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?u/2*(e*e*((1+(r*=1.525))*e-r))+t:u/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(n,e,t,u,a){return u-jQuery.easing.easeOutBounce(n,a-e,0,u,a)+t},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?u*(7.5625*e*e)+t:e<2/2.75?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,e,t,u,a){return e<a/2?.5*jQuery.easing.easeInBounce(n,2*e,0,u,a)+t:.5*jQuery.easing.easeOutBounce(n,2*e-a,0,u,a)+.5*u+t}});
!function(t,e){function i(e,i){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(a=t("img[usemap=#"+o+"]")[0])&&s(a))):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(("absolute"===(i=n.css("position"))||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0||(e[s]=1,n=e[s]>0,e[s]=0,n)}})}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(t){}n(e)},t.widget=function(e,i,s){var n,o,a,r,h={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){if(!t.isFunction(s))return void(h[e]=s);h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:e},h,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),h=this;return o=!a&&r.length?t.widget.extend.apply(null,[o].concat(r)):o,a?this.each(function(){var i,s=t.data(this,n);return s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,n);e?e.option(o||{})._init():t.data(this,n,new i(o,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),void 0===i)return void 0===n[e]?null:n[e];n[e]=i}else{if(void 0===i)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^(\w+)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.delegate(c,l,r):i.bind(l,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?!0===n||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var s=this,n=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!t.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1)},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),void((s=i[0])&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,o=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var o=!1,a=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,o,a,r,h,l,c,u,d,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,_=i.offset.top,b=_+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,h=r+p.snapElements[u].width,l=p.snapElements[u].top,c=l+p.snapElements[u].height,v<r-g||m>h+g||b<l-g||_>c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(l-b)<=g,n=Math.abs(c-_)<=g,o=Math.abs(r-v)<=g,a=Math.abs(h-m)<=g,s&&(i.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h}).left-p.margins.left)),d=s||n||o||a,"outer"!==f.snapMode&&(s=Math.abs(l-_)<=g,n=Math.abs(c-b)<=g,o=Math.abs(r-m)<=g,a=Math.abs(h-v)<=g,s&&(i.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||o||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||o||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&t<e+i}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,e,s){if(!e.offset)return!1;var n,o,a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,h=(t.positionAbs||t.position.absolute).top,l=h+t.helperProportions.height,c=e.offset.left,u=c+e.proportions.width,d=e.offset.top,p=d+e.proportions.height;switch(s){case"fit":return c<=a&&r<=u&&d<=h&&l<=p;case"intersect":return c<a+t.helperProportions.width/2&&r-t.helperProportions.width/2<u&&d<h+t.helperProportions.height/2&&l-t.helperProportions.height/2<p;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,i(o,d,e.proportions.height)&&i(n,c,e.proportions.width);case"touch":return(h>=d&&h<=p||l>=d&&l<=p||h<d&&l>p)&&(a>=c&&a<=u||r>=c&&r<=u||a<c&&r>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<o.length;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===o[s].element[0]){o[s].proportions.height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions={width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight})}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=t.ui.intersect(e,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),o.length&&(s=t.data(o[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){function i(t){return parseInt(t,10)||0}function s(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var s,n,o,a=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=i(this.helper.css("left")),n=i(this.helper.css("top")),a.containment&&(s+=t(a.containment).scrollLeft()||0,n+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),h.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s=this.helper,n={},o=this.originalMousePosition,a=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return!!p&&(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,n,o,a,r=this.options;a={minWidth:s(r.minWidth)?r.minWidth:0,maxWidth:s(r.maxWidth)?r.maxWidth:1/0,minHeight:s(r.minHeight)?r.minHeight:0,maxHeight:s(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),s(t.left)&&(this.position.left=t.left),s(t.top)&&(this.position.top=t.top),s(t.height)&&(this.size.height=t.height),s(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return s(t.height)?t.width=t.height*this.aspectRatio:s(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=s(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=s(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=s(t.width)&&e.minWidth&&e.minWidth>t.width,r=s(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,o=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,s,n,o,a,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=i(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-s[3],width:e.innerWidth()-s[1]},n=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:a,h=t.ui.hasScroll(p)?p.scrollHeight:o,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,o,a=t(this).data("ui-resizable"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?h.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper,a.offset.left-u.left+a.sizeDiff.width)),s=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-h.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):(e.size.width=d,e.size.height=p,e.position.top=o.top-u,e.position.left=o.left-c)}})}(jQuery),function(t,e){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");if(n)return s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||i.right<o||i.top>h||i.bottom<a):"fit"===n.tolerance&&(l=i.left>o&&i.right<r&&i.top>a&&i.bottom<h),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&t<e+i}function s(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||s(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return s=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),!1!==r&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],(o=this._intersectsWithPointer(s))&&s.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||t.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&s+l<h,d="y"===this.options.axis||e+c>o&&e+c<a,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!n&&(this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,n,o,a=[],r=[],h=this._connectWith();if(h&&e)for(i=h.length-1;i>=0;i--)for(n=t(h[i]),s=n.length-1;s>=0;s--)(o=t.data(n[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)(o=t.data(n[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;s<l;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){i&&!s.forcePlaceholderSize||(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",e,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||s(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(p&&!i(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height)||(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),Math.abs(u-c)<a&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down")));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[g].element,!0),this._trigger("change",e,this._uiHash()),this.containers[g]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",e,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){t.effects={effect:{}},function(t,e){function i(t,e,i){var s=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function s(e){var i=h(),s=i._rgba=[];return e=e.toLowerCase(),p(r,function(t,n){var o,a=n.re.exec(e),r=a&&n.parse(a),h=n.space||"rgba";if(r)return o=i[h](r),i[l[h].cache]=o[l[h].cache],s=i._rgba=o._rgba,!1}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[e]}function n(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var o,a=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=h.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(l,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(e,n,a,r){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(n),n=void 0);var c=this,u=t.type(e),d=this._rgba=[];return void 0!==n&&(e=[e,n,a,r],u="array"),"string"===u?this.parse(s(e)||o._default):"array"===u?(p(l.rgba.props,function(t,s){d[s.idx]=i(e[s.idx],s)}),this):"object"===u?(e instanceof h?p(l,function(t,i){e[i.cache]&&(c[i.cache]=e[i.cache].slice())}):p(l,function(s,n){var o=n.cache;p(n.props,function(t,s){if(!c[o]&&n.to){if("alpha"===t||null==e[t])return;c[o]=n.to(c._rgba)}c[o][s.idx]=i(e[t],s,!0)}),c[o]&&t.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):void 0},is:function(t){var e=h(t),i=!0,s=this;return p(l,function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],p(n.props,function(t,e){if(null!=a[e.idx])return i=a[e.idx]===o[e.idx]})),i}),i},_space:function(){var t=[],e=this;return p(l,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),o=l[n],a=0===this.alpha()?h("transparent"):this,r=a[o.cache]||o.to(a._rgba),u=r.slice();return s=s[o.cache],p(o.props,function(t,n){var o=n.idx,a=r[o],h=s[o],l=c[n.type]||{};null!==h&&(null===a?u[o]=h:(l.mod&&(h-a>l.mod/2?a+=l.mod:a-h>l.mod/2&&(a-=l.mod)),u[o]=i((h-a)*e+a,n)))}),this[n](u)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,l.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},l.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=s<=.5?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},p(l,function(e,s){var n=s.props,o=s.cache,r=s.to,l=s.from;h.fn[e]=function(e){if(r&&!this[o]&&(this[o]=r(this._rgba)),void 0===e)return this[o].slice();var s,a=t.type(e),c="array"===a||"object"===a?e:arguments,u=this[o].slice();return p(n,function(t,e){var s=c["object"===a?t:e.idx];null==s&&(s=u[e.idx]),u[e.idx]=i(s,e)}),l?(s=h(l(u)),s[o]=u,s):h(u)},p(n,function(i,s){h.fn[i]||(h.fn[i]=function(n){var o,r=t.type(n),h="alpha"===i?this._hsla?"hsla":"rgba":e,l=this[h](),c=l[s.idx];return"undefined"===r?c:("function"===r&&(n=n.call(this,c),r=t.type(n)),null==n&&s.empty?this:("string"===r&&(o=a.exec(n))&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1)),l[s.idx]=n,this[h](l)))})})}),h.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=h(o||n),!u.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||!t.fx.step[s]&&isNaN(parseFloat(o))||(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){return{el:t(this),start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){var i,s;for(s=0;s<e.length;s++)null!==e[s]&&(i=t.data("ui-effects-"+e[s]),void 0===i&&(i=""),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):a.call(n[0],s,i)}var s=e.apply(this,arguments),n=s.mode,o=s.queue,a=t.effects.effect[s.effect];return t.fx.off||!a?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):!1===o?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t,e){var i=0,s={},n={};s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){if("active"===t)return void this._activate(e);"event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,s=this.options,n=s.heightStyle,o=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),s=i.attr("id"),n=i.next(),o=n.attr("id");s||(s=a+"-header-"+e,i.attr("id",s)),o||(o=a+"-panel-"+e,n.attr("id",o)),i.attr("aria-controls",o),n.attr("aria-labelledby",s)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(s.event),"fill"===n?(e=o.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:a?t():n,newPanel:r};e.preventDefault(),o&&!i.collapsible||!1===this._trigger("beforeActivate",e,l)||(i.active=!a&&this.headers.index(n),this.active=o?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-expanded":"false","aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,i){var o,a,r,h=this,l=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){h._toggleComplete(i)};return"number"==typeof d&&(r=d),"string"==typeof d&&(a=d),a=a||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(s,{duration:r,easing:a,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:r,easing:a,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?l+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-l),l=0)}})):e.animate(s,r,a,p):t.animate(n,r,a,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){if(s)return s=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(s){e===i&&t.__response(s),--t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){var i,s,n,o,a="ui-button ui-widget ui-state-default ui-corner-all",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},l=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,u=c?"":"ui-state-active";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass("ui-state-focus")}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass("ui-state-focus")}),c&&(this.element.bind("change"+this.eventNamespace,function(){o||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(o=!1,s=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||s===t.pageX&&n===t.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];l(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(r.disabled)return!1;t(this).addClass("ui-state-active"),i=this,e.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(r.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(r.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-hover ui-state-active  "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?l(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),"focus"!==s&&"both"!==s||e.focus(this._showDatepicker),"button"!==s&&"both"!==s||(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,o,r){var h,l,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),n(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var o,a,r,h,l=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null;o=i||{},"string"==typeof i&&(o={},o[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),n(l.settings,o),null!==r&&void 0!==o.dateFormat&&void 0===o.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==o.dateFormat&&void 0===o.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);if(t.datepicker._get(n,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||s<" "||!i||i.indexOf(s)>-1},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,o,a,r,h,l;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),o=s?s.apply(e,[e,i]):{},!1!==o&&(n(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),l):i.dpDiv[h||"show"](h?l:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,s=this._getNumberOfMonths(e),n=s[1];e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),s=this._get(r,"duration"),n=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),s,n):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===s)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,_=-1,b=!1,y=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{1,"+s+"}"),o=i.substring(h).match(n);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];if(i.substr(h,s.length).toLowerCase()===s.toLowerCase())return o=e[0],h+=s.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":k("D",u,d);break;case"o":_=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),_>-1)for(m=1,v=_;;){if(o=this._getDaysInMonth(g,m-1),v<=o)break;m++,v-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,v)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=null==i||""===i?s:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=s.getFullYear(),o=s.getMonth(),a=s.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=r.exec(i);h;){switch(h[2]||"d"){case"d":case"D":a+=parseInt(h[1],10);break;case"w":case"W":a+=7*parseInt(h[1],10);break;case"m":case"M":o+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(n,o));break;case"y":case"Y":n+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(n,o))}h=r.exec(i)}return new Date(n,o,a)}(i):"number"==typeof i?isNaN(i)?s:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return n=n&&"Invalid Date"===n.toString()?s:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,v,_,b,y,w,k,x,D,C,I,P,T,M,S,z,A,H,W,E,N,O,F,R,L=new Date,j=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),X=1!==q[0]||1!==q[1],$=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),e=G&&e<G?G:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-Q,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+Q,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?$:j,a=U?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;k<q[0];k++){for(x="",this.maxRows=4,D=0;D<q[1];D++){if(C=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",P="",X){if(P+="<div class='ui-datepicker-group",q[1]>1)switch(D){case 0:P+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case q[1]-1:P+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:P+=" ui-datepicker-group-middle",I=""}P+="'>"}for(P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,tt,G,J,k>0||D>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)M=(w+c)%7,T+="<th"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(P+=T+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,A=Math.ceil((z+S)/7),H=X&&this.maxRows>A?this.maxRows:A,this.maxRows=H,W=this._daylightSavingAdjust(new Date(tt,Z,1-z)),E=0;E<H;E++){for(P+="<tr>",N=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(W)+"</td>":"",w=0;w<7;w++)O=m?m.apply(t.input?t.input[0]:null,[W]):[!0,""],F=W.getMonth()!==Z,R=F&&!_||!O[0]||G&&W<G||J&&W>J,N+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(W.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===W.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(W.getTime()===$.getTime()?" "+this._currentClass:"")+(W.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+W.getMonth()+"' data-year='"+W.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+W.getDate()+"</span>":"<a class='ui-state-default"+(W.getTime()===j.getTime()?" ui-state-highlight":"")+(W.getTime()===$.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W);P+=N+"</tr>"}Z++,Z>11&&(Z=0,tt++),P+="</tbody></table>"+(X?"</div>"+(q[0]>0&&D===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=P}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!h||c>=s.getMonth())&&(!l||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&m&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t,e){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open")},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length)return void this.uiDialog.removeClass("ui-dialog-buttons");t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){s.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,o=!1,a={};t.each(e,function(t,e){n._setOption(t,e),t in i&&(o=!0),t in s&&(a[t]=e)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(s){e._allowInteraction(s)||(s.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],n=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(s=i.split?i.split(" "):[i[0],i[1]],1===s.length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(n[t]=s[t],s[t]=e)}),i={my:s[0]+(n[0]<0?n[0]:"+"+n[0])+" "+s[1]+(n[1]<0?n[1]:"+"+n[1]),at:s.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t,e){var i=/up|down|vertical/,s=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,n){var o,a,r,h=t(this),l=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(h,e.mode||"hide"),u=e.direction||"up",d=i.test(u),p=d?"height":"width",f=d?"top":"left",g=s.test(u),m={},v="show"===c;h.parent().is(".ui-effects-wrapper")?t.effects.save(h.parent(),l):t.effects.save(h,l),h.show(),o=t.effects.createWrapper(h).css({overflow:"hidden"}),a=o[p](),r=parseFloat(o.css(f))||0,m[p]=v?a:0,g||(h.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:a+r),v&&(o.css(p,0),g||o.css(f,r+a)),o.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&h.hide(),t.effects.restore(h,l),t.effects.removeWrapper(h),n()}})}}(jQuery),function(t,e){t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,c="show"===h,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=a.queue(),y=b.length;for((c||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,g,m)),l&&(d/=Math.pow(2,p-1)),o={},o[v]=0,s=0;s<p;s++)n={},n[v]=(_?"-=":"+=")+d,a.animate(n,g,m).animate(o,g,m),d=l?2*d:d/2;l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,a.animate(n,g,m)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()}}(jQuery),function(t,e){t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"hide"),l="show"===h,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?s:a,o=n[d](),l&&(n.css(d,0),n.css(p,o/2)),f[d]=l?o:0,f[p]=l?0:o/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t,e){t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===c?-s:s),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t,e){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(o=0;o<u;o++)for(h=m.top+o*_,c=o-(u-1)/2,a=0;a<d;a++)r=m.left+a*v,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?l*v:0),top:h+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:l*v),top:h+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}}(jQuery),function(t,e){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t,e){t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=h?n[0]:c,v[f[1]]=h?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})}}(jQuery),function(t,e){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})}}(jQuery),function(t,e){t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),c=e.duration/l,u=0,d=n.queue(),p=d.length;for(!a&&n.is(":visible")||(n.css("opacity",0).show(),u=1),s=1;s<l;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()}}(jQuery),function(t,e){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},"box"!==g&&"both"!==g||(o.from.y!==o.to.y&&(_=_.concat(u),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),"content"!==g&&"both"!==g||o.from.y!==o.to.y&&(_=_.concat(c).concat(l),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(n=t.effects.getBaseline(m,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),"content"!==g&&"both"!==g||(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=r.concat(u).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,u,o.from.y,i.from),i.to=t.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t,e){t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,g[d]=(p?"+=":"-=")+2*h,m[d]=(p?"-=":"+=")+2*h,n.animate(f,u,e.easing),s=1;s<l;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}}(jQuery),function(t,e){t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(s)?"-"+s:-s:s),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t,e){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t,e){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,o,a,r,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,n=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===n?a=!0:o=n+o,r=new RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=a&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(o=String.fromCharCode(e.keyCode),r=new RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),n<0?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(e){var i,s,n;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=s.children()[0];return t("body").append(s),e=n.offsetWidth,s.css("overflow","scroll"),i=n.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),k=(e.collision||"flip").split(" "),x={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),o=i(x.at,p,g),v.left+=o[0],v.top+=o[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,C=d+_+s(this,"marginBottom")+w.height,I=t.extend({},v),P=i(x.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?I.left-=u:"center"===e.my[0]&&(I.left-=u/2),"bottom"===e.my[1]?I.top-=d:"center"===e.my[1]&&(I.top-=d/2),I.left+=P[0],I.top+=P[1],t.support.offsetFractions||(I.left=h(I.left),I.top=h(I.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[k[i]]&&t.ui.position[k[i]][s](I,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:C,offset:[o[0]+P[0],o[1]+P[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(l=function(t){var i=m.left-I.left,s=i+p-u,n=m.top-I.top,o=n+g-d,h={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:I.left,top:I.top,width:u,height:d},horizontal:s<0?"left":i>0?"right":"center",vertical:o<0?"top":n>0?"bottom":"middle"};p<u&&r(i+s)<p&&(h.horizontal="center"),g<d&&r(n+o)<g&&(h.vertical="middle"),a(r(i),r(s))>a(r(n),r(o))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),c.offset(t.extend(I,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth>o?h>0&&l<=0?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):t.left=l>0&&h<=0?n:h>l?n+o-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight>o?h>0&&l<=0?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):t.top=l>0&&h<=0?n:h>l?n+o-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((i=t.left+d+p+f+e.collisionWidth-a-o)<0||i<r(c))&&(t.left+=d+p+f):u>0&&((s=t.left-e.collisionPosition.marginLeft+d+p+f-h)>0||r(s)<u)&&(t.left+=d+p+f)},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-a-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?(s=t.top+p+f+g+e.collisionHeight-a-o,t.top+p+f+g>c&&(s<0||s<r(c))&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,t.top+p+f+g>u&&(i>0||r(i)<u)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)e.style[o]=s[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&n<11,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t,e){t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;e<i;e++)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-l.values(e));(n>i||n===i&&(e===l._lastChangedValue||l.values(e)===c.min))&&(n=i,o=t(this),a=e)}),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),r=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-r.left-o.width()/2,top:e.pageY-r.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),s<0&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>s||1===e&&i<s)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),!1!==o&&this.values(e,i,!0))):i!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<n;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===h.options.range&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,n,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,o)))return}switch(n=this.options.step,i=s=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+n);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-n)}this._slide(e,o,s)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++n}function s(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var n=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){if(t(n).attr("aria-controls")===s)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s!==this.options.active&&s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var s=this.tabs.length-1;-1!==t.inArray(function(){return e>s&&(e=0),e<0&&(e=s),e}(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var o,a,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(o=n.hash,a=e.element.find(e._sanitizeSelector(o))):(r=e._tabId(l),o="#"+r,a=e.element.find(o),a.length||(a=e._createPanel(r),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o.substring(1),"aria-labelledby":h}),a.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)!0===e||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!r&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,o=this.tabs.eq(e),a=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),h={tab:o,panel:r};s(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;if("disabled"===e)return this[i?"_disable":"_enable"](),void(this.options[e]=i);this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)})},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;if("string"==typeof s)return this._open(e,t,s);(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}))&&this._open(e,t,i)},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return void a.find(".ui-tooltip-content").html(n);s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})}(jQuery);
!function(o){function t(o,t){if(!(o.originalEvent.touches.length>1)){o.preventDefault();var e=o.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(n)}}if(o.support.touch="ontouchend"in document,o.support.touch){var e,n=o.ui.mouse.prototype,u=n._mouseInit;n._touchStart=function(o){var n=this;!e&&n._mouseCapture(o.originalEvent.changedTouches[0])&&(e=!0,n._touchMoved=!1,t(o,"mouseover"),t(o,"mousemove"),t(o,"mousedown"))},n._touchMove=function(o){e&&(this._touchMoved=!0,t(o,"mousemove"))},n._touchEnd=function(o){e&&(t(o,"mouseup"),t(o,"mouseout"),this._touchMoved||t(o,"click"),e=!1)},n._mouseInit=function(){var t=this;t.element.bind("touchstart",o.proxy(t,"_touchStart")).bind("touchmove",o.proxy(t,"_touchMove")).bind("touchend",o.proxy(t,"_touchEnd")),u.call(t)}}}(jQuery);
!function(i){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera);
var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,r){return t&&eachProp(t,function(t,n){!i&&hasProp(e,n)||(r&&"string"!=typeof t?(e[n]||(e[n]={}),mixin(e[n],t,i,r)):e[n]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}function newContext(e){function t(e){var t,i;for(t=0;e[t];t+=1)if("."===(i=e[t]))e.splice(t,1),t-=1;else if(".."===i){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function i(e,i,r){var n,a,o,s,c,u,p,d,f,l,h,m=i&&i.split("/"),g=m,v=y.map,b=v&&v["*"];if(e&&"."===e.charAt(0)&&(i?(g=getOwn(y.pkgs,i)?m=[i]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),a=getOwn(y.pkgs,n=e[0]),e=e.join("/"),a&&e===n+"/"+a.main&&(e=n)):0===e.indexOf("./")&&(e=e.substring(2))),r&&(m||b)&&v){for(s=e.split("/"),c=s.length;c>0;c-=1){if(p=s.slice(0,c).join("/"),m)for(u=m.length;u>0;u-=1)if((o=getOwn(v,m.slice(0,u).join("/")))&&(o=getOwn(o,p))){d=o,f=c;break}if(d)break;!l&&b&&getOwn(b,p)&&(l=getOwn(b,p),h=c)}!d&&l&&(d=l,f=h),d&&(s.splice(0,f,d),e=s.join("/"))}return e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===q.contextName)return t.parentNode.removeChild(t),!0})}function n(e){var t=getOwn(y.paths,e);if(t&&isArray(t)&&t.length>1)return r(e),t.shift(),q.require.undef(e),q.require([e]),!0}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function o(e,t,r,n){var o,s,c,u,p=null,d=t?t.name:null,f=e,l=!0,h="";return e||(l=!1,e="_@r"+(j+=1)),u=a(e),p=u[0],e=u[1],p&&(p=i(p,d,n),s=getOwn(O,p)),e&&(p?h=s&&s.normalize?s.normalize(e,function(e){return i(e,d,n)}):i(e,d,n):(h=i(e,d,n),u=a(h),p=u[0],h=u[1],r=!0,o=q.nameToUrl(h))),c=!p||s||r?"":"_unnormalized"+(A+=1),{prefix:p,name:h,parentMap:t,unnormalized:!!c,url:o,originalName:f,isDefine:l,id:(p?p+"!"+h:h)+c}}function s(e){var t=e.id,i=getOwn(k,t);return i||(i=k[t]=new q.Module(e)),i}function c(e,t,i){var r=e.id,n=getOwn(k,r);!hasProp(O,r)||n&&!n.defineEmitComplete?s(e).on(t,i):"defined"===t&&i(O[r])}function u(e,t){var i=e.requireModules,r=!1;t?t(e):(each(i,function(t){var i=getOwn(k,t);i&&(i.error=e,i.events.error&&(r=!0,i.emit("error",e)))}),r||req.onError(e))}function p(){globalDefQueue.length&&(apsp.apply(M,[M.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete k[e]}function f(e,t,i){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,n){var a=r.id,o=getOwn(k,a);!o||e.depMatched[n]||i[a]||(getOwn(t,a)?(e.defineDep(n,O[a]),e.check()):f(o,t,i))}),i[r]=!0)}function l(){var e,t,i,a,o=1e3*y.waitSeconds,s=o&&q.startTime+o<(new Date).getTime(),c=[],p=[],d=!1,h=!0;if(!b){if(b=!0,eachProp(k,function(i){if(e=i.map,t=e.id,i.enabled&&(e.isDefine||p.push(i),!i.error))if(!i.inited&&s)n(t)?(a=!0,d=!0):(c.push(t),r(t));else if(!i.inited&&i.fetched&&e.isDefine&&(d=!0,!e.prefix))return h=!1}),s&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=q.contextName,u(i);h&&each(p,function(e){f(e,{},{})}),s&&!a||!d||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,l()},50)),b=!1}}function h(e){hasProp(O,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,q.onScriptLoad,"load","onreadystatechange"),m(t,q.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(p();M.length;){if(e=M.shift(),null===e[0])return u(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var b,x,q,E,w,y={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},k={},S={},M=[],O={},P={},j=1,A=1;return E={require:function(e){return e.require?e.require:e.require=q.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?e.exports:e.exports=O[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return y.config&&getOwn(y.config,e.map.id)||{}},exports:O[e.map.id]}}},x=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(y.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},x.prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,q.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,q.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,r=this.depExports,n=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error)try{n=q.execCb(i,a,r,n)}catch(t){e=t}else n=q.execCb(i,a,r,n);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?n=t.exports:void 0===n&&this.usingExports&&(n=this.exports)),e)return e.requireMap=this.map,e.requireModules=[this.map.id],e.requireType="define",u(this.error=e)}else n=a;this.exports=n,this.map.isDefine&&!this.ignore&&(O[i]=n,req.onResourceLoad&&req.onResourceLoad(q,this.map,this.depMaps)),delete k[i],this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=o(e.prefix);this.depMaps.push(r),c(r,"defined",bind(this,function(r){var n,a,p,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,h=q.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized)return r.normalize&&(f=r.normalize(f,function(e){return i(e,l,!0)})||""),a=o(e.prefix+"!"+f,this.map.parentMap),c(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((p=getOwn(k,a.id))&&(this.depMaps.push(a),this.events.error&&p.on("error",bind(this,function(e){this.emit("error",e)})),p.enable()));n=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),n.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),u(e)}),n.fromText=bind(this,function(i,r){var a=e.name,c=o(a),p=useInteractive;r&&(i=r),p&&(useInteractive=!1),s(c),hasProp(y.config,t)&&(y.config[a]=y.config[t]);try{req.exec(i)}catch(e){return u(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}p&&(useInteractive=!0),this.depMaps.push(c),q.completeLoad(a),h([a],n)}),r.load(e.name,h,n,y)})),q.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,r,n;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(E,e.id))return void(this.depExports[t]=n(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&c(e,"error",this.errback)}i=e.id,r=k[i],hasProp(E,i)||!r||r.enabled||q.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&q.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},q={config:y,contextName:e,registry:k,defined:O,urlFetched:P,defQueue:M,Module:x,makeModuleMap:o,nextTick:req.nextTick,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=y.pkgs,i=y.shim,r={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?"map"===t?mixin(y[t],e,!0,!0):mixin(y[t],e,!0):y[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=q.makeShimExports(e)),i[t]=e}),y.shim=i),e.packages&&(each(e.packages,function(e){var i;e="string"==typeof e?{name:e}:e,i=e.location,t[e.name]={name:e.name,location:i||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),y.pkgs=t),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&q.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function n(i,a,c){var p,d,f;return r.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),"string"==typeof i?isFunction(a)?u(makeError("requireargs","Invalid require call"),c):t&&hasProp(E,i)?E[i](k[t.id]):req.get?req.get(q,i,t):(d=o(i,t,!1,!0),p=d.id,hasProp(O,p)?O[p]:u(makeError("notloaded",'Module name "'+p+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),q.nextTick(function(){v(),f=s(o(null,t)),f.skipMap=r.skipMap,f.init(i,a,c,{enabled:!0}),l()}),n)}return r=r||{},mixin(n,{isBrowser:isBrowser,toUrl:function(e){var r,n,a=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==a&&(!s||a>1)&&(r=e.substring(a,e.length),e=e.substring(0,a)),n=q.nameToUrl(i(e,t&&t.id,!0),r||".fake"),r?n:n.substring(0,n.length-5)},defined:function(e){return hasProp(O,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(O,e)||hasProp(k,e)}}),t||(n.undef=function(e){p();var i=o(e,t,!0),r=getOwn(k,e);delete O[e],delete P[i.url],delete S[e],r&&(r.events.defined&&(S[e]=r.events),d(e))}),n},enable:function(e){getOwn(k,e.id)&&s(e).enable()},completeLoad:function(e){var t,i,r,a=getOwn(y.shim,e)||{},o=a.exports;for(p();M.length;){if(i=M.shift(),null===i[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);h(i)}if(r=getOwn(k,e),!t&&!hasProp(O,e)&&r&&!r.inited){if(!(!y.enforceDefine||o&&getGlobal(o)))return n(e)?void 0:u(makeError("nodefine","No define call for "+e,null,[e]));h([e,a.deps||[],a.exportsFn])}l()},nameToUrl:function(e,t){var i,r,n,a,o,s,c,u,p;if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(i=y.paths,r=y.pkgs,o=e.split("/"),s=o.length;s>0;s-=1){if(c=o.slice(0,s).join("/"),n=getOwn(r,c),p=getOwn(i,c)){isArray(p)&&(p=p[0]),o.splice(0,s,p);break}if(n){a=e===n.name?n.location+"/"+n.main:n.location,o.splice(0,s,a);break}}u=o.join("/"),u+=t||(/\?/.test(u)?"":".js"),u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":y.baseUrl)+u}return y.urlArgs?u+(-1===u.indexOf("?")?"?":"&")+y.urlArgs:u},load:function(e,t){req.load(q,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);q.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!n(t.id))return u(makeError("scripterror","Script error",e,[t.id]))}},q.require=q.makeRequire(),q}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.4",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,a,o="_";return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=i,i=r):e=[]),a&&a.context&&(o=a.context),n=getOwn(contexts,o),n||(n=contexts[o]=req.s.newContext(o)),a&&n.configure(a),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version="2.1.4",req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts._;return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=function(e){throw e},req.load=function(e,t,i){var r,n=e&&e.config||{};if(isBrowser)return r=n.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),r.type=n.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=i,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;isWebWorker&&(importScripts(i),e.completeLoad(t))},isBrowser&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript),dataMain=dataMain.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(e,t,i){var r,n;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=[]),!t.length&&isFunction(i)&&i.length&&(i.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t)),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")]),(n?n.defQueue:globalDefQueue).push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this);
(function(){function n(t,r,e){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return t===r;if(t._chain&&(t=t._wrapped),r._chain&&(r=r._wrapped),t.isEqual&&A.isFunction(t.isEqual))return t.isEqual(r);if(r.isEqual&&A.isFunction(r.isEqual))return r.isEqual(t);var u=l.call(t);if(u!=l.call(r))return!1;switch(u){case"[object String]":return t==String(r);case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase}if("object"!=typeof t||"object"!=typeof r)return!1;for(var i=e.length;i--;)if(e[i]==t)return!0;e.push(t);var c=0,a=!0;if("[object Array]"==u){if(c=t.length,a=c==r.length)for(;c--&&(a=c in t==c in r&&n(t[c],r[c],e)););}else{if("constructor"in t!="constructor"in r||t.constructor!=r.constructor)return!1;for(var o in t)if(A.has(t,o)&&(c++,!(a=A.has(r,o)&&n(t[o],r[o],e))))break;if(a){for(o in r)if(A.has(r,o)&&!c--)break;a=!c}}return e.pop(),a}var t=this,r=t._,e={},u=Array.prototype,i=Object.prototype,c=Function.prototype,a=u.slice,o=u.unshift,l=i.toString,f=i.hasOwnProperty,s=u.forEach,p=u.map,h=u.reduce,v=u.reduceRight,d=u.filter,y=u.every,g=u.some,m=u.indexOf,b=u.lastIndexOf,x=Array.isArray,j=Object.keys,_=c.bind,A=function(n){return new R(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=A),exports._=A):t._=A,A.VERSION="1.3.3";var w=A.each=A.forEach=function(n,t,r){if(null!=n)if(s&&n.forEach===s)n.forEach(t,r);else if(n.length===+n.length){for(var u=0,i=n.length;u<i;u++)if(u in n&&t.call(r,n[u],u,n)===e)return}else for(var c in n)if(A.has(n,c)&&t.call(r,n[c],c,n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(w(n,function(n,u,i){e[e.length]=t.call(r,n,u,i)}),n.length===+n.length&&(e.length=n.length),e)},A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(w(n,function(n,i,c){u?r=t.call(e,r,n,i,c):(r=n,u=!0)}),!u)throw new TypeError("Reduce of empty array with no initial value");return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=A.toArray(n).reverse();return e&&!u&&(t=A.bind(t,e)),u?A.reduce(i,t,r,e):A.reduce(i,t)},A.find=A.detect=function(n,t,r){var e;return E(n,function(n,u,i){if(t.call(r,n,u,i))return e=n,!0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(w(n,function(n,u,i){t.call(r,n,u,i)&&(e[e.length]=n)}),e)},A.reject=function(n,t,r){var e=[];return null==n?e:(w(n,function(n,u,i){t.call(r,n,u,i)||(e[e.length]=n)}),e)},A.every=A.all=function(n,t,r){var u=!0;return null==n?u:y&&n.every===y?n.every(t,r):(w(n,function(n,i,c){if(!(u=u&&t.call(r,n,i,c)))return e}),!!u)};var E=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:g&&n.some===g?n.some(t,r):(w(n,function(n,i,c){if(u||(u=t.call(r,n,i,c)))return e}),!!u)};A.include=A.contains=function(n,t){var r=!1;return null==n?r:m&&n.indexOf===m?-1!=n.indexOf(t):r=E(n,function(n){return n===t})},A.invoke=function(n,t){var r=a.call(arguments,2);return A.map(n,function(n){return(A.isFunction(t)?t||n:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0])return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-1/0;var e={computed:-1/0};return w(n,function(n,u,i){var c=t?t.call(r,n,u,i):n;c>=e.computed&&(e={value:n,computed:c})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0])return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0};return w(n,function(n,u,i){var c=t?t.call(r,n,u,i):n;c<e.computed&&(e={value:n,computed:c})}),e.value},A.shuffle=function(n){var t,r=[];return w(n,function(n,e,u){t=Math.floor(Math.random()*(e+1)),r[e]=r[t],r[t]=n}),r},A.sortBy=function(n,t,r){var e=A.isFunction(t)?t:function(n){return n[t]};return A.pluck(A.map(n,function(n,t,u){return{value:n,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;return void 0===r?1:void 0===e?-1:r<e?-1:r>e?1:0}),"value")},A.groupBy=function(n,t){var r={},e=A.isFunction(t)?t:function(n){return n[t]};return w(n,function(n,t){var u=e(n,t);(r[u]||(r[u]=[])).push(n)}),r},A.sortedIndex=function(n,t,r){r||(r=A.identity);for(var e=0,u=n.length;e<u;){var i=e+u>>1;r(n[i])<r(t)?e=i+1:u=i}return e},A.toArray=function(n){return n?A.isArray(n)?a.call(n):A.isArguments(n)?a.call(n):n.toArray&&A.isFunction(n.toArray)?n.toArray():A.values(n):[]},A.size=function(n){return A.isArray(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==t||r?n[0]:a.call(n,0,t)},A.initial=function(n,t,r){return a.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==t||r?n[n.length-1]:a.call(n,Math.max(n.length-t,0))},A.rest=A.tail=function(n,t,r){return a.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,function(n){return!!n})},A.flatten=function(n,t){return A.reduce(n,function(n,r){return A.isArray(r)?n.concat(t?r:A.flatten(r)):(n[n.length]=r,n)},[])},A.without=function(n){return A.difference(n,a.call(arguments,1))},A.uniq=A.unique=function(n,t,r){var e=r?A.map(n,r):n,u=[];return n.length<3&&(t=!0),A.reduce(e,function(r,e,i){return(t?A.last(r)===e&&r.length:A.include(r,e))||(r.push(e),u.push(n[i])),r},[]),u},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=A.intersect=function(n){var t=a.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=A.flatten(a.call(arguments,1),!0);return A.filter(n,function(n){return!A.include(t,n)})},A.zip=function(){for(var n=a.call(arguments),t=A.max(A.pluck(n,"length")),r=new Array(t),e=0;e<t;e++)r[e]=A.pluck(n,""+e);return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e,u;if(r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;if(m&&n.indexOf===m)return n.indexOf(t);for(e=0,u=n.length;e<u;e++)if(e in n&&n[e]===t)return e;return-1},A.lastIndexOf=function(n,t){if(null==n)return-1;if(b&&n.lastIndexOf===b)return n.lastIndexOf(t);for(var r=n.length;r--;)if(r in n&&n[r]===t)return r;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);u<e;)i[u++]=n,n+=r;return i};var O=function(){};A.bind=function(n,t){var r,e;if(n.bind===_&&_)return _.apply(n,a.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return e=a.call(arguments,2),r=function(){if(!(this instanceof r))return n.apply(t,e.concat(a.call(arguments)));O.prototype=n.prototype;var u=new O,i=n.apply(u,e.concat(a.call(arguments)));return Object(i)===i?i:u}},A.bindAll=function(n){var t=a.call(arguments,1);return 0==t.length&&(t=A.functions(n)),w(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=a.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(a.call(arguments,1)))},A.throttle=function(n,t){var r,e,u,i,c,a,o=A.debounce(function(){c=i=!1},t);return function(){r=this,e=arguments;var l=function(){u=null,c&&n.apply(r,e),o()};return u||(u=setTimeout(l,t)),i?c=!0:a=n.apply(r,e),o(),i=!0,a}},A.debounce=function(n,t,r){var e;return function(){var u=this,i=arguments,c=function(){e=null,r||n.apply(u,i)};r&&!e&&n.apply(u,i),clearTimeout(e),e=setTimeout(c,t)}},A.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments))}},A.wrap=function(n,t){return function(){var r=[n].concat(a.call(arguments,0));return t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return n<=0?t():function(){if(--n<1)return t.apply(this,arguments)}},A.keys=j||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&(t[t.length]=r);return t},A.values=function(n){return A.map(n,A.identity)},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return w(a.call(arguments,1),function(t){for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={};return w(A.flatten(a.call(arguments,1)),function(r){r in n&&(t[r]=n[r])}),t},A.defaults=function(n){return w(a.call(arguments,1),function(t){for(var r in t)null==n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n},A.isEqual=function(t,r){return n(t,r,[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!=n.nodeType)},A.isArray=x||function(n){return"[object Array]"==l.call(n)},A.isObject=function(n){return n===Object(n)},A.isArguments=function(n){return"[object Arguments]"==l.call(n)},A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),A.isFunction=function(n){return"[object Function]"==l.call(n)},A.isString=function(n){return"[object String]"==l.call(n)},A.isNumber=function(n){return"[object Number]"==l.call(n)},A.isFinite=function(n){return A.isNumber(n)&&isFinite(n)},A.isNaN=function(n){return n!==n},A.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==l.call(n)},A.isDate=function(n){return"[object Date]"==l.call(n)},A.isRegExp=function(n){return"[object RegExp]"==l.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return f.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=0;e<n;e++)t.call(r,e)},A.escape=function(n){return(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},A.result=function(n,t){if(null==n)return null;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){w(A.functions(n),function(t){M(t,A[t]=n[t])})};var F=0;A.uniqueId=function(n){var t=F++;return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var k in q)q[q[k]]=k;var S=function(n){return n.replace(/\\(\\|'|r|n|t|u2028|u2029)/g,function(n,t){return q[t]})};A.template=function(n,t,r){r=A.defaults(r||{},A.templateSettings);var e="__p+='"+n.replace(/\\|'|\r|\n|\t|\u2028|\u2029/g,function(n){return"\\"+q[n]}).replace(r.escape||/.^/,function(n,t){return"'+\n_.escape("+S(t)+")+\n'"}).replace(r.interpolate||/.^/,function(n,t){return"'+\n("+S(t)+")+\n'"}).replace(r.evaluate||/.^/,function(n,t){return"';\n"+S(t)+"\n;__p+='"})+"';\n";r.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n";var u=new Function(r.variable||"obj","_",e);if(t)return u(t,A);var i=function(n){return u.call(this,n,A)};return i.source="function("+(r.variable||"obj")+"){\n"+e+"}",i},A.chain=function(n){return A(n).chain()};var R=function(n){this._wrapped=n};A.prototype=R.prototype;var I=function(n,t){return t?A(n).chain():n},M=function(n,t){R.prototype[n]=function(){var n=a.call(arguments);return o.call(n,this._wrapped),I(t.apply(A,n),this._chain)}};A.mixin(A),w(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];R.prototype[n]=function(){var r=this._wrapped;t.apply(r,arguments);var e=r.length;return"shift"!=n&&"splice"!=n||0!==e||delete r[0],I(r,this._chain)}}),w(["concat","join","slice"],function(n){var t=u[n];R.prototype[n]=function(){return I(t.apply(this._wrapped,arguments),this._chain)}}),R.prototype.chain=function(){return this._chain=!0,this},R.prototype.value=function(){return this._wrapped}}).call(this);
(function(){var t,e=this,i=e.Backbone,s=Array.prototype.slice,n=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var r=e._;r||"undefined"==typeof require||(r=require("underscore"));var a=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){a=t},t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=t.Events={on:function(t,e,i){var s,n,r,a,o;if(!e)return this;for(t=t.split(/\s+/),s=this._callbacks||(this._callbacks={});n=t.shift();)o=s[n],r=o?o.tail:{},r.next=a={},r.context=i,r.callback=e,s[n]={tail:a,next:o?o.next:r};return this},off:function(t,e,i){var s,n,a,o,h,c;if(n=this._callbacks){if(!(t||e||i))return delete this._callbacks,this;for(t=t?t.split(/\s+/):r.keys(n);s=t.shift();)if(a=n[s],delete n[s],a&&(e||i))for(o=a.tail;(a=a.next)!==o;)h=a.callback,c=a.context,(e&&h!==e||i&&c!==i)&&this.on(s,h,c);return this}},trigger:function(t){var e,i,n,r,a,o,h;if(!(n=this._callbacks))return this;for(o=n.all,t=t.split(/\s+/),h=s.call(arguments,1);e=t.shift();){if(i=n[e])for(r=i.tail;(i=i.next)!==r;)i.callback.apply(i.context||this,h);if(i=o)for(r=i.tail,a=[e].concat(h);(i=i.next)!==r;)i.callback.apply(i.context||this,a)}return this}};o.bind=o.on,o.unbind=o.off;var h=t.Model=function(t,e){var i;t||(t={}),e&&e.parse&&(t=this.parse(t)),(i=w(this,"defaults"))&&(t=r.extend({},i,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=r.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=r.clone(this.attributes),this.initialize.apply(this,arguments)};r.extend(h.prototype,o,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return r.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var i=this.get(t);return this._escapedAttributes[t]=r.escape(null==i?"":""+i)},has:function(t){return null!=this.get(t)},set:function(t,e,i){var s,n,a;if(r.isObject(t)||null==t?(s=t,i=e):(s={},s[t]=e),i||(i={}),!s)return this;if(s instanceof h&&(s=s.attributes),i.unset)for(n in s)s[n]=void 0;if(!this._validate(s,i))return!1;this.idAttribute in s&&(this.id=s[this.idAttribute]);var o=i.changes={},c=this.attributes,u=this._escapedAttributes,l=this._previousAttributes||{};for(n in s)a=s[n],(!r.isEqual(c[n],a)||i.unset&&r.has(c,n))&&(delete u[n],(i.silent?this._silent:o)[n]=!0),i.unset?delete c[n]:c[n]=a,r.isEqual(l[n],a)&&r.has(c,n)==r.has(l,n)?(delete this.changed[n],delete this._pending[n]):(this.changed[n]=a,i.silent||(this._pending[n]=!0));return i.silent||this.change(i),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(r.clone(this.attributes),t)},fetch:function(e){e=e?r.clone(e):{};var i=this,s=e.success;return e.success=function(t,n,r){if(!i.set(i.parse(t,r),e))return!1;s&&s(i,t)},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,i,s){var n,a;if(r.isObject(e)||null==e?(n=e,s=i):(n={},n[e]=i),s=s?r.clone(s):{},s.wait){if(!this._validate(n,s))return!1;a=r.clone(this.attributes)}var o=r.extend({},s,{silent:!0});if(n&&!this.set(n,s.wait?o:s))return!1;var h=this,c=s.success;s.success=function(t,e,i){var a=h.parse(t,i);if(s.wait&&(delete s.wait,a=r.extend(n||{},a)),!h.set(a,s))return!1;c?c(h,t):h.trigger("sync",h,t,s)},s.error=t.wrapError(s.error,h,s);var u=this.isNew()?"create":"update",l=(this.sync||t.sync).call(this,u,this,s);return s.wait&&this.set(a,o),l},destroy:function(e){e=e?r.clone(e):{};var i=this,s=e.success,n=function(){i.trigger("destroy",i,i.collection,e)};if(this.isNew())return n(),!1;e.success=function(t){e.wait&&n(),s?s(i,t):i.trigger("sync",i,t,e)},e.error=t.wrapError(e.error,i,e);var a=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||n(),a},url:function(){var t=w(this,"urlRoot")||w(this.collection,"url")||b();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var s=r.extend({},t.changes,this._silent);this._silent={};for(var i in s)this.trigger("change:"+i,this,this.get(i),t);if(e)return this;for(;!r.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var i in this.changed)this._pending[i]||this._silent[i]||delete this.changed[i];this._previousAttributes=r.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?r.has(this.changed,t):!r.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&r.clone(this.changed);var e,i=!1,s=this._previousAttributes;for(var n in t)r.isEqual(s[n],e=t[n])||((i||(i={}))[n]=e);return i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=r.extend({},this.attributes,t);var i=this.validate(t,e);return!i||(e&&e.error?e.error(this,i,e):this.trigger("error",this,i,e),!1)}});var c=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};r.extend(c.prototype,o,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var i,s,a,o,h,c,u={},l={},d=[];for(e||(e={}),t=r.isArray(t)?t.slice():[t],i=0,a=t.length;i<a;i++){if(!(o=t[i]=this._prepareModel(t[i],e)))throw new Error("Can't add an invalid model to a collection");h=o.cid,c=o.id,u[h]||this._byCid[h]||null!=c&&(l[c]||this._byId[c])?d.push(i):u[h]=l[c]=o}for(i=d.length;i--;)t.splice(d[i],1);for(i=0,a=t.length;i<a;i++)(o=t[i]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);if(this.length+=a,s=null!=e.at?e.at:this.models.length,n.apply(this.models,[s,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(i=0,a=this.models.length;i<a;i++)u[(o=this.models[i]).cid]&&(e.index=i,o.trigger("add",o,this,e));return this},remove:function(t,e){var i,s,n,a;for(e||(e={}),t=r.isArray(t)?t.slice():[t],i=0,s=t.length;i<s;i++)(a=this.getByCid(t[i])||this.get(t[i]))&&(delete this._byId[a.id],delete this._byCid[a.cid],n=this.indexOf(a),this.models.splice(n,1),this.length--,e.silent||(e.index=n,a.trigger("remove",a,this,e)),this._removeReference(a));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,r.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return r.isEmpty(t)?[]:this.filter(function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=r.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return r.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var i=0,s=this.models.length;i<s;i++)this._removeReference(this.models[i]);return this._reset(),this.add(t,r.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var i=this,s=e.success;return e.success=function(t,n,r){i[e.add?"add":"reset"](i.parse(t,r),e),s&&s(i,t)},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var i=this;if(e=e?r.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||i.add(t,e);var s=e.success;return e.success=function(n,r,a){e.wait&&i.add(n,e),s?s(n,r):n.trigger("sync",t,r,e)},t.save(null,e),t},parse:function(t,e){return t},chain:function(){return r(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(e||(e={}),t instanceof h)t.collection||(t.collection=this);else{var i=t;e.collection=this,t=new this.model(i,e),t._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"!=t&&"remove"!=t||i==this)&&("destroy"==t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var u=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];r.each(u,function(t){c.prototype[t]=function(){return r[t].apply(r,[this.models].concat(r.toArray(arguments)))}});var l=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};r.extend(l.prototype,o,{initialize:function(){},route:function(e,i,s){return t.history||(t.history=new d),r.isRegExp(e)||(e=this._routeToRegExp(e)),s||(s=this[i]),t.history.route(e,r.bind(function(n){var r=this._extractParameters(e,n);s&&s.apply(this,r),this.trigger.apply(this,["route:"+i].concat(r)),t.history.trigger("route",this,i,r)},this)),this},navigate:function(e,i){t.history.navigate(e,i)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var i=0,s=t.length;i<s;i++)this.route(t[i][0],t[i][1],this[t[i][1]])}},_routeToRegExp:function(t){return t=t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/:\w+/g,"([^/]+)").replace(/\*\w+/g,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var d=t.History=function(){this.handlers=[],r.bindAll(this,"checkUrl")},f=/msie [\w.]+/;d.started=!1,r.extend(d.prototype,o,{interval:50,getHash:function(t){var e=t?t.location:window.location,i=e.href.match(/#(.*)$/);return i?i[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var i=window.location.search;i&&(t+=i)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(/^[#\/]/,"")},start:function(t){if(d.started)throw new Error("Backbone.history has already been started");d.started=!0,this.options=r.extend({},{root:"/"},this.options,t),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),i=document.documentMode,s=f.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);s&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var n=window.location,o=n.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&n.hash&&(this.fragment=this.getHash().replace(/^[#\/]/,""),window.history.replaceState({},document.title,n.protocol+"//"+n.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),d.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return r.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!d.started)return!1;e&&!0!==e||(e={trigger:e});var i=(t||"").replace(/^[#\/]/,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[e.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,e.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,i){i?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var p=t.View=function(t){this.cid=r.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},g=["model","collection","el","id","attributes","className","tagName"];r.extend(p.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,i){var s=document.createElement(t);return e&&a(s).attr(e),i&&a(s).html(i),s},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof a?t:a(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=w(this,"events"))){this.undelegateEvents();for(var e in t){var i=t[e];if(r.isFunction(i)||(i=this[t[e]]),!i)throw new Error('Method "'+t[e]+'" does not exist');var s=e.match(/^(\S+)\s*(.*)$/),n=s[1],a=s[2];i=r.bind(i,this),n+=".delegateEvents"+this.cid,""===a?this.$el.bind(n,i):this.$el.delegate(a,n,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=r.extend({},this.options,t));for(var e=0,i=g.length;e<i;e++){var s=g[e];t[s]&&(this[s]=t[s])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=w(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t.class=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var v=function(t,e){var i=y(this,t,e);return i.extend=this.extend,i};h.extend=c.extend=l.extend=p.extend=v;var m={create:"POST",update:"PUT",delete:"DELETE",read:"GET"};t.sync=function(e,i,s){var n=m[e];s||(s={});var o={type:n,dataType:"json"};return s.url||(o.url=w(i,"url")||b()),s.data||!i||"create"!=e&&"update"!=e||(o.contentType="application/json",o.data=JSON.stringify(i.toJSON())),t.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),t.emulateHTTP&&("PUT"!==n&&"DELETE"!==n||(t.emulateJSON&&(o.data._method=n),o.type="POST",o.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n)})),"GET"===o.type||t.emulateJSON||(o.processData=!1),a.ajax(r.extend(o,s))},t.wrapError=function(t,e,i){return function(s,n){n=s===e?n:s,t?t(e,n,i):e.trigger("error",e,n,i)}};var _=function(){},y=function(t,e,i){var s;return s=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(s,t),_.prototype=t.prototype,s.prototype=new _,e&&r.extend(s.prototype,e),i&&r.extend(s,i),s.prototype.constructor=s,s.__super__=t.prototype,s},w=function(t,e){return t&&t[e]?r.isFunction(t[e])?t[e]():t[e]:null},b=function(){throw new Error('A "url" property or function must be specified')}}).call(this);
Backbone.Marionette=function(e,t,i){var n={};n.EventBinder=function(){this._eventBindings=[]},t.extend(n.EventBinder.prototype,{bindTo:function(e,t,i,n){n=n||this,e.on(t,i,n);var o={obj:e,eventName:t,callback:i,context:n};return this._eventBindings.push(o),o},unbindFrom:function(e){e.obj.off(e.eventName,e.callback,e.context),this._eventBindings=t.reject(this._eventBindings,function(t){return t===e})},unbindAll:function(){var e=this,i=t.map(this._eventBindings,t.identity);t.each(i,function(t,i){e.unbindFrom(t)})}}),n.EventBinder.extend=e.View.extend,n.View=e.View.extend({constructor:function(){var i=new n.EventBinder;t.extend(this,i),e.View.prototype.constructor.apply(this,arguments),this.bindBackboneEntityTo(this.model,this.modelEvents),this.bindBackboneEntityTo(this.collection,this.collectionEvents),this.bindTo(this,"show",this.onShowCalled,this)},getTemplate:function(){return this.options&&this.options.template?this.options.template:this.template},serializeData:function(){var e;return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e=this.mixinTemplateHelpers(e)},mixinTemplateHelpers:function(e){e=e||{};var i=this.templateHelpers;return t.isFunction(i)&&(i=i.call(this)),t.extend(e,i)},configureTriggers:function(){if(this.triggers){var e=this.triggers,i=this,n={};return t.isFunction(e)&&(e=e.call(this)),t.each(e,function(e,t){n[t]=function(t){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),i.trigger(e)}}),n}},delegateEvents:function(i){i=i||this.events,t.isFunction(i)&&(i=i.call(this));var n={},o=this.configureTriggers();t.extend(n,i,o),e.View.prototype.delegateEvents.call(this,n)},onShowCalled:function(){},close:function(){this.beforeClose&&this.beforeClose(),this.remove(),this.onClose&&this.onClose(),this.trigger("close"),this.unbindAll(),this.unbind()},bindUIElements:function(){if(this.ui){var e=this;this.uiBindings||(this.uiBindings=this.ui),this.ui={},t.each(t.keys(this.uiBindings),function(t){var i=e.uiBindings[t];e.ui[t]=e.$(i)})}},bindBackboneEntityTo:function(e,i){if(e&&i){var n=this;t.each(i,function(t,i){var o=n[t];if(!o)throw new Error("View method '"+t+"' was configured as an event handler, but does not exist.");n.bindTo(e,i,o,n)})}}}),n.ItemView=n.View.extend({constructor:function(){n.View.prototype.constructor.apply(this,arguments),this.initialEvents&&this.initialEvents()},render:function(){this.beforeRender&&this.beforeRender(),this.trigger("before:render",this),this.trigger("item:before:render",this);var e=this.serializeData(),t=this.getTemplate(),i=n.Renderer.render(t,e);return this.$el.html(i),this.bindUIElements(),this.onRender&&this.onRender(),this.trigger("render",this),this.trigger("item:rendered",this),this},close:function(){this.trigger("item:before:close"),n.View.prototype.close.apply(this,arguments),this.trigger("item:closed")}}),n.CollectionView=n.View.extend({constructor:function(){n.View.prototype.constructor.apply(this,arguments),this.initChildViewStorage(),this.initialEvents(),this.onShowCallbacks=new n.Callbacks},initialEvents:function(){this.collection&&(this.bindTo(this.collection,"add",this.addChildView,this),this.bindTo(this.collection,"remove",this.removeItemView,this),this.bindTo(this.collection,"reset",this.render,this))},addChildView:function(e,t,i){this.closeEmptyView();var n=this.getItemView(e);return this.addItemView(e,n,i.index)},onShowCalled:function(){this.onShowCallbacks.run()},triggerBeforeRender:function(){this.beforeRender&&this.beforeRender(),this.trigger("before:render",this),this.trigger("collection:before:render",this)},triggerRendered:function(){this.onRender&&this.onRender(),this.trigger("render",this),this.trigger("collection:rendered",this)},render:function(){return this.triggerBeforeRender(),this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView(),this.triggerRendered(),this},showCollection:function(){var e,t=this;this.collection.each(function(i,n){e=t.getItemView(i),t.addItemView(i,e,n)})},showEmptyView:function(){var t=this.options.emptyView||this.emptyView;if(t&&!this._showingEmptyView){this._showingEmptyView=!0;var i=new e.Model;this.addItemView(i,t,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(e){var t=this.options.itemView||this.itemView;if(!t){var i=new Error("An `itemView` must be specified");throw i.name="NoItemViewError",i}return t},addItemView:function(e,t,i){var n=this,r=this.buildItemView(e,t);this.storeChild(r),this.onItemAdded&&this.onItemAdded(r),this.trigger("item:added",r);var s=this.renderItemView(r,i);r.onShow&&this.onShowCallbacks.add(r.onShow,r);var h=this.bindTo(r,"all",function(){var e=o.call(arguments);e[0]="itemview:"+e[0],e.splice(1,0,r),n.trigger.apply(n,e)});return this.childBindings=this.childBindings||{},this.childBindings[r.cid]=h,s},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,i){var n;return n=t.isFunction(this.itemViewOptions)?this.itemViewOptions(e):this.itemViewOptions,new i(t.extend({model:e},n))},removeItemView:function(e){var t=this.children[e.cid];if(t){var i=this.childBindings[t.cid];i&&(this.unbindFrom(i),delete this.childBindings[t.cid]),t.close(),delete this.children[e.cid]}this.collection&&0!==this.collection.length||this.showEmptyView(),this.trigger("item:removed",t)},appendHtml:function(e,t,i){e.$el.append(t.el)},storeChild:function(e){this.children[e.model.cid]=e},initChildViewStorage:function(){this.children={}},close:function(){this.trigger("collection:before:close"),this.closeChildren(),this.trigger("collection:closed"),n.View.prototype.close.apply(this,arguments)},closeChildren:function(){var e=this;this.children&&t.each(t.clone(this.children),function(t){e.removeItemView(t.model)})}}),n.CompositeView=n.CollectionView.extend({constructor:function(e){n.CollectionView.apply(this,arguments),this.itemView=this.getItemView()},initialEvents:function(){this.collection&&(this.bindTo(this.collection,"add",this.addChildView,this),this.bindTo(this.collection,"remove",this.removeItemView,this),this.bindTo(this.collection,"reset",this.renderCollection,this))},getItemView:function(e){var t=this.options.itemView||this.itemView||this.constructor;if(!t){var i=new Error("An `itemView` must be specified");throw i.name="NoItemViewError",i}return t},render:function(){this.resetItemViewContainer();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.trigger("composite:model:rendered"),this.trigger("render"),this.renderCollection(),this.trigger("composite:rendered"),this},renderCollection:function(){n.CollectionView.prototype.render.apply(this,arguments),this.trigger("composite:collection:rendered")},renderModel:function(){var e={};e=this.serializeData();var t=this.getTemplate();return n.Renderer.render(t,e)},appendHtml:function(e,t){this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){var i;if("$itemViewContainer"in e)i=e.$itemViewContainer;else{if(e.itemViewContainer){if(i=e.$(t.result(e,"itemViewContainer")),i.length<=0){var n=new Error("Missing `itemViewContainer`");throw n.name="ItemViewContainerMissingError",n}}else i=e.$el;e.$itemViewContainer=i}return i},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),n.Region=function(e){this.options=e||{};var i=new n.EventBinder;if(t.extend(this,i,e),!this.el){var o=new Error("An 'el' must be specified");throw o.name="NoElError",o}this.initialize&&this.initialize.apply(this,arguments)},t.extend(n.Region.prototype,e.Events,{show:function(e){this.ensureEl(),this.close(),e.render(),this.open(e),e.onShow&&e.onShow(),e.trigger("show"),this.onShow&&this.onShow(e),this.trigger("view:show",e),this.currentView=e},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return i(e)},open:function(e){this.$el.html(e.el)},close:function(){var e=this.currentView;e&&(e.close&&e.close(),this.trigger("view:closed",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),n.Region.extend=e.View.extend,n.Layout=n.ItemView.extend({regionType:n.Region,constructor:function(){this.initializeRegions(),e.Marionette.ItemView.apply(this,arguments)},render:function(){return this._firstRender?this._firstRender=!1:(this.closeRegions(),this.reInitializeRegions()),n.ItemView.prototype.render.apply(this,arguments)},close:function(){this.closeRegions(),this.destroyRegions(),e.Marionette.ItemView.prototype.close.call(this,arguments)},initializeRegions:function(){this.regionManagers||(this.regionManagers={});var e=this;t.each(this.regions,function(t,i){var n="string"==typeof t,o="string"==typeof t.selector,r=void 0===t.regionType;if(!n&&!o)throw new Error("Region must be specified as a selector string or an object with selector property");var s,h;s=n?t:t.selector,h=r?e.regionType:t.regionType;var l=new h({el:s,getEl:function(t){return e.$(t)}});e.regionManagers[i]=l,e[i]=l})},reInitializeRegions:function(){this.regionManagers&&0===t.size(this.regionManagers)?this.initializeRegions():t.each(this.regionManagers,function(e){e.reset()})},closeRegions:function(){t.each(this.regionManagers,function(e,t){e.close()})},destroyRegions:function(){var e=this;t.each(this.regionManagers,function(t,i){delete e[i]}),this.regionManagers={}}}),n.Application=function(e){this.initCallbacks=new n.Callbacks,this.vent=new n.EventAggregator,this.submodules={};var i=new n.EventBinder;t.extend(this,i,e)},t.extend(n.Application.prototype,e.Events,{addInitializer:function(e){this.initCallbacks.add(e)},start:function(e){this.trigger("initialize:before",e),this.initCallbacks.run(e,this),this.trigger("initialize:after",e),this.trigger("start",e)},addRegions:function(e){var t,i,o;for(o in e)e.hasOwnProperty(o)&&(t=e[o],i="string"==typeof t?new n.Region({el:t}):new t,this[o]=i)},removeRegion:function(e){this[e].close(),delete this[e]},module:function(e,t){var i=o.call(arguments);return i.unshift(this),n.Module.create.apply(n.Module,i)}}),n.Application.extend=e.View.extend,n.AppRouter=e.Router.extend({constructor:function(t){if(e.Router.prototype.constructor.call(this,t),this.appRoutes){var i=this.controller;t&&t.controller&&(i=t.controller),this.processAppRoutes(i,this.appRoutes)}},processAppRoutes:function(e,i){var n,o,r,s,h,l=[],a=this;for(r in i)i.hasOwnProperty(r)&&l.unshift([r,i[r]]);for(s=l.length,h=0;h<s;h++){if(r=l[h][0],o=l[h][1],!(n=e[o])){var c="Method '"+o+"' was not found on the controller",d=new Error(c);throw d.name="NoMethodError",d}n=t.bind(n,e),a.route(r,o,n)}}}),n.Module=function(e,i,o){this.moduleName=e,this.submodules={},this._setupInitializersAndFinalizers(),this.config={},this.config.app=i,this.config.customArgs=o,this.config.definitions=[];var r=new n.EventBinder;t.extend(this,r)},t.extend(n.Module.prototype,e.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(t.each(this.submodules,function(t){t.config.options.startWithParent&&t.start(e)}),this._initializerCallbacks.run(e,this),this._isInitialized=!0)},stop:function(){this._isInitialized&&(this._isInitialized=!1,t.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset())},addDefinition:function(e){this._runModuleDefinition(e)},_runModuleDefinition:function(o){if(o){var r=t.flatten([this,this.config.app,e,n,i,t,this.config.customArgs]);o.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new n.Callbacks,this._finalizerCallbacks=new n.Callbacks}}),t.extend(n.Module,{create:function(e,i,n){var r=this,s=e;i=i.split(".");var h=o.apply(arguments);h.splice(0,3);var l=i.length;return t.each(i,function(t,i){var o=i===l-1,a=r._getModuleDefinition(s,t,e,h);a.config.options=r._getModuleOptions(s,n),o&&r._configureAutoStart(e,a),o&&a.config.options.hasDefinition&&a.addDefinition(a.config.options.definition),s=a}),s},_configureAutoStart:function(e,t){t.config.options.startWithParent&&!t.config.autoStartConfigured&&e.addInitializer(function(e){t.start(e)}),t.config.autoStartConfigured=!0},_getModuleDefinition:function(e,t,i,o){var r=e[t];return r||(r=new n.Module(t,i,o),e[t]=r,e.submodules[t]=r),r},_getModuleOptions:function(e,i){var n={startWithParent:!0,hasDefinition:!!i};return n.hasDefinition?(t.isFunction(i)?n.definition=i:(n.hasDefinition=!!i.define,n.definition=i.define,i.hasOwnProperty("startWithParent")&&(n.startWithParent=i.startWithParent)),n):n}}),n.TemplateCache=function(e){this.templateId=e},t.extend(n.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new n.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=arguments.length;if(t>0)for(e=0;e<t;e++)delete this.templateCaches[arguments[e]];else this.templateCaches={}}}),t.extend(n.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=i(e).html();if(!t||0===t.length){var n="Could not find template: '"+e+"'",o=new Error(n);throw o.name="NoTemplateError",o}return t},compileTemplate:function(e){return t.template(e)}}),n.Renderer={render:function(e,t){return("function"==typeof e?e:n.TemplateCache.get(e))(t)}},n.Callbacks=function(){this._deferred=i.Deferred(),this._callbacks=[]},t.extend(n.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(i,n){t&&(i=t),e.call(i,n)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this,n=this._callbacks;this._deferred=i.Deferred(),this._callbacks=[],t.each(n,function(t){e.add(t.cb,t.ctx)})}}),n.EventAggregator=n.EventBinder.extend({constructor:function(e){n.EventBinder.apply(this,arguments),t.extend(this,e)},bindTo:function(e,t,i){return n.EventBinder.prototype.bindTo.call(this,this,e,t,i)}}),t.extend(n.EventAggregator.prototype,e.Events),n.EventAggregator.extend=e.View.extend;var o=Array.prototype.slice;return n}(Backbone,_,window.jQuery||window.Zepto||window.ender);
!function(e){if("undefined"!=typeof exports&&"undefined"!=typeof require)var t=e.jQuery||e.Zepto||e.ender||require("jquery"),i=e._||require("underscore"),s=e.Backbone||require("backbone");else var t=e.jQuery,i=e._,s=e.Backbone;var r=function(){return s.View.extend({hasFocus:!1,initialize:function(e){if(!r.templates.form)throw new Error("Templates not loaded");if(this.schema=function(){if(e.schema)return e.schema;var t=e.model;if(!t)throw new Error("Could not find schema");return i.isFunction(t.schema)?t.schema():t.schema}(),e=i.extend({template:"form",fieldsetTemplate:"fieldset",fieldTemplate:"field"},e),!e.fieldsets){var t=e.fields||i.keys(this.schema);e.fieldsets=[{fields:t}]}this.options=e,this.model=e.model,this.data=e.data,this.fields={}},render:function(){var e=this,s=this.options,n=r.templates[s.template],a=t(t.trim(n({fieldsets:'<b class="bbf-tmp"></b>'}))),o=t(".bbf-tmp",a);return i.each(s.fieldsets,function(t){o.append(e.renderFieldset(t))}),o.children().unwrap(),this.setElement(a),this.hasFocus&&this.trigger("blur",this),this},renderFieldset:function(e){var s=this,n=r.templates[this.options.fieldsetTemplate],a=this.schema,o=r.helpers.getNested;i.isArray(e)&&(e={fields:e});var l=t(n(i.extend({},e,{legend:'<b class="bbf-tmp-legend"></b>',fields:'<b class="bbf-tmp-fields"></b>'})));e.legend?l.find(".bbf-tmp-legend").replaceWith(e.legend):l.find(".bbf-tmp-legend").parent().remove();var h=t(".bbf-tmp-fields",l);return i.each(e.fields,function(e){var t=function(){if(a[e])return a[e];var t=e.replace(/\./g,".subSchema.");return o(a,t)}();if(!t)throw"Field '"+e+"' not found in schema";var r=s.fields[e]=s.createField(e,t),n=r.render().el;r.editor.on("all",function(t){args=i.toArray(arguments),args[0]=e+":"+t,args.splice(1,0,this),this.trigger.apply(this,args)},s),r.editor.on("change",function(){this.trigger("change",s)},s),r.editor.on("focus",function(){this.hasFocus||this.trigger("focus",this)},s),r.editor.on("blur",function(){if(this.hasFocus){var e=this;setTimeout(function(){i.find(e.fields,function(e){return e.editor.hasFocus})||e.trigger("blur",e)},0)}},s),"Hidden"!=t.type&&h.append(n)}),h=h.children().unwrap(),l},createField:function(e,t){t.template=t.template||this.options.fieldTemplate;var i={form:this,key:e,schema:t,idPrefix:this.options.idPrefix,template:this.options.fieldTemplate};return this.model?i.model=this.model:this.data?i.value=this.data[e]:i.value=null,new r.Field(i)},validate:function(){var e=this,t=this.fields,s=this.model,r={};if(i.each(t,function(e){var t=e.validate();t&&(r[e.key]=t)}),s&&s.validate){var n=s.validate(this.getValue());if(n){var a=i.isObject(n)&&!i.isArray(n);a||(r._others=r._others||[],r._others.push(n)),a&&i.each(n,function(t,i){if(e.fields[i]&&!r[i])e.fields[i].setError(t);else{r._others=r._others||[];var s={};s[i]=t,r._others.push(s)}})}}return i.isEmpty(r)?null:r},commit:function(){var e=this.validate();if(e)return e;var t;return this.model.set(this.getValue(),{error:function(e,i){t=i}}),t||void 0},getValue:function(e){if(e)return this.fields[e].getValue();var t={};return i.each(this.fields,function(e){t[e.key]=e.getValue()}),t},setValue:function(e){for(var t in e)i.has(this.fields,t)&&this.fields[t].setValue(e[t])},focus:function(){if(!this.hasFocus){var e=this.options.fieldsets[0];if(e){var t;t=i.isArray(e)?e[0]:e.fields[0],t&&this.fields[t].editor.focus()}}},blur:function(){this.hasFocus&&(focusedField=i.find(this.fields,function(e){return e.editor.hasFocus}),focusedField&&focusedField.editor.blur())},remove:function(){var e=this.fields;for(var t in e)e[t].remove();s.View.prototype.remove.call(this)},trigger:function(e){return"focus"==e?this.hasFocus=!0:"blur"==e&&(this.hasFocus=!1),s.View.prototype.trigger.apply(this,arguments)}})}();r.helpers=function(){var e={};return e.getNested=function(e,t){for(var i=t.split("."),s=e,r=0,n=i.length;r<n;r++)s=s[i[r]];return s},e.keyToTitle=function(e){return e=e.replace(/([A-Z])/g," $1"),e=e.replace(/^./,function(e){return e.toUpperCase()})},e.compileTemplate=function(e){var t=i.templateSettings.interpolate;i.templateSettings.interpolate=/\{\{(.+?)\}\}/g;var s=i.template(e);return i.templateSettings.interpolate=t,s},e.createTemplate=function(t,i){var s=e.compileTemplate(t);return i?s(i):s},e.setTemplateCompiler=function(t){e.compileTemplate=t},e.setTemplates=function(t,s){var n=e.createTemplate;r.templates=r.templates||{},r.classNames=r.classNames||{},i.each(t,function(e,t,s){i.isString(e)&&(e=n(e)),r.templates[t]=e}),i.extend(r.classNames,s)},e.createEditor=function(e,t){return new(i.isString(e)?r.editors[e]:e)(t)},e.triggerCancellableEvent=function(e,t,i,s){if(!e._callbacks||!e._callbacks[t])return s();var r=e._callbacks[t].next;if(!r)return s();var n=r.callback,a=r.context||this;i.push(s),n.apply(a,i)},e.getValidator=function(e){var t=r.validators;if(i.isRegExp(e))return t.regexp({regexp:e});if(i.isString(e)){if(!t[e])throw new Error('Validator "'+e+'" not found');return t[e]()}if(i.isFunction(e))return e;if(i.isObject(e)&&e.type){var s=e;return t[s.type](s)}throw new Error("Invalid validator: "+e)},e}(),r.validators=function(){var e={};return e.errMessages={required:"Required",regexp:"Invalid",email:"Invalid email address",url:"Invalid URL",match:'Must match field "{{field}}"'},e.required=function(e){return e=i.extend({type:"required",message:this.errMessages.required},e),function(t){e.value=t;var i={type:e.type,message:r.helpers.createTemplate(e.message,e)};if(null===t||void 0===t||""===t)return i}},e.regexp=function(e){if(!e.regexp)throw new Error('Missing required "regexp" option for "regexp" validator');return e=i.extend({type:"regexp",message:this.errMessages.regexp},e),function(t){e.value=t;var i={type:e.type,message:r.helpers.createTemplate(e.message,e)};if(null!==t&&void 0!==t&&""!==t)return e.regexp.test(t)?void 0:i}},e.email=function(t){return t=i.extend({type:"email",message:this.errMessages.email,regexp:/^[\w\-]{1,}([\w\-\+.]{1,1}[\w\-]{1,}){0,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/},t),e.regexp(t)},e.url=function(t){return t=i.extend({type:"url",message:this.errMessages.url,regexp:/^(http|https):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i},t),e.regexp(t)},e.match=function(e){if(!e.field)throw new Error('Missing required "field" options for "match" validator');return e=i.extend({type:"match",message:this.errMessages.match},e),function(t,i){e.value=t;var s={type:e.type,message:r.helpers.createTemplate(e.message,e)};if(null!==t&&void 0!==t&&""!==t)return t!=i[e.field]?s:void 0}},e}(),r.Field=function(){var e=r.helpers;r.templates;return s.View.extend({initialize:function(t){t=t||{},this.form=t.form,this.key=t.key,this.value=t.value,this.model=t.model,i.isString(t.schema)&&(t.schema={type:t.schema}),this.schema=i.extend({type:"Text",title:e.keyToTitle(this.key),template:"field"},t.schema)},render:function(){var i=this.schema,s=r.templates,n={form:this.form,key:this.key,schema:i,idPrefix:this.options.idPrefix,id:this.getId()};this.model?n.model=this.model:n.value=this.value;var a=this.editor=e.createEditor(i.type,n),o=t(s[i.template]({key:this.key,title:i.title,id:a.id,type:i.type,editor:'<b class="bbf-tmp-editor"></b>',help:'<b class="bbf-tmp-help"></b>'}));return o.find(".bbf-tmp-editor").replaceWith(a.render().el),this.$help=t(".bbf-tmp-help",o).parent(),this.$help.empty(),this.schema.help&&this.$help.html(this.schema.help),this.schema.fieldClass&&o.addClass(this.schema.fieldClass),this.schema.fieldAttrs&&o.attr(this.schema.fieldAttrs),this.setElement(o),this},getId:function(){var e=this.options.idPrefix,t=this.key;return t=t.replace(/\./g,"_"),i.isString(e)||i.isNumber(e)?e+t:i.isNull(e)?t:this.model?this.model.cid+"_"+t:t},validate:function(){var e=this.editor.validate();return e?this.setError(e.message):this.clearError(),e},setError:function(e){if(!this.editor.hasNestedForm){var t=r.classNames.error;this.$el.addClass(t),this.$help&&this.$help.html(e)}},clearError:function(){var e=r.classNames.error;if(this.$el.removeClass(e),this.$help){this.$help.empty();var t=this.schema.help;t&&this.$help.html(t)}},commit:function(){return this.editor.commit()},getValue:function(){return this.editor.getValue()},setValue:function(e){this.editor.setValue(e)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove(),s.View.prototype.remove.call(this)}})}(),r.editors=function(){var e=(r.helpers,{});return e.Base=s.View.extend({defaultValue:null,hasFocus:!1,initialize:function(e){var e=e||{};if(e.model){if(!e.key)throw"Missing option: 'key'";this.model=e.model,this.value=this.model.get(e.key)}else e.value&&(this.value=e.value);void 0===this.value&&(this.value=this.defaultValue),this.key=e.key,this.form=e.form,this.schema=e.schema||{},this.validators=e.validators||this.schema.validators,this.$el.attr("name",this.getName()),this.schema.editorClass&&this.$el.addClass(this.schema.editorClass),this.schema.editorAttrs&&this.$el.attr(this.schema.editorAttrs)},getValue:function(){throw"Not implemented. Extend and override this method."},setValue:function(){throw"Not implemented. Extend and override this method."},focus:function(){throw"Not implemented. Extend and override this method."},blur:function(){throw"Not implemented. Extend and override this method."},getName:function(){return(this.key||"").replace(/\./g,"_")},commit:function(){var e=this.validate();return e||(this.model.set(this.key,this.getValue(),{error:function(t,i){e=i}}),e||void 0)},validate:function(){var e=(this.$el,null),t=this.getValue(),s=this.form?this.form.getValue():{},n=this.validators,a=r.helpers.getValidator;return n&&i.every(n,function(i){return e=a(i)(t,s),continueLoop=!e}),e},trigger:function(e){return"focus"==e?this.hasFocus=!0:"blur"==e&&(this.hasFocus=!1),s.View.prototype.trigger.apply(this,arguments)}}),e.Text=e.Base.extend({tagName:"input",defaultValue:"",previousValue:"",events:{keyup:"determineChange",keypress:function(e){var t=this;setTimeout(function(){t.determineChange()},0)},select:function(e){this.trigger("select",this)},focus:function(e){this.trigger("focus",this)},blur:function(e){this.trigger("blur",this)}},initialize:function(t){e.Base.prototype.initialize.call(this,t);var i=this.schema,s="text";i&&i.editorAttrs&&i.editorAttrs.type&&(s=i.editorAttrs.type),i&&i.dataType&&(s=i.dataType),this.$el.attr("type",s)},render:function(){return this.setValue(this.value),this},determineChange:function(e){var t=this.$el.val();t!=this.previousValue&&(this.previousValue=t,this.trigger("change",this))},getValue:function(){return this.$el.val()},setValue:function(e){this.$el.val(e)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},select:function(){this.$el.select()}}),e.Number=e.Text.extend({defaultValue:0,events:i.extend({},e.Text.prototype.events,{keypress:"onKeyPress"}),initialize:function(t){e.Text.prototype.initialize.call(this,t),this.$el.attr("type","number")},onKeyPress:function(e){var t=this,i=function(){setTimeout(function(){t.determineChange()},0)};if(0==e.charCode)return void i();/^[0-9]*\.?[0-9]*?$/.test(this.$el.val()+String.fromCharCode(e.charCode))?i():e.preventDefault()},getValue:function(){var e=this.$el.val();return""===e?null:parseFloat(e,10)},setValue:function(t){t=function(){return i.isNumber(t)?t:i.isString(t)&&""!==t?parseFloat(t,10):null}(),i.isNaN(t)&&(t=null),e.Text.prototype.setValue.call(this,t)}}),e.Password=e.Text.extend({initialize:function(t){e.Text.prototype.initialize.call(this,t),this.$el.attr("type","password")}}),e.TextArea=e.Text.extend({tagName:"textarea"}),e.Checkbox=e.Base.extend({defaultValue:!1,tagName:"input",events:{click:function(e){this.trigger("change",this)},focus:function(e){this.trigger("focus",this)},blur:function(e){this.trigger("blur",this)}},initialize:function(t){e.Base.prototype.initialize.call(this,t),this.$el.attr("type","checkbox")},render:function(){return this.setValue(this.value),this},getValue:function(){return this.$el.prop("checked")},setValue:function(e){e&&this.$el.prop("checked",!0)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()}}),e.Hidden=e.Base.extend({defaultValue:"",initialize:function(t){e.Text.prototype.initialize.call(this,t),this.$el.attr("type","hidden")},getValue:function(){return this.value},setValue:function(e){this.value=e},focus:function(){},blur:function(){}}),e.Select=e.Base.extend({tagName:"select",events:{change:function(e){this.trigger("change",this)},focus:function(e){this.trigger("focus",this)},blur:function(e){this.trigger("blur",this)}},initialize:function(t){if(e.Base.prototype.initialize.call(this,t),!this.schema||!this.schema.options)throw"Missing required 'schema.options'"},render:function(){return this.setOptions(this.schema.options),this},setOptions:function(e){var t=this;if(e instanceof s.Collection){var r=e;r.length>0?this.renderOptions(e):r.fetch({success:function(i){t.renderOptions(e)}})}else i.isFunction(e)?e(function(e){t.renderOptions(e)}):this.renderOptions(e)},renderOptions:function(e){var t,r=this.$el;i.isString(e)?t=e:i.isArray(e)?t=this._arrayToHtml(e):e instanceof s.Collection&&(t=this._collectionToHtml(e)),r.html(t),this.setValue(this.value)},getValue:function(){return this.$el.val()},setValue:function(e){this.$el.val(e)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},_collectionToHtml:function(e){var t=[];return e.each(function(e){t.push({val:e.id,label:e.toString()})}),this._arrayToHtml(t)},_arrayToHtml:function(e){var t=[];return i.each(e,function(e){if(i.isObject(e)){var s=e.val?e.val:"";t.push('<option value="'+s+'">'+e.label+"</option>")}else t.push("<option>"+e+"</option>")}),t.join("")}}),e.Radio=e.Select.extend({tagName:"ul",className:"bbf-radio",events:{"click input[type=radio]:not(:checked)":function(){this.trigger("change",this)},"focus input[type=radio]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=radio]":function(){if(this.hasFocus){var e=this;setTimeout(function(){e.$("input[type=radio]:focus")[0]||e.trigger("blur",e)},0)}}},getValue:function(){return this.$("input[type=radio]:checked").val()},setValue:function(e){this.$("input[type=radio]").val([e])},focus:function(){if(!this.hasFocus){var e=this.$("input[type=radio]:checked");if(e[0])return void e.focus();this.$("input[type=radio]").first().focus()}},blur:function(){this.hasFocus&&this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(e){var t=[],s=this;return i.each(e,function(e,r){var n="<li>";if(i.isObject(e)){var a=e.val?e.val:"";n+='<input type="radio" name="'+s.id+'" value="'+a+'" id="'+s.id+"-"+r+'" />',n+='<label for="'+s.id+"-"+r+'">'+e.label+"</label>"}else n+='<input type="radio" name="'+s.id+'" value="'+e+'" id="'+s.id+"-"+r+'" />',n+='<label for="'+s.id+"-"+r+'">'+e+"</label>";n+="</li>",t.push(n)}),t.join("")}}),e.Checkboxes=e.Select.extend({tagName:"ul",className:"bbf-checkboxes",events:{"click input[type=checkbox]":function(){this.trigger("change",this)},"focus input[type=checkbox]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=checkbox]":function(){if(this.hasFocus){var e=this;setTimeout(function(){e.$("input[type=checkbox]:focus")[0]||e.trigger("blur",e)},0)}}},getValue:function(){var e=[];return this.$("input[type=checkbox]:checked").each(function(){e.push(t(this).val())}),e},setValue:function(e){i.isArray(e)||(e=[e]),this.$("input[type=checkbox]").val(e)},focus:function(){this.hasFocus||this.$("input[type=checkbox]").first().focus()},blur:function(){this.hasFocus&&this.$("input[type=checkbox]:focus").blur()},_arrayToHtml:function(e){var t=[],s=this;return i.each(e,function(e,r){var n="<li>";if(i.isObject(e)){var a=e.val?e.val:"";n+='<input type="checkbox" name="'+s.id+'" value="'+a+'" id="'+s.id+"-"+r+'" />',n+='<label for="'+s.id+"-"+r+'">'+e.label+"</label>"}else n+='<input type="checkbox" name="'+s.id+'" value="'+e+'" id="'+s.id+"-"+r+'" />',n+='<label for="'+s.id+"-"+r+'">'+e+"</label>";n+="</li>",t.push(n)}),t.join("")}}),e.Object=e.Base.extend({hasNestedForm:!0,className:"bbf-object",initialize:function(t){if(this.value={},e.Base.prototype.initialize.call(this,t),!this.schema.subSchema)throw new Error("Missing required 'schema.subSchema' option for Object editor")},render:function(){return this.form=new r({schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_",fieldTemplate:"nestedField"}),this._observeFormEvents(),this.$el.html(this.form.render().el),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){return this.form?this.form.getValue():this.value},setValue:function(e){this.value=e,this.render()},focus:function(){this.hasFocus||this.form.focus()},blur:function(){this.hasFocus&&this.form.blur()},remove:function(){this.form.remove(),s.View.prototype.remove.call(this)},validate:function(){return this.form.validate()},_observeFormEvents:function(){this.form.on("all",function(){args=i.toArray(arguments),args[1]=this,this.trigger.apply(this,args)},this)}}),e.NestedModel=e.Object.extend({initialize:function(t){if(e.Base.prototype.initialize.call(this,t),!t.schema.model)throw'Missing required "schema.model" option for NestedModel editor'},render:function(){var e=this.value||{},t=(this.key,this.schema.model),i=e.constructor==t?e:new t(e);return this.form=new r({model:i,idPrefix:this.id+"_",fieldTemplate:"nestedField"}),this._observeFormEvents(),this.$el.html(this.form.render().el),this.hasFocus&&this.trigger("blur",this),this},commit:function(){var t=this.form.commit();return t?(this.$el.addClass("error"),t):e.Object.prototype.commit.call(this)}}),e.Date=e.Base.extend({events:{"change select":function(){this.updateHidden(),this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var e=this;setTimeout(function(){e.$("select:focus")[0]||e.trigger("blur",e)},0)}}},initialize:function(t){t=t||{},e.Base.prototype.initialize.call(this,t);var s=e.Date,r=new Date;if(this.options=i.extend({monthNames:s.monthNames,showMonthNames:s.showMonthNames},t),this.schema=i.extend({yearStart:r.getFullYear()-100,yearEnd:r.getFullYear()},t.schema||{}),this.value&&!i.isDate(this.value)&&(this.value=new Date(this.value)),!this.value){var n=new Date;n.setSeconds(0),n.setMilliseconds(0),this.value=n}},render:function(){var e=this.options,s=this.schema,n=i.map(i.range(1,32),function(e){return'<option value="'+e+'">'+e+"</option>"}),a=i.map(i.range(0,12),function(t){return'<option value="'+t+'">'+(e.showMonthNames?e.monthNames[t]:t+1)+"</option>"}),o=i.map(i.range(s.yearStart,s.yearEnd+1),function(e){return'<option value="'+e+'">'+e+"</option>"}),l=t(r.templates.date({dates:n.join(""),months:a.join(""),years:o.join("")}));return this.$date=l.find('select[data-type="date"]'),this.$month=l.find('select[data-type="month"]'),this.$year=l.find('select[data-type="year"]'),this.$hidden=t('<input type="hidden" name="'+this.key+'" />'),l.append(this.$hidden),this.setValue(this.value),this.setElement(l),this.$el.attr("id",this.id),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){var e=this.$year.val(),t=this.$month.val(),i=this.$date.val();return e&&t&&i?new Date(e,t,i):null},setValue:function(e){this.$date.val(e.getDate()),this.$month.val(e.getMonth()),this.$year.val(e.getFullYear()),this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var e=this.getValue();i.isDate(e)&&(e=e.toISOString()),this.$hidden.val(e)}},{showMonthNames:!0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}),e.DateTime=e.Base.extend({events:{"change select":function(){this.updateHidden(),this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var e=this;setTimeout(function(){e.$("select:focus")[0]||e.trigger("blur",e)},0)}}},initialize:function(t){t=t||{},e.Base.prototype.initialize.call(this,t),this.options=i.extend({DateEditor:e.DateTime.DateEditor},t),this.schema=i.extend({minsInterval:15},t.schema||{}),this.dateEditor=new this.options.DateEditor(t),this.value=this.dateEditor.value},render:function(){function e(e){return e<10?"0"+e:e}var s=this.schema,n=i.map(i.range(0,24),function(t){return'<option value="'+t+'">'+e(t)+"</option>"}),a=i.map(i.range(0,60,s.minsInterval),function(t){return'<option value="'+t+'">'+e(t)+"</option>"}),o=t(r.templates.dateTime({date:'<b class="bbf-tmp"></b>',hours:n.join(),mins:a.join()}));return o.find(".bbf-tmp").replaceWith(this.dateEditor.render().el),this.$hour=o.find('select[data-type="hour"]'),this.$min=o.find('select[data-type="min"]'),this.$hidden=o.find('input[type="hidden"]'),this.setValue(this.value),this.setElement(o),this.$el.attr("id",this.id),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){var e=this.dateEditor.getValue(),t=this.$hour.val(),i=this.$min.val();return e&&t&&i?(e.setHours(t),e.setMinutes(i),e):null},setValue:function(e){i.isDate(e)||(e=new Date(e)),this.dateEditor.setValue(e),this.$hour.val(e.getHours()),this.$min.val(e.getMinutes()),this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var e=this.getValue();i.isDate(e)&&(e=e.toISOString()),this.$hidden.val(e)},remove:function(){this.dateEditor.remove(),e.Base.prototype.remove.call(this)}},{DateEditor:e.Date}),e}(),r.setTemplates=r.helpers.setTemplates,r.setTemplateCompiler=r.helpers.setTemplateCompiler,r.templates={},r.setTemplates({form:'      <form class="bbf-form">{{fieldsets}}</form>    ',fieldset:"      <fieldset>        <legend>{{legend}}</legend>        <ul>{{fields}}</ul>      </fieldset>    ",field:'      <li class="bbf-field field-{{key}}">        <label for="{{id}}">{{title}}</label>        <div class="bbf-editor">{{editor}}</div>        <div class="bbf-help">{{help}}</div>      </li>    ',nestedField:'      <li class="bbf-field bbf-nested-field field-{{key}}" title="{{title}}">        <label for="{{id}}">{{title}}</label>        <div class="bbf-editor">{{editor}}</div>        <div class="bbf-help">{{help}}</div>      </li>    ',list:'      <div class="bbf-list">        <ul>{{items}}</ul>        <div class="bbf-actions"><button type="button" data-action="add">Add</div>      </div>    ',listItem:'      <li>        <button type="button" data-action="remove" class="bbf-remove">&times;</button>        <div class="bbf-editor-container">{{editor}}</div>      </li>    ',date:'      <div class="bbf-date">        <select data-type="date" class="bbf-date">{{dates}}</select>        <select data-type="month" class="bbf-month">{{months}}</select>        <select data-type="year" class="bbf-year">{{years}}</select>      </div>    ',dateTime:'      <div class="bbf-datetime">        <div class="bbf-date-container">{{date}}</div>        <select data-type="hour">{{hours}}</select>        :        <select data-type="min">{{mins}}</select>      </div>    ',"list.Modal":'      <div class="bbf-list-modal">        {{summary}}      </div>    '},{error:"bbf-error"}),r.VERSION="0.10.1",s.Form=r}(this);
!function(t){function i(t){var e={},n=r.keyPathSeparator;for(var s in t){var h=t[s];if(h&&h.constructor===Object&&!_.isEmpty(h)){var a=i(h);for(var u in a){var o=a[u];e[s+n+u]=o}}else e[s]=h}return e}function e(t,i,e){var n=r.keyPathSeparator,s=i.split(n),h=t;e||(e=!1);for(var a=0,u=s.length;a<u;a++){if(e&&!_.has(h,s[a]))return!1;if(h=h[s[a]],null==h&&a<u-1&&(h={}),void 0===h)return!!e||h}return!!e||h}function n(t,i,e,n){n=n||{};for(var s=r.keyPathSeparator,h=i.split(s),a=t,u=0,o=h.length;u<o;u++){var c=h[u];u===o-1?n.unset?delete a[c]:a[c]=e:(void 0!==a[c]&&_.isObject(a[c])||(a[c]={}),a=a[c])}}function s(t,i){n(t,i,null,{unset:!0})}var r=t.Model.extend({get:function(t){return e(this.attributes,t)},set:function(r,h,a){var u,o,c,d=t.Model;if(_.isObject(r)||null==r?(u=r,a=h):(u={},u[r]=h),a||(a={}),!u)return this;if(u instanceof d&&(u=u.attributes),a.unset)for(o in u)u[o]=void 0;if(!this._validate(u,a))return!1;this.idAttribute in u&&(this.id=u[this.idAttribute]);var g=a.changes={},l=this.attributes,f=this._escapedAttributes,v=this._previousAttributes||{};u=i(u);for(o in u){c=u[o];var p=e(l,o),b=e(v,o),y=(e(f,o),_.isUndefined(p)),A=_.isUndefined(b);(!_.isEqual(p,c)||a.unset&&y)&&(s(f,o),n(a.silent?this._silent:g,o,!0)),a.unset?s(l,o):n(l,o,c),_.isEqual(b,c)&&y==A?(s(this.changed,o),s(this._pending,o)):(n(this.changed,o,_.clone(c)),a.silent||n(this._pending,o,!0))}return a.silent||this.change(a),this},has:function(t){return null!=e(this.attributes,t)},change:function(t){t||(t={});var r=this._changing;this._changing=!0;for(var h in i(this._silent))n(this._pending,h,!0);var a=_.extend({},t.changes,this._silent);this._silent={};for(var h in i(a))this.trigger("change:"+h,this,this.get(h),t);if(r)return this;for(;!_.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var h in i(this.changed))e(this._pending,h)||e(this._silent,h)||s(this.changed,h);this._previousAttributes=_.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){var i=this;return _.each(this.changed,function(t,e){_.isObject(t)&&_.isEmpty(t)&&delete i.changed[e]}),arguments.length?null!=e(this.changed,t):!_.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&_.clone(i(this.changed));var e,n=!1,s=i(this._previousAttributes);for(var r in i(t))_.isEqual(s[r],e=t[r])||((n||(n={}))[r]=e);return n}});r.keyPathSeparator=".",t.DeepModel=r,"undefined"!=typeof module&&(module.exports=r)}(Backbone);
Backbone.Form.editors.Select=Backbone.Form.editors.Select.extend({initialize:function(e){if(Backbone.Form.editors.Base.prototype.initialize.call(this,e),!this.schema||!this.schema.options)throw"Missing required 'schema.options'";this.$el.attr("aria-label")||this.$el.attr("aria-label",e.schema.title)}});
Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use stapp";if(void 0===this||null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var a=n>=0?n:Math.max(r-Math.abs(n),0);a<r;a++)if(a in t&&t[a]===e)return a;return-1});var I18n=I18n||{};I18n.defaultLocale="en",I18n.fallbacks=!1,I18n.defaultSeparator=".",I18n.locale=null,I18n.PLACEHOLDER=/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,I18n.fallbackRules={},I18n.pluralizationRules={en:function(e){return 0==e?["zero","none","other"]:1==e?"one":"other"}},I18n.getFallbacks=function(e){if(e===I18n.defaultLocale)return[];if(!I18n.fallbackRules[e]){for(var t=[],r=e.split("-"),n=1;n<r.length;n++)t.push(r.slice(0,n).join("-"));t.push(I18n.defaultLocale),I18n.fallbackRules[e]=t}return I18n.fallbackRules[e]},I18n.isValidNode=function(e,t,r){return null!==e[t]&&e[t]!==r},I18n.lookup=function(e,t){var r,t=t||{},n=e,a=this.prepareOptions(I18n.translations),i=t.locale||I18n.currentLocale(),o=a[i]||{},t=this.prepareOptions(t);for("object"==typeof e&&(e=e.join(this.defaultSeparator)),t.scope&&(e=t.scope.toString()+this.defaultSeparator+e),e=e.split(this.defaultSeparator);o&&e.length>0;)r=e.shift(),o=o[r];if(!o){if(I18n.fallbacks)for(var l=this.getFallbacks(i);0<l.length&&!(o=I18n.lookup(n,this.prepareOptions({locale:l[0]},t)));l++);!o&&this.isValidNode(t,"defaultValue")&&(o=t.defaultValue)}return o},I18n.prepareOptions=function(){for(var e,t={},r=arguments.length,n=0;n<r;n++)if(e=arguments[n])for(var a in e)this.isValidNode(t,a)||(t[a]=e[a]);return t},I18n.interpolate=function(e,t){t=this.prepareOptions(t);var r,n,a,i,o=e.match(this.PLACEHOLDER);if(!o)return e;for(var l=0;r=o[l];l++)a=r.replace(this.PLACEHOLDER,"$1"),n=t[a],this.isValidNode(t,a)||(n="[missing "+r+" value]"),i=new RegExp(r.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(i,n);return e},I18n.translate=function(e,t){t=this.prepareOptions(t);var r=this.lookup(e,t);try{return"object"==typeof r?"number"==typeof t.count?this.pluralize(t.count,e,t):r:this.interpolate(r,t)}catch(t){return this.missingTranslation(e)}},I18n.localize=function(e,t){switch(e){case"currencyInteger":return this.toCurrencyInteger(t);case"currency":return this.toCurrency(t);case"number":return e=this.lookup("number.format"),this.toNumber(t,e);case"percentage":return this.toPercentage(t);default:return e.match(/^(date|time)/)?this.toTime(e,t):t.toString()}},I18n.parseDate=function(e){var t,r;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/)){for(var n=1;n<=6;n++)t[n]=parseInt(t[n],10)||0;t[2]-=1,r=t[7]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6])):new Date(t[1],t[2],t[3],t[4],t[5],t[6])}else"number"==typeof e?(r=new Date,r.setTime(e)):(e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),r=new Date,r.setTime(Date.parse(e)));return r},I18n.toTime=function(e,t){var r=this.parseDate(t),n=this.lookup(e);return r.toString().match(/invalid/i)?r.toString():n?this.strftime(r,n):r.toString()},I18n.strftime=function(e,t){var r=this.lookup("date");if(!r)return e.toString();r.meridian=r.meridian||["AM","PM"];var n=e.getDay(),a=e.getDate(),i=e.getFullYear(),o=e.getMonth()+1,l=e.getHours(),s=l,u=l>11?1:0,p=e.getSeconds(),c=e.getMinutes(),h=e.getTimezoneOffset(),f=Math.floor(Math.abs(h/60)),m=Math.abs(h)-60*f,d=(h>0?"-":"+")+(f.toString().length<2?"0"+f:f)+(m.toString().length<2?"0"+m:m);s>12?s-=12:0===s&&(s=12);var g=function(e){var t="0"+e.toString();return t.substr(t.length-2)},I=t;return I=I.replace("%a",r.abbr_day_names[n]),I=I.replace("%A",r.day_names[n]),I=I.replace("%b",r.abbr_month_names[o]),I=I.replace("%B",r.month_names[o]),I=I.replace("%d",g(a)),I=I.replace("%e",a),I=I.replace("%-d",a),I=I.replace("%H",g(l)),I=I.replace("%-H",l),I=I.replace("%I",g(s)),I=I.replace("%-I",s),I=I.replace("%m",g(o)),I=I.replace("%-m",o),I=I.replace("%M",g(c)),I=I.replace("%-M",c),I=I.replace("%p",r.meridian[u]),I=I.replace("%S",g(p)),I=I.replace("%-S",p),I=I.replace("%w",n),I=I.replace("%y",g(i)),I=I.replace("%-y",g(i).replace(/^0+/,"")),I=I.replace("%Y",i),I=I.replace("%z",d)},I18n.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),{precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1});var r,n=e<0,a=Math.abs(e).toFixed(t.precision).toString(),i=a.split("."),o=[];for(e=i[0],i[1];e.length>0;)o.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);if(r=o.join(t.delimiter),t.precision>0&&(r+=t.separator+i[1]),n&&(r="-"+r),t.strip_insignificant_zeros){var l={separator:new RegExp(t.separator.replace(/\./,"\\.")+"$"),zeros:/0+$/};r=r.replace(l.zeros,"").replace(l.separator,"")}return r},I18n.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format"),this.lookup("number.format"),{unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."}),e=this.toNumber(e,t),e=t.format.replace("%u",t.unit).replace("%n",e)},I18n.toCurrencyInteger=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currencyInteger.format"),this.lookup("number.format"),{unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."}),e=this.toNumber(e,t),e=t.format.replace("%u",t.unit).replace("%n",e)},I18n.toHumanSize=function(e,t){for(var r,n,a=e,i=0;a>=1024&&i<4;)a/=1024,i+=1;return 0===i?(r=this.t("number.human.storage_units.units.byte",{count:a}),n=0):(r=this.t("number.human.storage_units.units."+[null,"kb","mb","gb","tb"][i]),n=a-Math.floor(a)==0?0:1),t=this.prepareOptions(t,{precision:n,format:"%n%u",delimiter:""}),e=this.toNumber(a,t),e=t.format.replace("%u",r).replace("%n",e)},I18n.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format"),this.lookup("number.format"),{precision:3,separator:".",delimiter:""}),(e=this.toNumber(e,t))+"%"},I18n.pluralizer=function(e){var t=this.pluralizationRules[e];return void 0!==t?t:this.pluralizationRules.en},I18n.findAndTranslateValidNode=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.isValidNode(t,n))return t[n]}return null},I18n.pluralize=function(e,t,r){var n;try{n=this.lookup(t,r)}catch(e){}if(!n)return this.missingTranslation(t);r=this.prepareOptions(r),r.count=e.toString();var a=this.pluralizer(this.currentLocale()),i=a(Math.abs(e)),o="object"==typeof i&&i instanceof Array?i:[i],l=this.findAndTranslateValidNode(o,n);return null==l&&(l=this.missingTranslation(t,o[0])),this.interpolate(l,r)},I18n.missingTranslation=function(){for(var e='[missing "'+this.currentLocale(),t=arguments.length,r=0;r<t;r++)e+="."+arguments[r];return e+='" translation]'},I18n.currentLocale=function(){return I18n.locale||I18n.defaultLocale},I18n.t=I18n.translate,I18n.l=I18n.localize,I18n.p=I18n.pluralize;
!function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){for(var t=0,e=arguments,i=e.length,s={};t<i;t++)s[e[t++]]=e[t];return s}function i(t,e){return parseInt(t,e||10)}function s(t){return"string"==typeof t}function n(t){return"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function a(t){return lt.log(t)/lt.LN10}function h(t){return lt.pow(10,t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==Y&&null!==t}function d(t,e,i){var o,r;if(s(e))c(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c(e)&&n(e))for(o in e)t.setAttribute(o,e[o]);return r}function p(t){return o(t)?t:[t]}function u(){var t,e,i=arguments,s=i.length;for(t=0;t<s;t++)if(void 0!==(e=i[t])&&null!==e)return e}function g(e,i){kt&&i&&i.opacity!==Y&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function f(e,i,s,n,o){return e=at.createElement(e),i&&t(e,i),o&&g(e,{padding:0,border:Bt,margin:0}),s&&g(e,s),n&&n.appendChild(e),e}function m(e,i){var s=function(){};return s.prototype=new e,t(s.prototype,i),s}function v(t,e,s,n){var o=j.lang,r=t;-1===e?(e=(t||0).toString(),t=e.indexOf(".")>-1?e.split(".")[1].length:0):t=isNaN(e=ft(e))?2:e;var e=t,s=void 0===s?o.decimalPoint:s,n=void 0===n?o.thousandsSep:n,o=r<0?"-":"",t=String(i(r=ft(+r||0).toFixed(e))),a=t.length>3?t.length%3:0;return o+(a?t.substr(0,a)+n:"")+t.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?s+ft(r-t).toFixed(e).slice(2):"")}function x(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function y(t,e,i,s){var n,i=u(i,1);for(n=t/i,e||(e=[1,2,2.5,5,10],s&&!1===s.allowDecimals&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),s=0;s<e.length&&(t=e[s],!(n<=(e[s]+(e[s+1]||e[s]))/2));s++);return t*=i}function b(t,e){var i,s=e||[[Wt,[1,2,5,10,20,25,50,100,200,500]],[Ht,[1,2,5,10,15,30]],[Ot,[1,2,5,10,15,30]],[Et,[1,2,3,4,6,8,12]],[Xt,[1,2]],[Nt,[1,2]],[Yt,[1,2,3,4,6]],[Ft,null]],n=s[s.length-1],o=_[n[0]],r=n[1];for(i=0;i<s.length&&(n=s[i],o=_[n[0]],r=n[1],!(s[i+1]&&t<=(o*r[r.length-1]+_[s[i+1][0]])/2));i++);return o===_[Ft]&&t<5*o&&(r=[1,2,5]),o===_[Ft]&&t<5*o&&(r=[1,2,5]),s=y(t/o,r),{unitRange:o,count:s,unitName:n[0]}}function k(e,i,s,n){var o,r=[],a={},h=j.global.useUTC,l=new Date(i),i=e.unitRange,c=e.count;i>=_[Ht]&&(l.setMilliseconds(0),l.setSeconds(i>=_[Ot]?0:c*dt(l.getSeconds()/c))),i>=_[Ot]&&l[it](i>=_[Et]?0:c*dt(l[K]()/c)),i>=_[Et]&&l[st](i>=_[Xt]?0:c*dt(l[q]()/c)),i>=_[Xt]&&l[nt](i>=_[Yt]?1:c*dt(l[J]()/c)),i>=_[Yt]&&(l[ot](i>=_[Ft]?0:c*dt(l[tt]()/c)),o=l[et]()),i>=_[Ft]&&(o-=o%c,l[rt](o)),i===_[Nt]&&l[nt](l[J]()-l[Q]()+u(n,1)),n=1,o=l[et]();for(var d=l.getTime(),p=l[tt](),g=l[J](),l=h?0:(864e5+6e4*l.getTimezoneOffset())%864e5;d<s;)r.push(d),i===_[Ft]?d=$(o+n*c,0):i===_[Yt]?d=$(o,p+n*c):h||i!==_[Xt]&&i!==_[Nt]?(d+=i*c,i<=_[Et]&&d%_[Xt]===l&&(a[d]=Xt)):d=$(o,p,g+n*c*(i===_[Xt]?1:7)),n++;return r.push(d),r.info=t(e,{higherRanks:a,totalRange:i*c}),r}function w(){this.symbol=this.color=0}function T(t,e){var i,s,n=t.length;for(s=0;s<n;s++)t[s].ss_i=s;for(t.sort(function(t,s){return i=e(t,s),0===i?t.ss_i-s.ss_i:i}),s=0;s<n;s++)delete t[s].ss_i}function L(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function S(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function P(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function A(t){G||(G=f(Dt)),t&&G.appendChild(t),G.innerHTML=""}function M(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ht.console&&console.log(i)}function C(t){return parseFloat(t.toPrecision(14))}function I(t,e){Z=u(t,e.animation)}function z(){var t=j.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";$=t?Date.UTC:function(t,e,i,s,n,o){return new Date(t,e,u(i,1),u(s,0),u(n,0),u(o,0)).getTime()},K=e+"Minutes",q=e+"Hours",Q=e+"Day",J=e+"Date",tt=e+"Month",et=e+"FullYear",it=i+"Minutes",st=i+"Hours",nt=i+"Date",ot=i+"Month",rt=i+"FullYear"}function D(){}function B(t,e,i){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||this.addLabel()}function R(t,e){return this.axis=t,e&&(this.options=e,this.id=e.id),this}function W(t,e,i,s,n){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=s,this.stack=n,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:u(e.y,o?4:i?14:-6),x:u(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}function H(){this.init.apply(this,arguments)}function O(t,e){var s=e.borderWidth,n=e.style,o=e.shared,r=i(n.padding);this.chart=t,this.options=e,n.padding=0,this.crosshairs=[],this.currentY=this.currentX=0,this.tooltipIsHidden=!0,this.label=t.renderer.label("",0,0,null,null,null,e.useHTML,null,"tooltip").attr({padding:r,fill:e.backgroundColor,"stroke-width":s,r:e.borderRadius,zIndex:8}).css(n).hide().add(),At||this.label.shadow(e.shadow),this.shared=o}function E(t,e){var i=At?"":e.chart.zoomType;this.zoomX=/x/.test(i),this.zoomY=/y/.test(i),this.options=e,this.chart=t,this.init(t,e.tooltip)}function X(t){this.init(t)}function N(t,e){var i,s=t.series;t.series=null,i=Qt(j,t),i.series=t.series=s;var s=i.chart,o=s.margin,o=n(o)?o:[o,o,o,o];this.optionsMarginTop=u(s.marginTop,o[0]),this.optionsMarginRight=u(s.marginRight,o[1]),this.optionsMarginBottom=u(s.marginBottom,o[2]),this.optionsMarginLeft=u(s.marginLeft,o[3]),this.runChartClick=(o=s.events)&&!!o.click,this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes,this.init(o)}var Y,F,G,j,V,Z,U,_,$,K,q,Q,J,tt,et,it,st,nt,ot,rt,at=document,ht=window,lt=Math,ct=lt.round,dt=lt.floor,pt=lt.ceil,ut=lt.max,gt=lt.min,ft=lt.abs,mt=lt.cos,vt=lt.sin,xt=lt.PI,yt=2*xt/360,bt=navigator.userAgent,kt=/msie/i.test(bt)&&!ht.opera,wt=8===at.documentMode,Tt=/AppleWebKit/.test(bt),Lt=/Firefox/.test(bt),St=!!at.createElementNS&&!!at.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,Pt=Lt&&parseInt(bt.split("Firefox/")[1],10)<4,At=!St&&!kt&&!!at.createElement("canvas").getContext,Mt=at.documentElement.ontouchstart!==Y,Ct={},It=0,zt=function(){},Dt="div",Bt="none",Rt="rgba(192,192,192,"+(St?1e-6:.002)+")",Wt="millisecond",Ht="second",Ot="minute",Et="hour",Xt="day",Nt="week",Yt="month",Ft="year",Gt={};ht.Highcharts={},V=function(t,e,i){if(!c(e)||isNaN(e))return"Invalid date";var s,t=u(t,"%Y-%m-%d %H:%M:%S"),n=new Date(e),o=n[q](),r=n[Q](),a=n[J](),h=n[tt](),l=n[et](),d=j.lang,p=d.weekdays,e={a:p[r].substr(0,3),A:p[r],d:x(a),e:a,b:d.shortMonths[h],B:d.months[h],m:x(h+1),y:l.toString().substr(2,2),Y:l,H:x(o),I:x(o%12||12),l:o%12||12,M:x(n[K]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:x(n.getSeconds()),L:x(ct(e%1e3),3)};for(s in e)t=t.replace("%"+s,e[s]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},w.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},_=e(Wt,1,Ht,1e3,Ot,6e4,Et,36e5,Xt,864e5,Nt,6048e5,Yt,2592e6,Ft,31556952e3),U={init:function(t,e,i){var s,n,o,e=e||"",r=t.shift,a=e.indexOf("C")>-1,h=a?7:3,e=e.split(" "),i=[].concat(i),l=function(t){for(s=t.length;s--;)"M"===t[s]&&t.splice(s+1,0,t[s+1],t[s+2],t[s+1],t[s+2])};if(a&&(l(e),l(i)),t.isArea&&(n=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),r<=i.length/h)for(;r--;)i=[].concat(i).splice(0,h).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-h,h),a&&(r[h-6]=r[h-2],r[h-5]=r[h-1]),e=e.concat(r);return n&&(e=e.concat(n),i=i.concat(o)),[e,i]},step:function(t,e,i,s){var n=[],o=t.length;if(1===i)n=s;else if(o===e.length&&i<1)for(;o--;)s=parseFloat(t[o]),n[o]=isNaN(s)?t[o]:i*parseFloat(e[o]-s)+s;else n=e;return n}};var jt=ht.HighchartsAdapter,Vt=jt||{},Zt=Vt.adapterRun,Ut=Vt.getScript,_t=Vt.each,$t=Vt.grep,Kt=Vt.offset,qt=Vt.map,Qt=Vt.merge,Jt=Vt.addEvent,te=Vt.removeEvent,ee=Vt.fireEvent,ie=Vt.washMouseEvent,se=Vt.animate,ne=Vt.stop;if(jt&&jt.init&&jt.init(U),!jt&&ht.jQuery){var oe=jQuery,Ut=oe.getScript,Zt=function(t,e){return oe(t)[e]()},_t=function(t,e){for(var i=0,s=t.length;i<s;i++)if(!1===e.call(t[i],t[i],i,t))return i},$t=oe.grep,qt=function(t,e){for(var i=[],s=0,n=t.length;s<n;s++)i[s]=e.call(t[s],t[s],s,t);return i},Qt=function(){var t=arguments;return oe.extend(!0,null,t[0],t[1],t[2],t[3])},Kt=function(t){return oe(t).offset()},Jt=function(t,e,i){oe(t).bind(e,i)},te=function(t,e,i){var s=at.removeEventListener?"removeEventListener":"detachEvent";at[s]&&!t[s]&&(t[s]=function(){}),oe(t).unbind(e,i)},ee=function(e,i,s,n){var o,r=oe.Event(i),a="detached"+i;!kt&&s&&(delete s.layerX,delete s.layerY),t(r,s),e[i]&&(e[a]=e[i],e[i]=null),_t(["preventDefault","stopPropagation"],function(t){var e=r[t];r[t]=function(){try{e.call(r)}catch(e){"preventDefault"===t&&(o=!0)}}}),oe(e).trigger(r),e[a]&&(e[i]=e[a],e[a]=null),n&&!r.isDefaultPrevented()&&!o&&n(r)},ie=function(t){return t},se=function(t,e,i){var s=oe(t);e.d&&(t.toD=e.d,e.d=1),s.stop(),s.animate(e,i)},ne=function(t){oe(t).stop()};oe.extend(oe.easing,{easeOutQuad:function(t,e,i,s,n){return-s*(e/=n)*(e-2)+i}});var re=oe.fx,ae=re.step;_t(["cur","_default","width","height"],function(t,e){var i,s,n=ae;"cur"===t?n=re.prototype:"_default"===t&&oe.Tween&&(n=oe.Tween.propHooks[t],t="set"),(i=n[t])&&(n[t]=function(n){return n=e?n:this,s=n.elem,s.attr?s.attr(n.prop,"cur"===t?Y:n.now):i.apply(this,arguments)})}),ae.d=function(t){var e=t.elem;if(!t.started){var i=U.init(e,e.d,e.toD);t.start=i[0],t.end=i[1],t.started=!0}e.attr("d",U.step(t.start,t.end,t.pos,e.toD))}}Vt={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}},j={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"Stycze,Luty,Marzec,Kwiecie,Maj,Czerwiec,Lipiec,Sierpie,Wrzesie,Padziernik,Listopad,Grudzie".split(","),shortMonths:"Sty,Lut,Mar,Kwi,Maj,Cze,Lip,Sie,Wrz,Pa,Lis,Gru".split(","),weekdays:"Niedziela,Poniedziaek,Wtorek,roda,Czwartek,Pitek,Sobota".split(","),decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.2.5/modules/canvas-tools.js"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Qt(Vt,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:At,snap:Mt?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var he=j.plotOptions,jt=he.line;z();var le=function(t){var e,s=[];return function(t){(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?s=[i(e[1]),i(e[2]),i(e[3]),parseFloat(e[4],10)]:(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))&&(s=[i(e[1],16),i(e[2],16),i(e[3],16),1])}(t),{get:function(e){return s&&!isNaN(s[0])?"rgb"===e?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===e?s[3]:"rgba("+s.join(",")+")":t},brighten:function(t){if(r(t)&&0!==t){var e;for(e=0;e<3;e++)s[e]+=i(255*t),s[e]<0&&(s[e]=0),s[e]>255&&(s[e]=255)}return this},setOpacity:function(t){return s[3]=t,this}}};D.prototype={init:function(t,e){this.element="span"===e?f(e):at.createElementNS("http://www.w3.org/2000/svg",e),this.renderer=t,this.attrSetters={}},animate:function(t,e,i){e=u(e,Z,!0),ne(this),e?(e=Qt(e),i&&(e.complete=i),se(this,t,e)):(this.attr(t),i&&i())},attr:function(t,e){var n,o,r,a,h,l,p,u=this.element,g=u.nodeName,f=this.renderer,m=this.attrSetters,v=this.shadows,x=this;if(s(t)&&c(e)&&(n=t,t={},t[n]=e),s(t))n=t,"circle"===g?n={x:"cx",y:"cy"}[n]||n:"strokeWidth"===n&&(n="stroke-width"),x=d(u,n)||this[n]||0,"d"!==n&&"visibility"!==n&&(x=parseFloat(x));else for(n in t)if(h=!1,o=t[n],!1!==(r=m[n]&&m[n](o,n))){if(r!==Y&&(o=r),"d"===n)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===n&&"text"===g){for(r=0;r<u.childNodes.length;r++)a=u.childNodes[r],d(a,"x")===d(u,"x")&&d(a,"x",o);this.rotation&&d(u,"transform","rotate("+this.rotation+" "+o+" "+i(t.y||d(u,"y"))+")")}else if("fill"===n)o=f.color(o,u,n);else if("circle"!==g||"x"!==n&&"y"!==n)if("rect"===g&&"r"===n)d(u,{rx:o,ry:o}),h=!0;else if("translateX"===n||"translateY"===n||"rotation"===n||"verticalAlign"===n)h=p=!0;else if("stroke"===n)o=f.color(o,u,n);else if("dashstyle"===n){if(n="stroke-dasharray","solid"===(o=o&&o.toLowerCase()))o=Bt;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),r=o.length;r--;)o[r]=i(o[r])*t["stroke-width"];o=o.join(",")}}else"isTracker"===n?this[n]=o:"width"===n?o=i(o):"align"===n?(n="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===n&&(r=u.getElementsByTagName("title")[0],r||(r=at.createElementNS("http://www.w3.org/2000/svg","title"),u.appendChild(r)),r.textContent=o);else n={x:"cx",y:"cy"}[n]||n;if("strokeWidth"===n&&(n="stroke-width"),Tt&&"stroke-width"===n&&0===o&&(o=1e-6),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(l||(this.symbolAttr(t),l=!0),h=!0),v&&/^(width|height|visibility|x|y|d|transform)$/.test(n))for(r=v.length;r--;)d(v[r],n,"height"===n?ut(o-(v[r].cutHeight||0),0):o);("width"===n||"height"===n)&&"rect"===g&&o<0&&(o=0),this[n]=o,p&&this.updateTransform(),"text"===n?(this.textStr=o,this.added&&f.buildText(this)):h||d(u,n,o)}return Tt&&/Chrome\/(18|19)/.test(bt)&&"text"===g&&(t.x!==Y||t.y!==Y)&&(n=u.parentNode,o=u.nextSibling,n&&(n.removeChild(u),o?n.insertBefore(u,o):n.appendChild(u))),x},symbolAttr:function(t){var e=this;_t("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=u(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},crisp:function(t,e,i,s,n){var o,r,a={},h={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;r=ct(t)%2/2,h.x=dt(e||this.x||0)+r,h.y=dt(i||this.y||0)+r,h.width=dt((s||this.width||0)-2*r),h.height=dt((n||this.height||0)-2*r),h.strokeWidth=t;for(o in h)this[o]!==h[o]&&(this[o]=a[o]=h[o]);return a},css:function(e){var i,s=this.element,s=e&&e.width&&"text"===s.nodeName,n="",o=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),kt&&!St)s&&delete e.width,g(this.element,e);else{for(i in e)n+=i.replace(/([A-Z])/g,o)+":"+e[i]+";";this.attr({style:n})}return s&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var i=e;return Mt&&"click"===t&&(t="touchstart",i=function(t){t.preventDefault(),e()}),this.element["on"+t]=i,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var i=this.element;return(i=e&&"SPAN"===i.tagName&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),g(this.element,e),this},htmlGetBBox:function(t){var e=this.element,i=this.bBox;return i&&!t||("text"===e.nodeName&&(e.style.position="absolute"),i=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,s=this.translateX||0,n=this.translateY||0,o=this.x||0,r=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],l=a&&"left"!==a,d=this.shadows;if((s||n)&&(g(e,{marginLeft:s,marginTop:n}),d&&_t(d,function(t){g(t,{marginLeft:s+1,marginTop:n+1})})),this.inverted&&_t(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var p,f,m,d=this.rotation;p=0;var v,x=1,y=0;m=i(this.textWidth);var b=this.xCorr||0,k=this.yCorr||0,w=[d,a,e.innerHTML,this.textWidth].join(",");w!==this.cTT&&(c(d)&&(p=d*yt,x=mt(p),y=vt(p),g(e,{filter:d?["progid:DXImageTransform.Microsoft.Matrix(M11=",x,", M12=",-y,", M21=",y,", M22=",x,", sizingMethod='auto expand')"].join(""):Bt})),p=u(this.elemWidth,e.offsetWidth),f=u(this.elemHeight,e.offsetHeight),p>m&&/[ \-]/.test(e.innerText)&&(g(e,{width:m+"px",display:"block",whiteSpace:"normal"}),p=m),m=t.fontMetrics(e.style.fontSize).b,b=x<0&&-p,k=y<0&&-f,v=x*y<0,b+=y*m*(v?1-h:h),k-=x*m*(d?v?h:1-h:1),l&&(b-=p*h*(x<0?-1:1),d&&(k-=f*h*(y<0?-1:1)),g(e,{textAlign:a})),this.xCorr=b,this.yCorr=k),g(e,{left:o+b+"px",top:r+k+"px"}),this.cTT=w}}else this.alignOnAdd=!0},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.inverted,s=this.rotation,n=[];i&&(t+=this.attr("width"),e+=this.attr("height")),(t||e)&&n.push("translate("+t+","+e+")"),i?n.push("rotate(90) scale(-1,1)"):s&&n.push("rotate("+s+" "+(this.x||0)+" "+(this.y||0)+")"),n.length&&d(this.element,"transform",n.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){t?(this.alignOptions=t,this.alignByTranslate=e,i||this.renderer.alignedObjects.push(this)):(t=this.alignOptions,e=this.alignByTranslate);var i=u(i,this.renderer),s=t.align,n=t.verticalAlign,o=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),a={};return/^(right|center)$/.test(s)&&(o+=(i.width-(t.width||0))/{right:1,center:2}[s]),a[e?"translateX":"x"]=ct(o),/^(bottom|middle)$/.test(n)&&(r+=(i.height-(t.height||0))/({bottom:1,middle:2}[n]||1)),a[e?"translateY":"y"]=ct(r),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(e){var i,s,n=this.rotation;s=this.element;var o=n*yt;if("http://www.w3.org/2000/svg"===s.namespaceURI||this.renderer.forExport){try{i=s.getBBox?t({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(t){}(!i||i.width<0)&&(i={width:0,height:0}),e=i.width,s=i.height,n&&(i.width=ft(s*vt(o))+ft(e*mt(o)),i.height=ft(s*mt(o))+ft(e*vt(o)))}else i=this.htmlGetBBox(e);return i},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(t){var e,s=this.renderer,n=t||s,o=n.element||s.box,r=o.childNodes,a=this.element,h=d(a,"zIndex");if(this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),h&&(n.handleZ=!0,h=i(h)),n.handleZ)for(n=0;n<r.length;n++)if(t=r[n],s=d(t,"zIndex"),t!==a&&(i(s)>h||!c(h)&&c(s))){o.insertBefore(a,t),e=!0;break}return e||o.appendChild(a),this.added=!0,ee(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,s=i.element||{},n=i.shadows,o=i.box;if(s.onclick=s.onmouseout=s.onmouseover=s.onmousemove=null,ne(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}i.safeRemoveChild(s),n&&_t(n,function(t){i.safeRemoveChild(t)}),o&&o.destroy(),l(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},empty:function(){for(var t=this.element,e=t.childNodes,i=e.length;i--;)t.removeChild(e[i])},shadow:function(t,e,i){var s,n,o=[],r=this.element,a=this.parentInverted?"(-1,-1)":"(1,1)";if(t){for(t=1;t<=3;t++)s=r.cloneNode(0),n=7-2*t,d(s,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*t,"stroke-width":n,transform:"translate"+a,fill:Bt}),i&&(d(s,"height",ut(d(s,"height")-n,0)),s.cutHeight=n),e?e.element.appendChild(s):r.parentNode.insertBefore(s,r),o.push(s);this.shadows=o}return this}};var ce=function(){this.init.apply(this,arguments)};ce.prototype={Element:D,init:function(t,e,i,s){var n,o=location;n=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"}),t.appendChild(n.element),this.isSVG=!0,this.box=n.element,this.boxWrapper=n,this.alignedObjects=[],this.url=kt?"":o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1"),this.defs=this.createElement("defs").add(),this.forExport=s,this.gradients={},this.setSize(e,i,!1);var r;Lt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){g(t,{left:0,top:0}),r=t.getBoundingClientRect(),g(t,{left:pt(r.left)-r.left+"px",top:pt(r.top)-r.top+"px"})},e(),Jt(ht,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),P(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&te(ht,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e,s=t.element,n=u(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=s.childNodes,r=/style="([^"]+)"/,a=/href="([^"]+)"/,h=d(s,"x"),l=t.styles,c=l&&i(l.width),p=l&&l.lineHeight,l=o.length,f=[];l--;)s.removeChild(o[l]);c&&!t.added&&this.box.appendChild(s),""===n[n.length-1]&&n.pop(),_t(n,function(n,o){var l,u,m=0,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=n.split("|||"),_t(l,function(n){if(""!==n||1===l.length){var v={},x=at.createElementNS("http://www.w3.org/2000/svg","tspan");if(r.test(n)&&d(x,"style",n.match(r)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),a.test(n)&&(d(x,"onclick",'location.href="'+n.match(a)[1]+'"'),g(x,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),x.appendChild(at.createTextNode(n)),m?v.dx=3:v.x=h,!m){if(o){if(!St&&t.renderer.forExport&&g(x,{display:"block"}),!(u=ht.getComputedStyle&&i(ht.getComputedStyle(e,null).getPropertyValue("line-height")))||isNaN(u)){var y;(y=p)||(y=e.offsetHeight)||(f[o]=s.getBBox().height,y=ct(f[o]-(f[o-1]||0))||18),u=y}d(x,"dy",u)}e=x}if(d(x,v),s.appendChild(x),m++,c)for(var n=n.replace(/-/g,"- ").split(" "),b=[];n.length||b.length;)y=t.getBBox().width,v=y>c,v&&1!==n.length?(x.removeChild(x.firstChild),b.unshift(n.pop())):(n=b,b=[],n.length&&(x=at.createElementNS("http://www.w3.org/2000/svg","tspan"),d(x,{dy:p||16,x:h}),s.appendChild(x),y>c&&(c=y))),n.length&&x.appendChild(at.createTextNode(n.join(" ").replace(/- /g,"-")))}})})},button:function(i,s,n,o,r,a,h){var l,c,d,p,u,g=this.label(i,s,n),f=0,i={x1:0,y1:0,x2:0,y2:1},r=Qt(e("stroke-width",1,"stroke","#999","fill",e("linearGradient",i,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",e("color","black")),r);return d=r.style,delete r.style,a=Qt(r,e("stroke","#68A","fill",e("linearGradient",i,"stops",[[0,"#FFF"],[1,"#ACF"]])),a),p=a.style,delete a.style,h=Qt(r,e("stroke","#68A","fill",e("linearGradient",i,"stops",[[0,"#9BD"],[1,"#CDF"]])),h),u=h.style,delete h.style,Jt(g.element,"mouseenter",function(){g.attr(a).css(p)}),Jt(g.element,"mouseleave",function(){l=[r,a,h][f],c=[d,p,u][f],g.attr(l).css(c)}),g.setState=function(t){(f=t)?2===t&&g.attr(h).css(u):g.attr(r).css(d)},g.on("click",function(){o.call(g)}).attr(r).css(t({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ct(t[1])+e%2/2),t[2]===t[5]&&(t[2]=t[5]=ct(t[2])+e%2/2),t},path:function(e){var i={fill:Bt};return o(e)?i.d=e:n(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=n(t)?t:{x:t,y:e,r:i},this.createElement("circle").attr(t)},arc:function(t,e,i,s,o,r){return n(t)&&(e=t.y,i=t.r,s=t.innerR,o=t.start,r=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:s||0,start:o||0,end:r||0})},rect:function(t,e,i,s,o,r){return o=n(t)?t.r:o,o=this.createElement("rect").attr({rx:o,ry:o,fill:Bt}),o.attr(n(t)?t:o.crisp(r,t,e,ut(i,0),ut(s,0)))},setSize:function(t,e,i){var s=this.alignedObjects,n=s.length;for(this.width=t,this.height=e,this.boxWrapper[u(i,!0)?"animate":"attr"]({width:t,height:e});n--;)s[n].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({class:"highcharts-"+t}):e},image:function(e,i,s,n,o){var r={preserveAspectRatio:Bt};return arguments.length>1&&t(r,{x:i,y:s,width:n,height:o}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,i,s,n,o,r){var a,h,l,c=this.symbols[e],c=c&&c(ct(i),ct(s),n,o,r),d=/^url\((.*?)\)$/;return c?(a=this.path(c),t(a,{symbolName:e,x:i,y:s,width:n,height:o}),r&&t(a,r)):d.test(e)&&(l=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-ct(e[0]/2),-ct(e[1]/2))},h=e.match(d)[1],e=Ct[h],a=this.image(h).attr({x:i,y:s}),e?l(a,e):(a.attr({width:0,height:0}),f("img",{onload:function(){l(a,Ct[h]=[this.width,this.height])},src:h}))),a},symbols:{circle:function(t,e,i,s){var n=.166*i;return["M",t+i/2,e,"C",t+i+n,e,t+i+n,e+s,t+i/2,e+s,"C",t-n,e+s,t-n,e,t+i/2,e,"Z"]},square:function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i,e+s,t,e+s,"Z"]},triangle:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s,t,e+s,"Z"]},"triangle-down":function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i/2,e+s,"Z"]},diamond:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s/2,t+i/2,e+s,t,e+s/2,"Z"]},arc:function(t,e,i,s,n){var o=n.start,i=n.r||i||s,r=n.end-1e-6,s=n.innerR,a=n.open,h=mt(o),l=vt(o),c=mt(r),r=vt(r),n=n.end-o<xt?0:1;return["M",t+i*h,e+i*l,"A",i,i,0,n,1,t+i*c,e+i*r,a?"M":"L",t+s*c,e+s*r,"A",s,s,0,n,0,t+s*h,e+s*l,a?"":"Z"]}},clipRect:function(t,e,i,s){var n="highcharts-"+It++,o=this.createElement("clipPath").attr({id:n}).add(this.defs),t=this.rect(t,e,i,s,0).add(o);return t.id=n,t.clipPath=o,t},color:function(e,i,s){var n,r,a=this,h=/^rgba/;if(e&&e.linearGradient?r="linearGradient":e&&e.radialGradient&&(r="radialGradient"),r){var l,p,u,s=e[r],g=a.gradients,i=i.radialReference;return s.id&&g[s.id]||(o(s)&&(e[r]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&i&&!c(s.gradientUnits)&&t(s,{cx:i[0]-i[2]/2+s.cx*i[2],cy:i[1]-i[2]/2+s.cy*i[2],r:s.r*i[2],gradientUnits:"userSpaceOnUse"}),s.id="highcharts-"+It++,g[s.id]=l=a.createElement(r).attr(s).add(a.defs),l.stops=[],_t(e.stops,function(t){h.test(t[1])?(n=le(t[1]),p=n.get("rgb"),u=n.get("a")):(p=t[1],u=1),t=a.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":u}).add(l),l.stops.push(t)})),"url("+a.url+"#"+s.id+")"}return h.test(e)?(n=le(e),d(i,s+"-opacity",n.get("a")),n.get("rgb")):(i.removeAttribute(s+"-opacity"),e)},text:function(t,e,i,s){var n=j.chart.style;return s&&!this.forExport?this.html(t,e,i):(e=ct(u(e,0)),i=ct(u(i,0)),t=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:n.fontFamily,fontSize:n.fontSize}),t.x=e,t.y=i,t)},html:function(e,i,s){var n=j.chart.style,o=this.createElement("span"),r=o.attrSetters,a=o.element,h=o.renderer;return r.text=function(t){return a.innerHTML=t,!1},r.x=r.y=r.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:ct(i),y:ct(s)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize}),o.css=o.htmlCss,h.isSVG&&(o.add=function(e){var i,s,n=h.box.parentNode;return e?(i=e.div)||(i=e.div=f(Dt,{className:d(e.element,"class")},{position:"absolute",left:e.attr("translateX")+"px",top:e.attr("translateY")+"px"},n),s=i.style,t(e.attrSetters,{translateX:function(t){s.left=t+"px"},translateY:function(t){s.top=t+"px"},visibility:function(t,e){s[e]=t}})):i=n,i.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){var t=i(t||11),t=t<24?t+4:ct(1.2*t);return{h:t,b:ct(.8*t)}},label:function(e,i,s,n,o,r,a,h,l){function d(){var t,e=w.styles,e=e&&e.textAlign,i=S*(1-L);t=h?0:b,!c(m)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(m-f.width)),(i!==T.x||t!==T.y)&&T.attr({x:i,y:t}),T.x=i,T.y=t}function p(t,e){g?g.attr(t,e):A[t]=e}function u(){w.attr({text:e,x:i,y:s}),c(o)&&w.attr({anchorX:o,anchorY:r})}var g,f,m,v,x,y,b,k=this,w=k.g(l),T=k.text("",0,0,a).attr({zIndex:1}).add(w),L=0,S=3,P=0,A={},a=w.attrSetters;Jt(w,"add",u),a.width=function(t){return m=t,!1},a.height=function(t){return v=t,!1},a.padding=function(t){return c(t)&&t!==S&&(S=t,d()),!1},a.align=function(t){return L={left:0,center:.5,right:1}[t],!1},a.text=function(t,e){T.attr(e,t);var i;return i=T.element.style,f=(void 0===m||void 0===v||w.styles.textAlign)&&T.getBBox(!0),w.width=(m||f.width||0)+2*S,w.height=(v||f.height||0)+2*S,b=S+k.fontMetrics(i&&i.fontSize).b,g||(i=h?-b:0,w.box=g=n?k.symbol(n,-L*S,i,w.width,w.height):k.rect(-L*S,i,w.width,w.height,0,A["stroke-width"]),g.add(w)),g.attr(Qt({width:w.width,height:w.height},A)),A=null,d(),!1},a["stroke-width"]=function(t,e){return P=t%2/2,p(e,t),!1},a.stroke=a.fill=a.r=function(t,e){return p(e,t),!1},a.anchorX=function(t,e){return o=t,p(e,t+P-x),!1},a.anchorY=function(t,e){return r=t,p(e,t-y),!1},a.x=function(t){return w.x=t,t-=L*((m||f.width)+S),x=ct(t),w.attr("translateX",x),!1},a.y=function(t){return y=w.y=ct(t),w.attr("translateY",t),!1};var M=w.css;return t(w,{css:function(t){if(t){var e={},t=Qt({},t);_t("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(i){t[i]!==Y&&(e[i]=t[i],delete t[i])}),T.css(e)}return M.call(w,t)},getBBox:function(){return g.getBBox()},shadow:function(t){return g.shadow(t),w},destroy:function(){te(w,"add",u),te(w.element,"mouseenter"),te(w.element,"mouseleave"),T&&(T=T.destroy()),D.prototype.destroy.call(w)}})}},F=ce;var de;if(!St&&!At){de={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],s=["position: ","absolute",";"];("shape"===e||e===Dt)&&s.push("left:0;top:0;width:1px;height:1px;"),wt&&s.push("visibility: ",e===Dt?"hidden":"visible"),i.push(' style="',s.join(""),'"/>'),e&&(i=e===Dt||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=f(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,i=this.element,s=e.box,s=t?t.element||t:s;return t&&t.inverted&&e.invertChild(i,s),wt&&"hidden"===s.gVis&&g(i,{visibility:"hidden"}),s.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),ee(this,"add"),this},toggleChildren:function(t,e){for(var i=t.childNodes,s=i.length;s--;)g(i[s],{visibility:e}),"DIV"===i[s].nodeName&&this.toggleChildren(i[s],e)},updateTransform:D.prototype.htmlUpdateTransform,attr:function(t,e){var i,n,o,a,h,l=this.element||{},p=l.style,u=l.nodeName,g=this.renderer,m=this.symbolName,v=this.shadows,x=this.attrSetters,y=this;if(s(t)&&c(e)&&(i=t,t={},t[i]=e),s(t))i=t,y="strokeWidth"===i||"stroke-width"===i?this.strokeweight:this[i];else for(i in t)if(n=t[i],h=!1,!1!==(o=x[i]&&x[i](n,i))&&null!==n){if(o!==Y&&(n=o),m&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))a||(this.symbolAttr(t),a=!0),h=!0;else if("d"===i){for(n=n||[],this.d=n.join(" "),o=n.length,h=[];o--;)h[o]=r(n[o])?ct(10*n[o])-5:"Z"===n[o]?"x":n[o];if(n=h.join(" ")||"x",l.path=n,v)for(o=v.length;o--;)v[o].path=v[o].cutOff?this.cutOffPath(n,v[o].cutOff):n;h=!0}else"zIndex"===i||"visibility"===i?(wt&&"visibility"===i&&"DIV"===u&&(l.gVis=n,this.toggleChildren(l,n),"visible"===n&&(n=null)),n&&(p[i]=n),h=!0):"width"===i||"height"===i?(n=ut(0,n),this[i]=n,this.updateClipping?(this[i]=n,this.updateClipping()):p[i]=n,h=!0):"x"===i||"y"===i?(this[i]=n,p[{x:"left",y:"top"}[i]]=n):"class"===i?l.className=n:"stroke"===i?(n=g.color(n,l,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(l.stroked=!!n,i="strokeweight",this[i]=n,r(n)&&(n+="px")):"dashstyle"===i?((l.getElementsByTagName("stroke")[0]||f(g.prepVML(["<stroke/>"]),null,null,l))[i]=n||"solid",this.dashstyle=n,h=!0):"fill"===i?"SPAN"===u?p.color=n:(l.filled=n!==Bt,n=g.color(n,l,i),i="fillcolor"):"shape"===u&&"rotation"===i?this[i]=n:"translateX"===i||"translateY"===i||"rotation"===i?(this[i]=n,this.updateTransform(),h=!0):"text"===i&&(this.bBox=null,l.innerHTML=n,h=!0);if(v&&"visibility"===i)for(o=v.length;o--;)v[o].style[i]=n;h||(wt?l[i]=n:d(l,i,n))}return y},clip:function(t){var e=this,i=t.members,s=e.element,n=s.parentNode;return i.push(e),e.destroyClip=function(){l(i,e)},n&&"highcharts-tracker"===n.className&&!wt&&g(s,{visibility:"hidden"}),e.css(t.getCSS(e))},css:D.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&A(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),D.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element.childNodes,i=e.length;i--;)t=e[i],t.parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=ht.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var s,t=t.split(/[ ,]/);return s=t.length,9!==s&&11!==s||(t[s-4]=t[s-2]=i(t[s-2])-10*e),t.join(" ")},shadow:function(t,e,s){var n,o,r,a,h=[],l=this.element,c=this.renderer,d=l.style,p=l.path;if(p&&"string"!=typeof p.value&&(p="x"),a=p,t){for(t=1;t<=3;t++)r=7-2*t,s&&(a=this.cutOffPath(p.value,r+.5)),o=['<shape isShadow="true" strokeweight="',7-2*t,'" filled="false" path="',a,'" coordsize="10 10" style="',l.style.cssText,'" />'],n=f(c.prepVML(o),null,{left:i(d.left)+1,top:i(d.top)+1}),s&&(n.cutOff=r+1),o=['<stroke color="black" opacity="',.05*t,'"/>'],f(c.prepVML(o),null,null,n),e?e.element.appendChild(n):l.parentNode.insertBefore(n,l),h.push(n);this.shadows=h}return this}},de=m(D,de);var pe={Element:de,isIE8:bt.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var s,n;this.alignedObjects=[],s=this.createElement(Dt),n=s.element,n.style.position="relative",t.appendChild(s.element),this.box=n,this.boxWrapper=s,this.setSize(e,i,!1),at.namespaces.hcv||(at.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,s,n){var o=this.createElement();return t(o,{members:[],left:e,top:i,width:s,height:n,getCSS:function(e){var i=e.inverted,s=this.top,n=this.left,o=n+this.width,r=s+this.height,s={clip:"rect("+ct(i?n:s)+"px,"+ct(i?r:o)+"px,"+ct(i?o:r)+"px,"+ct(i?s:n)+"px)"};return!i&&wt&&"IMG"!==e.element.nodeName&&t(s,{width:o+"px",height:r+"px"}),s},updateClipping:function(){_t(o.members,function(t){t.css(o.getCSS(t))})}})},color:function(t,e,i){var s,n,o=/^rgba/,r=Bt;if(t&&t.linearGradient?n="gradient":t&&t.radialGradient&&(n="pattern"),n){var a,h,l,c,d,p,u,g,m,v=t.linearGradient||t.radialGradient,x="",t=t.stops,y=[];c=t[0],m=t[t.length-1],c[0]>0&&t.unshift([0,c[1]]),m[0]<1&&t.push([1,m[1]]),_t(t,function(t,e){o.test(t[1])?(s=le(t[1]),a=s.get("rgb"),h=s.get("a")):(a=t[1],h=1),y.push(100*t[0]+"% "+a),e?(p=h,u=a):(d=h,g=a)}),"gradient"===n?(l=v.x1||v[0]||0,t=v.y1||v[1]||0,c=v.x2||v[2]||0,v=v.y2||v[3]||0,l=90-180*lt.atan((v-t)/(c-l))/xt):(r=2*v.r,x='src="http://code.highcharts.com/gfx/radial-gradient.png" size="'+r+","+r+'" origin="0.5,0.5" position="'+v.cx+","+v.cy+'" color2="'+g+'" ',r=u),"fill"===i?(i=['<fill colors="'+y.join(",")+'" angle="',l,'" opacity="',p,'" o:opacity2="',d,'" type="',n,'" ',x,'focus="100%" method="any" />'],f(this.prepVML(i),null,null,e)):r=a}else o.test(t)&&"IMG"!==e.tagName?(s=le(t),i=["<",i,' opacity="',s.get("a"),'"/>'],f(this.prepVML(i),null,null,e),r=s.get("rgb")):(e=e.getElementsByTagName(i),e.length&&(e[0].opacity=1),r=t);return r},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:ce.prototype.html,path:function(e){var i={coordsize:"10 10"};return o(e)?i.d=e:n(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){return this.symbol("circle").attr({x:t-i,y:e-i,width:2*i,height:2*i})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement(Dt).attr(e)},image:function(t,e,i,s,n){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.css({left:e,top:i,width:s,height:n}),o},rect:function(t,e,i,s,o,r){n(t)&&(e=t.y,i=t.width,s=t.height,r=t.strokeWidth,t=t.x);var a=this.symbol("rect");return a.r=o,a.attr(a.crisp(r,t,e,ut(i,0),ut(s,0)))},invertChild:function(t,e){var s=e.style;g(t,{flip:"x",left:i(s.width)-1,top:i(s.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,s,n){var o=n.start,r=n.end,a=n.r||i||s,i=mt(o),s=vt(o),h=mt(r),l=vt(r),c=n.innerR,d=.08/a,p=c&&.1/c||0;return r-o==0?["x"]:(2*xt-r+o<d?h=-d:r-o<p&&(h=mt(o+p)),o=["wa",t-a,e-a,t+a,e+a,t+a*i,e+a*s,t+a*h,e+a*l],n.open&&o.push("M",t-c,e-c),o.push("at",t-c,e-c,t+c,e+c,t+c*h,e+c*l,t+c*i,e+c*s,"x","e"),o)},circle:function(t,e,i,s){return["wa",t,e,t+i,e+s,t+i,e+s/2,t+i,e+s/2,"e"]},rect:function(t,e,i,s,n){var o,r=t+i,a=e+s;return c(n)&&n.r?(o=gt(n.r,i,s),r=["M",t+o,e,"L",r-o,e,"wa",r-2*o,e,r,e+2*o,r-o,e,r,e+o,"L",r,a-o,"wa",r-2*o,a-2*o,r,a,r,a-o,r-o,a,"L",t+o,a,"wa",t,a-2*o,t+2*o,a,t+o,a,t,a-o,"L",t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]):r=ce.prototype.symbols.square.apply(0,arguments),r}}};de=function(){this.init.apply(this,arguments)},de.prototype=Qt(ce.prototype,pe),F=de}var ue,ge;At&&(ue=function(){},ue.prototype.symbols={},ge=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,s){0===e.length&&Ut(s,t),e.push(i)}}}()),F=de||ue||ce,B.prototype={addLabel:function(){var e,i=this.axis,s=i.options,n=i.chart,o=i.horiz,a=i.categories,l=this.pos,d=s.labels,p=i.tickPositions,o=a&&o&&a.length&&!d.step&&!d.staggerLines&&!d.rotation&&n.plotWidth/p.length||!o&&n.plotWidth/2,u=l===p[0],g=l===p[p.length-1],f=a&&c(a[l])?a[l]:l,a=this.label,p=p.info;i.isDatetimeAxis&&p&&(e=s.dateTimeLabelFormats[p.higherRanks[l]||p.unitName]),this.isFirst=u,this.isLast=g,s=i.labelFormatter.call({axis:i,chart:n,isFirst:u,isLast:g,dateTimeLabelFormat:e,value:i.isLog?C(h(f)):f}),l=o&&{width:ut(1,ct(o-2*(d.padding||10)))+"px"},l=t(l,d.style),c(a)?a&&a.attr({text:s}).css(l):(o={align:d.align},r(d.rotation)&&(o.rotation=d.rotation),this.label=c(s)&&d.enabled?n.renderer.text(s,0,0,d.useHTML).attr(o).css(l).add(i.axisGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox(!0))[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.axis.options.labels,e=this.labelBBox.width,t=e*{left:0,center:.5,right:1}[t.align]-t.x;return[-t,e-t]},handleOverflow:function(t,e){var i=!0,s=this.axis,n=s.chart,o=this.isFirst,r=this.isLast,a=e.x,h=s.reversed,l=s.tickPositions;if(o||r){var c=this.getLabelSides(),d=c[0],c=c[1],n=n.plotLeft,p=n+s.len,l=(s=s.ticks[l[t+(o?1:-1)]])&&s.label.xy.x+s.getLabelSides()[o?0:1];o&&!h||r&&h?a+d<n&&(a=n-d,s&&a+c>l&&(i=!1)):a+c>p&&(a=p-c,s&&a+d<l&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,s){var n=this.axis,o=n.chart,r=s&&o.oldChartHeight||o.chartHeight;return{x:t?n.translate(e+i,null,null,s)+n.transB:n.left+n.offset+(n.opposite?(s&&o.oldChartWidth||o.chartWidth)-n.right-n.left:0),y:t?r-n.bottom+n.offset-(n.opposite?n.height:0):r-n.translate(e+i,null,null,s)-n.transB}},getLabelPosition:function(t,e,s,n,o,r,a,h){var l=this.axis,d=l.transA,p=l.reversed,l=l.staggerLines,t=t+o.x-(r&&n?r*d*(p?-1:1):0),e=e+o.y-(r&&!n?r*d*(p?1:-1):0);return c(o.y)||(e+=.9*i(s.styles.lineHeight)-s.getBBox().height/2),l&&(e+=a/(h||1)%l*16),{x:t,y:e}},getMarkPath:function(t,e,i,s,n,o){return o.crispLine(["M",t,e,"L",t+(n?0:-i),e+(n?i:0)],s)},render:function(t,e){var i=this.axis,s=i.options,n=i.chart.renderer,o=i.horiz,r=this.type,a=this.label,h=this.pos,l=s.labels,c=this.gridLine,d=r?r+"Grid":"grid",p=r?r+"Tick":"tick",g=s[d+"LineWidth"],f=s[d+"LineColor"],m=s[d+"LineDashStyle"],v=s[p+"Length"],d=s[p+"Width"]||0,x=s[p+"Color"],y=s[p+"Position"],p=this.mark,b=l.step,k=!0,w=s.categories&&"between"===s.tickmarkPlacement?.5:0,T=this.getPosition(o,h,w,e),L=T.x,T=T.y,S=i.staggerLines;g&&(h=i.getPlotLinePath(h+w,g,e),c===Y&&(c={stroke:f,"stroke-width":g},m&&(c.dashstyle=m),r||(c.zIndex=1),this.gridLine=c=g?n.path(h).attr(c).add(i.gridGroup):null),!e&&c&&h&&c[this.isNew?"attr":"animate"]({d:h})),d&&("inside"===y&&(v=-v),i.opposite&&(v=-v),r=this.getMarkPath(L,T,v,d,o,n),p?p.animate({d:r}):this.mark=n.path(r).attr({stroke:x,"stroke-width":d}).add(i.axisGroup)),a&&!isNaN(L)&&(a.xy=T=this.getLabelPosition(L,T,a,o,l,w,t,b),this.isFirst&&!u(s.showFirstLabel,1)||this.isLast&&!u(s.showLastLabel,1)?k=!1:!S&&o&&"justify"===l.overflow&&!this.handleOverflow(t,T)&&(k=!1),b&&t%b&&(k=!1),k?(a[this.isNew?"attr":"animate"](T),a.show(),this.isNew=!1):a.hide())},destroy:function(){P(this,this.axis)}},R.prototype={render:function(){var t,e=this,i=e.axis,s=i.horiz,n=(i.pointRange||0)/2,o=e.options,r=o.label,h=e.label,l=o.width,d=o.to,p=o.from,g=c(p)&&c(d),f=o.value,m=o.dashStyle,v=e.svgElem,x=[],y=o.color,b=o.zIndex,k=o.events,w=i.chart.renderer;if(i.isLog&&(p=a(p),d=a(d),f=a(f)),l)x=i.getPlotLinePath(f,l),n={stroke:y,"stroke-width":l},m&&(n.dashstyle=m);else{if(!g)return;p=ut(p,i.min-n),d=gt(d,i.max+n),x=i.getPlotBandPath(p,d,o),n={fill:y},o.borderWidth&&(n.stroke=o.borderColor,n["stroke-width"]=o.borderWidth)}if(c(b)&&(n.zIndex=b),v)x?v.animate({d:x},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()});else if(x&&x.length&&(e.svgElem=v=w.path(x).attr(n).add(),k))for(t in o=function(t){v.on(t,function(i){k[t].apply(e,[i])})},k)o(t);return r&&c(r.text)&&x&&x.length&&i.width>0&&i.height>0?(r=Qt({align:s&&g&&"center",x:s?!g&&4:10,verticalAlign:!s&&g&&"middle",y:s?g?16:10:g?6:-4,rotation:s&&!g&&90},r),h||(e.label=h=w.text(r.text,0,0).attr({align:r.textAlign||r.align,rotation:r.rotation,zIndex:b}).css(r.style).add()),i=[x[1],x[4],u(x[6],x[1])],x=[x[2],x[5],u(x[7],x[2])],s=L(i),g=L(x),h.align(r,!1,{x:s,y:g,width:S(i)-s,height:S(x)-g}),h.show()):h&&h.hide(),e},destroy:function(){l(this.axis.plotLinesAndBands,this),P(this,this.axis)}},W.prototype={destroy:function(){P(this,this.axis)},setTotal:function(t){this.cum=this.total=t},render:function(t){var e=this.options.formatter.call(this);this.label?this.label.attr({text:e,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(e,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,s=i.chart,n=s.inverted,o=this.isNegative,r=i.translate(this.total,0,0,0,1),i=i.translate(0),i=ft(r-i),a=s.xAxis[0].translate(this.x)+t,s=s.plotHeight,n={x:n?o?r:r-i:a,y:n?s-a-e:o?s-r-i:s-r,width:n?i:e,height:n?e:i};this.label&&this.label.align(this.alignOptions,null,n).attr({visibility:"visible"})}},H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Vt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Vt.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.xOrY=(this.isXAxis=i)?"x":"y",this.opposite=e.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(e);var s=this.options,n=s.type,o="datetime"===n;this.labelFormatter=s.labels.formatter||this.defaultLabelFormatter,this.staggerLines=this.horiz&&s.labels.staggerLines,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=s.reversed,this.categories=s.categories,this.isLog="logarithmic"===n,this.isLinked=c(s.linkedTo),this.isDatetimeAxis=o,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.stacks={},this.min=this.max=null;var r,s=this.options.events;t.axes.push(this),t[i?"xAxis":"yAxis"].push(this),this.series=[],t.inverted&&i&&this.reversed===Y&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(r in s)Jt(this,r,s[r]);this.isLog&&(this.val2lin=a,this.lin2val=h)},setOptions:function(t){this.options=Qt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t)},defaultLabelFormatter:function(){var t=this.axis,e=this.value,i=t.tickInterval,s=this.dateTimeLabelFormat;return t.categories?e:s?V(s,e):i%1e6==0?e/1e6+" mln":i%1e3==0?e/1e3+" tys":e>=1e3?v(e,0):v(e,-1)},getSeriesExtremes:function(){var t,e=this,i=e.chart,s=e.stacks,n=[],o=[];e.dataMin=e.dataMax=null,_t(e.series,function(r){if(r.visible||!i.options.chart.ignoreHiddenSeries){var a,h,l,d,p,g,f,m,v,x,y=r.options,b=y.threshold,k=[],w=0;if(e.isLog&&b<=0&&(b=y.threshold=null),e.isXAxis)y=r.xData,y.length&&(e.dataMin=gt(u(e.dataMin,y[0]),L(y)),e.dataMax=ut(u(e.dataMax,y[0]),S(y)));else{var T,P,A,M=r.cropped,C=r.xAxis.getExtremes(),I=!!r.modifyValue;for(a=y.stacking,e.usePercentage="percent"===a,a&&(p=y.stack,d=r.type+u(p,""),g="-"+d,r.stackKey=d,h=n[d]||[],n[d]=h,l=o[g]||[],o[g]=l),e.usePercentage&&(e.dataMin=0,e.dataMax=99),y=r.processedXData,f=r.processedYData,x=f.length,t=0;t<x;t++)if(m=y[t],null!==(v=f[t])&&v!==Y&&(a?(P=(T=v<b)?l:h,A=T?g:d,v=P[m]=c(P[m])?P[m]+v:v,s[A]||(s[A]={}),s[A][m]||(s[A][m]=new W(e,e.options.stackLabels,T,m,p)),s[A][m].setTotal(v)):I&&(v=r.modifyValue(v)),M||(y[t+1]||m)>=C.min&&(y[t-1]||m)<=C.max))if(m=v.length)for(;m--;)null!==v[m]&&(k[w++]=v[m]);else k[w++]=v;!e.usePercentage&&k.length&&(e.dataMin=gt(u(e.dataMin,k[0]),L(k)),e.dataMax=ut(u(e.dataMax,k[0]),S(k))),c(b)&&(e.dataMin>=b?(e.dataMin=b,e.ignoreMinPadding=!0):e.dataMax<b&&(e.dataMax=b,e.ignoreMaxPadding=!0))}}})},translate:function(t,e,i,s,n){var o=this.len,r=1,a=0,h=s?this.oldTransA:this.transA,s=s?this.oldMin:this.min,n=this.options.ordinal||this.isLog&&n;return h||(h=this.transA),i&&(r*=-1,a=o),this.reversed&&(r*=-1,a-=r*o),e?(this.reversed&&(t=o-t),t=t/h+s,n&&(t=this.lin2val(t))):(n&&(t=this.val2lin(t)),t=r*(t-s)*h+a+r*this.minPixelPadding),t},getPlotLinePath:function(t,e,i){var s,n,o,r,a=this.chart,h=this.left,l=this.top,t=this.translate(t,null,null,i),c=i&&a.oldChartHeight||a.chartHeight,d=i&&a.oldChartWidth||a.chartWidth;return s=this.transB,i=n=ct(t+s),s=o=ct(c-t-s),isNaN(t)?r=!0:this.horiz?(s=l,o=c-this.bottom,(i<h||i>h+this.width)&&(r=!0)):(i=h,n=d-this.right,(s<l||s>l+this.height)&&(r=!0)),r?null:a.renderer.crispLine(["M",i,s,"L",n,o],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),s=this.getPlotLinePath(t);return s&&i?s.push(i[4],i[5],i[1],i[2]):s=null,s},getLinearTickPositions:function(t,e,i){for(var s,e=C(dt(e/t)*t),i=C(pt(i/t)*t),n=[];e<=i&&(n.push(e),(e=C(e+t))!==s);)s=e;return n},getLogTickPositions:function(t,e,i,s){var n=this.options,o=this.len,r=[];if(s||(this._minorAutoInterval=null),t>=.5)t=ct(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var l,c,d,p,g,o=dt(e),n=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!g;o++)for(c=n.length,l=0;l<c&&!g;l++)d=a(h(o)*n[l]),d>e&&r.push(p),p>i&&(g=!0),p=d;else e=h(e),i=h(i),t=n[s?"minorTickInterval":"tickInterval"],t=u("auto"===t?null:t,this._minorAutoInterval,(i-e)*(n.tickPixelInterval/(s?5:1))/((s?o/this.tickPositions.length:o)||1)),t=y(t,null,lt.pow(10,dt(lt.log(t)/lt.LN10))),r=qt(this.getLinearTickPositions(t,e,i),a),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),r},getMinorTickPositions:function(){var t,e,i=this.tickPositions,s=this.minorTickInterval,n=[];if(this.isLog)for(e=i.length,t=1;t<e;t++)n=n.concat(this.getLogTickPositions(s,i[t-1],i[t],!0));else for(i=this.min+(i[0]-this.min)%s;i<=this.max;i+=s)n.push(i);return n},adjustForMinRange:function(){var t,e,i,s,n,o,r=this.options,a=this.min,h=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===Y&&!this.isLog&&(c(r.min)||c(r.max)?this.minRange=null:(_t(this.series,function(t){for(n=t.xData,i=o=t.xIncrement?1:n.length-1;i>0;i--)s=n[i]-n[i-1],(e===Y||s<e)&&(e=s)}),this.minRange=gt(5*e,this.dataMax-this.dataMin))),h-a<this.minRange){var d=this.minRange;t=(d-h+a)/2,t=[a-t,u(r.min,a-t)],l&&(t[2]=this.dataMin),a=S(t),h=[a+d,u(r.max,a+d)],l&&(h[2]=this.dataMax),h=L(h),h-a<d&&(t[0]=h-d,t[1]=u(r.min,h-d),a=S(t))}this.min=a,this.max=h},setAxisTranslation:function(){var t,e,i=this.max-this.min,s=0,n=this.transA;this.isXAxis&&(this.isLinked?s=this.linkedParent.pointRange:_t(this.series,function(i){s=ut(s,i.pointRange),e=i.closestPointRange,!i.noSharedTooltip&&c(e)&&(t=c(t)?gt(t,e):e)}),this.pointRange=s,this.closestPointRange=t),this.oldTransA=n,this.translationSlope=this.transA=n=this.len/(i+s||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=n*(s/2)},setTickPositions:function(t){var e=this,i=e.chart,s=e.options,n=e.isLog,o=e.isDatetimeAxis,r=e.isXAxis,h=e.isLinked,l=e.options.tickPositioner,d=s.maxPadding,p=s.minPadding,g=s.tickInterval,f=s.tickPixelInterval,m=e.categories;h?(e.linkedParent=i[r?"xAxis":"yAxis"][s.linkedTo],i=e.linkedParent.getExtremes(),e.min=u(i.min,i.dataMin),e.max=u(i.max,i.dataMax),s.type!==e.linkedParent.options.type&&M(11,1)):(e.min=u(e.userMin,s.min,e.dataMin),e.max=u(e.userMax,s.max,e.dataMax)),n&&(!t&&gt(e.min,u(e.dataMin,e.min))<=0&&M(10,1),e.min=C(a(e.min)),e.max=C(a(e.max))),e.range&&(e.userMin=e.min=ut(e.min,e.max-e.range),e.userMax=e.max,t)&&(e.range=null),e.adjustForMinRange(),m||e.usePercentage||h||!c(e.min)||!c(e.max)||(i=e.max-e.min||1,c(s.min)||c(e.userMin)||!p||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=i*p),c(s.max)||c(e.userMax)||!d||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=i*d)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:h&&!g&&f===e.linkedParent.options.tickPixelInterval?e.linkedParent.tickInterval:u(g,m?1:(e.max-e.min)*f/(e.len||1)),r&&!t&&_t(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),o||n||(t=lt.pow(10,dt(lt.log(e.tickInterval)/lt.LN10)),c(s.tickInterval))||(e.tickInterval=y(e.tickInterval,null,t,s)),e.minorTickInterval="auto"===s.minorTickInterval&&e.tickInterval?e.tickInterval/5:s.minorTickInterval,e.tickPositions=l=s.tickPositions||l&&l.apply(e,[e.min,e.max]),l||(l=o?(e.getNonLinearTimeTicks||k)(b(e.tickInterval,s.units),e.min,e.max,s.startOfWeek,e.ordinalPositions,e.closestPointRange,!0):n?e.getLogTickPositions(e.tickInterval,e.min,e.max):e.getLinearTickPositions(e.tickInterval,e.min,e.max),e.tickPositions=l),h||(n=l[0],o=l[l.length-1],s.startOnTick?e.min=n:e.min>n&&l.shift(),s.endOnTick?e.max=o:e.max<o&&l.pop())},setMaxTicks:function(){var t=this.chart,e=t.maxTicks,i=this.tickPositions,s=this.xOrY;e||(e={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&i.length>e[s]&&!1!==this.options.alignTicks&&(e[s]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this.xOrY,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks){var s=this.tickAmount,n=e.length;if(this.tickAmount=t=i[t],n<t){for(;e.length<t;)e.push(C(e[e.length-1]+this.tickInterval));this.transA*=(n-1)/(t-1),this.max=e[e.length-1]}c(s)&&t!==s&&(this.isDirty=!0)}},setScale:function(){var t,e,i,s,n=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),s=this.len!==this.oldAxisLength,_t(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),(s||i||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)&&(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=s||this.min!==this.oldMin||this.max!==this.oldMax)),!this.isXAxis)for(t in n)for(e in n[t])n[t][e].cum=n[t][e].total;this.setMaxTicks()},setExtremes:function(e,i,s,n,o){var r=this,a=r.chart,s=u(s,!0),o=t(o,{min:e,max:i});ee(r,"setExtremes",o,function(){r.userMin=e,r.userMax=i,r.isDirtyExtremes=!0,s&&a.redraw(n)})},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,s=e.offsetRight||0;this.left=u(e.left,t.plotLeft+i),this.top=u(e.top,t.plotTop),this.width=u(e.width,t.plotWidth-i+s),this.height=u(e.height,t.plotHeight),this.bottom=t.chartHeight-this.height-this.top,this.right=t.chartWidth-this.width-this.left,this.len=ut(this.horiz?this.width:this.height,0)},getExtremes:function(){var t=this.isLog;return{min:t?C(h(this.min)):this.min,max:t?C(h(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?h(this.min):this.min,e=e?h(this.max):this.max;return i>t||null===t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},addPlotBandOrLine:function(t){return t=new R(this,t).render(),this.plotLinesAndBands.push(t),t},getOffset:function(){var t,e,i,s=this,n=s.chart,o=n.renderer,r=s.options,a=s.tickPositions,h=s.ticks,l=s.horiz,d=s.side,p=0,g=0,f=r.title,m=r.labels,v=0,x=n.axisOffset,y=[-1,1,1,-1][d];if(s.hasData=n=s.series.length&&c(s.min)&&c(s.max),s.showAxis=t=n||u(r.showEmpty,!0),s.axisGroup||(s.axisGroup=o.g("axis").attr({zIndex:r.zIndex||7}).add(),s.gridGroup=o.g("grid").attr({zIndex:r.gridZIndex||1}).add()),n||s.isLinked)_t(a,function(t){h[t]?h[t].addLabel():h[t]=new B(s,t)}),_t(a,function(t){0!==d&&2!==d&&{1:"left",3:"right"}[d]!==m.align||(v=ut(h[t].getLabelSize(),v))}),s.staggerLines&&(v+=16*(s.staggerLines-1));else for(i in h)h[i].destroy(),delete h[i];f&&f.text&&(s.axisTitle||(s.axisTitle=o.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:"left",middle:"center",high:"right"}[f.align]}).css(f.style).add(s.axisGroup),s.axisTitle.isNew=!0),t&&(p=s.axisTitle.getBBox()[l?"height":"width"],g=u(f.margin,l?5:10),e=f.offset),s.axisTitle[t?"show":"hide"]()),s.offset=y*u(r.offset,x[d]),s.axisTitleMargin=u(e,v+g+(2!==d&&v&&y*r.labels[l?"y":"x"])),x[d]=ut(x[d],s.axisTitleMargin+p+y*s.offset)},getLinePath:function(t){var e=this.chart,i=this.opposite,s=this.offset,n=this.horiz,o=this.left+(i?this.width:0)+s,i=e.chartHeight-this.bottom-(i?this.height:0)+s;return e.renderer.crispLine(["M",n?this.left:o,n?i:this.top,"L",n?e.chartWidth-this.right:o,n?i:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,s=this.top,n=this.len,o=this.options.title,r=t?e:s,a=this.opposite,h=this.offset,l=i(o.style.fontSize||12),n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[o.align],e=(t?s+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:t?n:e+(a?this.width:0)+h+(o.x||0),y:t?e-(a?this.height:0)+h:n+(o.y||0)}},render:function(){var t,e,i,s=this,n=s.chart,o=n.renderer,r=s.options,a=s.isLog,l=s.isLinked,d=s.tickPositions,p=s.axisTitle,u=s.stacks,g=s.ticks,f=s.minorTicks,m=s.alternateBands,v=r.stackLabels,x=r.alternateGridColor,y=r.lineWidth,b=n.hasRendered&&c(s.oldMin)&&!isNaN(s.oldMin),k=s.showAxis;if((s.hasData||l)&&(s.minorTickInterval&&!s.categories&&_t(s.getMinorTickPositions(),function(t){f[t]||(f[t]=new B(s,t,"minor")),b&&f[t].isNew&&f[t].render(null,!0),f[t].isActive=!0,f[t].render()}),_t(d.slice(1).concat([d[0]]),function(t,e){e=e===d.length-1?0:e+1,(!l||t>=s.min&&t<=s.max)&&(g[t]||(g[t]=new B(s,t)),b&&g[t].isNew&&g[t].render(e,!0),g[t].isActive=!0,g[t].render(e))}),x&&_t(d,function(t,n){n%2==0&&t<s.max&&(m[t]||(m[t]=new R(s)),e=t,i=d[n+1]!==Y?d[n+1]:s.max,m[t].options={from:a?h(e):e,to:a?h(i):i,color:x},m[t].render(),m[t].isActive=!0)}),s._addedPlotLB||(_t((r.plotLines||[]).concat(r.plotBands||[]),function(t){s.addPlotBandOrLine(t)}),s._addedPlotLB=!0)),_t([g,f,m],function(t){for(var e in t)t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e])}),y&&(t=s.getLinePath(y),s.axisLine?s.axisLine.animate({d:t}):s.axisLine=o.path(t).attr({stroke:r.lineColor,"stroke-width":y,zIndex:7}).add(),s.axisLine[k?"show":"hide"]()),p&&k&&(p[p.isNew?"attr":"animate"](s.getTitlePosition()),p.isNew=!1),v&&v.enabled){var w,T,r=s.stackTotalGroup;r||(s.stackTotalGroup=r=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(n.plotLeft,n.plotTop);for(w in u)for(T in n=u[w])n[T].render(r)}s.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=e.length;i--;)e[i].id===t&&e[i].destroy()},setTitle:function(t,e){var i=this.chart,s=this.options;s.title=Qt(s.title,t),this.axisTitle=void 0,this.isDirty=!0,u(e,!0)&&i.redraw()},redraw:function(){var t=this.chart;t.tracker.resetTracker&&t.tracker.resetTracker(!0),this.render(),_t(this.plotLinesAndBands,function(t){t.render()}),_t(this.series,function(t){t.isDirty=!0})},setCategories:function(t,e){var i=this.chart;this.categories=this.userOptions.categories=t,_t(this.series,function(t){t.translate(),t.setTooltipPoints(!0)}),this.isDirty=!0,u(e,!0)&&i.redraw()},destroy:function(){var t,e=this,i=e.stacks;te(e);for(t in i)P(i[t]),i[t]=null;_t([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(t){P(t)}),_t(["stackTotalGroup","axisLine","axisGroup","gridGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},O.prototype={destroy:function(){_t(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(t,e){var i=this;i.currentX=i.tooltipIsHidden?t:(2*i.currentX+t)/3,i.currentY=i.tooltipIsHidden?e:(i.currentY+e)/2,i.label.attr({x:i.currentX,y:i.currentY}),i.tooltipTick=ft(t-i.currentX)>1||ft(e-i.currentY)>1?function(){i.move(t,e)}:null},hide:function(){if(!this.tooltipIsHidden){var t=this.chart.hoverPoints;this.label.hide(),t&&_t(t,function(t){t.setState()}),this.chart.hoverPoints=null,this.tooltipIsHidden=!0}},hideCrosshairs:function(){_t(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,s=this.chart,n=s.inverted,o=0,r=0,t=p(t);return i=t[0].tooltipPos,i||(_t(t,function(t){o+=t.plotX,r+=t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY}),o/=t.length,r/=t.length,i=[n?s.plotWidth-r:o,this.shared&&!n&&t.length>1&&e?e.chartY-s.plotTop:n?s.plotHeight-o:r]),qt(i,ct)},getPosition:function(t,e,i){var s,n=this.chart,o=n.plotLeft,r=n.plotTop,a=n.plotWidth,h=n.plotHeight,l=u(this.options.distance,12),c=i.plotX,i=i.plotY,n=c+o+(n.inverted?l:-t-l),d=i-e+r+15;return n<7&&(n=o+c+l),n+t>o+a&&(n-=n+t-(o+a),d=i-e+r-l,s=!0),d<r+5&&(d=r+5,s&&i>=d&&i<=d+e&&(d=i+r+l)),d+e>r+h&&(d=ut(r,r+h-e-l)),{x:n,y:d}},refresh:function(t,e){function i(){var t,e=this.points||p(this),i=e[0].series;return t=[i.tooltipHeaderFormatter(e[0].key)],_t(e,function(e){i=e.series,t.push(i.tooltipFormatter&&i.tooltipFormatter(e)||e.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),t.push(l.footerFormat||""),t.join("")}var s,n,o,r,a=this.chart,h=this.label,l=this.options,c={},d=[];r=l.formatter||i;var g,c=a.hoverPoints,f=l.crosshairs;if(o=this.shared,n=this.getAnchor(t,e),s=n[0],n=n[1],!o||t.series&&t.series.noSharedTooltip?c=t.getLabelConfig():(c&&_t(c,function(t){t.setState()}),a.hoverPoints=t,_t(t,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),c={x:t[0].category,y:t[0].y},c.points=d,t=t[0]),r=r.call(c),c=t.series,o=o||!c.isCartesian||c.tooltipOutsidePlot||a.isInsidePlot(s,n),!1!==r&&o?(this.tooltipIsHidden&&h.show(),h.attr({text:r}),g=l.borderColor||t.color||c.color||"#606060",h.attr({stroke:g}),h=(l.positioner||this.getPosition).call(this,h.width,h.height,{plotX:s,plotY:n}),this.move(ct(h.x),ct(h.y)),this.tooltipIsHidden=!1):this.hide(),f)for(f=p(f),h=f.length;h--;)o=t.series[h?"yAxis":"xAxis"],f[h]&&o&&(o=o.getPlotLinePath(h?u(t.stackY,t.y):t.x,1),this.crosshairs[h]?this.crosshairs[h].attr({d:o,visibility:"visible"}):(c={"stroke-width":f[h].width||1,stroke:f[h].color||"#C0C0C0",zIndex:f[h].zIndex||2},f[h].dashStyle&&(c.dashstyle=f[h].dashStyle),this.crosshairs[h]=a.renderer.path(o).attr(c).add()));ee(a,"tooltipRefresh",{text:r,x:s+a.plotLeft,y:n+a.plotTop,borderColor:g})},tick:function(){this.tooltipTick&&this.tooltipTick()}},E.prototype={normalizeMouseEvent:function(e){var i,s,n,e=e||ht.event;return e.target||(e.target=e.srcElement),e.originalEvent&&(e=e.originalEvent),e.event&&(e=e.event),n=e.touches?e.touches.item(0):e,this.chartPosition=i=Kt(this.chart.container),n.pageX===Y?(s=e.x,i=e.y):(s=n.pageX-i.left,i=n.pageY-i.top),t(e,{chartX:ct(s),chartY:ct(i)})},getMouseCoordinates:function(t){var e={xAxis:[],yAxis:[]},i=this.chart;return _t(i.axes,function(s){var n=s.isXAxis;e[n?"xAxis":"yAxis"].push({axis:s,value:s.translate((i.inverted?!n:n)?t.chartX-i.plotLeft:i.plotHeight-t.chartY+i.plotTop,!0)})}),e},onmousemove:function(t){var e,i,s,n,o=this.chart,r=o.series,a=o.hoverPoint,h=o.hoverSeries,l=o.chartWidth,c=o.inverted?o.plotHeight+o.plotTop-t.chartY:t.chartX-o.plotLeft;if(o.tooltip&&this.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(i=[],s=r.length,n=0;n<s;n++)r[n].visible&&!1!==r[n].options.enableMouseTracking&&!r[n].noSharedTooltip&&r[n].tooltipPoints.length&&(e=r[n].tooltipPoints[c],e._dist=ft(c-e.plotX),l=gt(l,e._dist),i.push(e));for(s=i.length;s--;)i[s]._dist>l&&i.splice(s,1);i.length&&i[0].plotX!==this.hoverX&&(o.tooltip.refresh(i,t),this.hoverX=i[0].plotX)}h&&h.tracker&&(e=h.tooltipPoints[c])&&e!==a&&e.onMouseOver()},resetTracker:function(t){var e=this.chart,i=e.hoverSeries,s=e.hoverPoint,n=e.hoverPoints||s,e=e.tooltip;(t=t&&e&&n)&&p(n)[0].plotX===Y&&(t=!1),t?e.refresh(n):(s&&s.onMouseOut(),i&&i.onMouseOut(),e&&(e.hide(),e.hideCrosshairs()),this.hoverX=null)},setDOMEvents:function(){function e(){if(s.selectionMarker){var t,r={xAxis:[],yAxis:[]},a=s.selectionMarker.getBBox(),h=a.x-n.plotLeft,l=a.y-n.plotTop;i&&(_t(n.axes,function(e){if(!1!==e.options.zoomEnabled){var i=e.isXAxis,s=n.inverted?!i:i,o=e.translate(s?h:n.plotHeight-l-a.height,!0,0,0,1),s=e.translate(s?h+a.width:n.plotHeight-l,!0,0,0,1);!isNaN(o)&&!isNaN(s)&&(r[i?"xAxis":"yAxis"].push({axis:e,min:gt(o,s),max:ut(o,s)}),t=!0)}}),t&&ee(n,"selection",r,function(t){n.zoom(t)})),s.selectionMarker=s.selectionMarker.destroy()}n&&(g(o,{cursor:"auto"}),n.cancelClick=i,n.mouseIsDown=i=!1),te(at,Mt?"touchend":"mouseup",e)}var i,s=this,n=s.chart,o=n.container,r=s.zoomX&&!n.inverted||s.zoomY&&n.inverted,a=s.zoomY&&!n.inverted||s.zoomX&&n.inverted;s.hideTooltipOnMouseMove=function(t){ie(t),s.chartPosition&&n.hoverSeries&&n.hoverSeries.isCartesian&&!n.isInsidePlot(t.pageX-s.chartPosition.left-n.plotLeft,t.pageY-s.chartPosition.top-n.plotTop)&&s.resetTracker()},s.hideTooltipOnMouseLeave=function(){s.resetTracker(),s.chartPosition=null},o.onmousedown=function(t){t=s.normalizeMouseEvent(t),!Mt&&t.preventDefault&&t.preventDefault(),n.mouseIsDown=!0,n.cancelClick=!1,n.mouseDownX=s.mouseDownX=t.chartX,s.mouseDownY=t.chartY,Jt(at,Mt?"touchend":"mouseup",e)};var h=function(t){if(!t||!(t.touches&&t.touches.length>1)){t=s.normalizeMouseEvent(t),Mt||(t.returnValue=!1);var e=t.chartX,o=t.chartY,h=!n.isInsidePlot(e-n.plotLeft,o-n.plotTop);if(Mt&&"touchstart"===t.type&&(d(t.target,"isTracker")?n.runTrackerClick||t.preventDefault():!n.runChartClick&&!h&&t.preventDefault()),h&&(e<n.plotLeft?e=n.plotLeft:e>n.plotLeft+n.plotWidth&&(e=n.plotLeft+n.plotWidth),o<n.plotTop?o=n.plotTop:o>n.plotTop+n.plotHeight&&(o=n.plotTop+n.plotHeight)),n.mouseIsDown&&"touchstart"!==t.type){if((i=Math.sqrt(Math.pow(s.mouseDownX-e,2)+Math.pow(s.mouseDownY-o,2)))>10){if(t=n.isInsidePlot(s.mouseDownX-n.plotLeft,s.mouseDownY-n.plotTop),n.hasCartesianSeries&&(s.zoomX||s.zoomY)&&t&&!s.selectionMarker&&(s.selectionMarker=n.renderer.rect(n.plotLeft,n.plotTop,r?1:n.plotWidth,a?1:n.plotHeight,0).attr({fill:s.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),s.selectionMarker&&r){var l=e-s.mouseDownX;s.selectionMarker.attr({width:ft(l),x:(l>0?0:l)+s.mouseDownX})}s.selectionMarker&&a&&(o-=s.mouseDownY,s.selectionMarker.attr({height:ft(o),y:(o>0?0:o)+s.mouseDownY})),t&&!s.selectionMarker&&s.options.chart.panning&&n.pan(e)}}else h||s.onmousemove(t);return h||!n.hasCartesianSeries}};o.onmousemove=h,Jt(o,"mouseleave",s.hideTooltipOnMouseLeave),Jt(at,"mousemove",s.hideTooltipOnMouseMove),o.ontouchstart=function(t){(s.zoomX||s.zoomY)&&o.onmousedown(t),h(t)},o.ontouchmove=h,o.ontouchend=function(){i&&s.resetTracker()},o.onclick=function(e){var i,o,r=n.hoverPoint,e=s.normalizeMouseEvent(e);e.cancelBubble=!0,n.cancelClick||(r&&(d(e.target,"isTracker")||d(e.target.parentNode,"isTracker"))?(i=r.plotX,o=r.plotY,t(r,{pageX:s.chartPosition.left+n.plotLeft+(n.inverted?n.plotWidth-o:i),pageY:s.chartPosition.top+n.plotTop+(n.inverted?n.plotHeight-i:o)}),ee(r.series,"click",t(e,{point:r})),r.firePointEvent("click",e)):(t(e,s.getMouseCoordinates(e)),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&ee(n,"click",e)))}},destroy:function(){var t=this.chart,e=t.container;t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy()),te(e,"mouseleave",this.hideTooltipOnMouseLeave),te(at,"mousemove",this.hideTooltipOnMouseMove),e.onclick=e.onmousedown=e.onmousemove=e.ontouchstart=e.ontouchend=e.ontouchmove=null,clearInterval(this.tooltipInterval)},init:function(t,e){t.trackerGroup||(t.trackerGroup=t.renderer.g("tracker").attr({zIndex:9}).add()),e.enabled&&(t.tooltip=new O(t,e),this.tooltipInterval=setInterval(function(){t.tooltip.tick()},32)),this.setDOMEvents()}},X.prototype={init:function(t){var e=this,s=e.options=t.options.legend;if(s.enabled){var n=s.itemStyle,o=u(s.padding,8),r=s.itemMarginTop||0;e.baseline=i(n.fontSize)+3+r,e.itemStyle=n,e.itemHiddenStyle=Qt(n,s.itemHiddenStyle),e.itemMarginTop=r,e.padding=o,e.initialItemX=o,e.initialItemY=o-5,e.maxItemWidth=0,e.chart=t,e.itemHeight=0,e.lastLineHeight=0,e.render(),Jt(e.chart,"endResize",function(){e.positionCheckboxes()})}},colorizeItem:function(t,e){var i=this.options,s=t.legendItem,n=t.legendLine,o=t.legendSymbol,r=this.itemHiddenStyle.color,i=e?i.itemStyle.color:r,r=e?t.color:r;s&&s.css({fill:i}),n&&n.attr({stroke:r}),o&&o.attr({stroke:r,fill:r})},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,s=t._legendItemPos,n=s[0],s=s[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?n:this.legendWidth-n-2*i-4,s),o&&(o.x=n,o.y=s)},destroyItem:function(t){var e=t.checkbox;_t(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&t[e].destroy()}),e&&A(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(){var t=this;_t(t.allItems,function(e){var i=e.checkbox,s=t.group.alignAttr;i&&g(i,{left:s.translateX+e.legendItemWidth+i.x-20+"px",top:s.translateY+i.y+3+"px"})})},renderItem:function(t){var e,i=this,s=i.chart,n=s.renderer,o=i.options,r="horizontal"===o.layout,a=o.symbolWidth,h=o.symbolPadding,l=i.itemStyle,c=i.itemHiddenStyle,d=i.padding,p=!o.rtl,u=o.width,g=o.itemMarginBottom||0,m=i.itemMarginTop,v=i.initialItemX,x=t.legendItem,y=t.series||t,b=y.options,k=b.showCheckbox;!x&&(t.legendGroup=n.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),y.drawLegendSymbol(i,t),t.legendItem=x=n.text(o.labelFormatter.call(t),p?a+h:-h,i.baseline,o.useHTML).css(Qt(t.visible?l:c)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),t.legendGroup.on("mouseover",function(){t.setState("hover"),x.css(i.options.itemHoverStyle)}).on("mouseout",function(){x.css(t.visible?l:c),t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):ee(t,"legendItemClick",e,i)}),i.colorizeItem(t,t.visible),b&&k)&&(t.checkbox=f("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},o.itemCheckboxStyle,s.container),Jt(t.checkbox,"click",function(e){ee(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),n=x.getBBox(),e=t.legendItemWidth=o.itemWidth||a+h+n.width+d+(k?20:0),o=e,i.itemHeight=a=n.height,r&&i.itemX-v+o>(u||s.chartWidth-2*d-v)&&(i.itemX=v,i.itemY+=m+i.lastLineHeight+g,i.lastLineHeight=0),i.maxItemWidth=ut(i.maxItemWidth,o),i.lastItemY=m+i.itemY+g,i.lastLineHeight=ut(a,i.lastLineHeight),t._legendItemPos=[i.itemX,i.itemY],r?i.itemX+=o:(i.itemY+=m+a+g,i.lastLineHeight=a),i.offsetWidth=u||ut(r?i.itemX-v:o,i.offsetWidth)},render:function(){var e,i,s,n,o=this,r=o.chart,a=r.renderer,h=o.group,l=o.box,c=o.options,d=o.padding,p=c.borderWidth,u=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,h||(o.group=h=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(h),o.scrollGroup=a.g().add(o.contentGroup),o.clipRect=a.clipRect(0,0,9999,r.chartHeight),o.contentGroup.clip(o.clipRect)),e=[],_t(r.series,function(t){var i=t.options;i.showInLegend&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),T(e,function(t,e){return(t.options.legendIndex||0)-(e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,_t(e,function(t){o.renderItem(t)}),s=c.width||o.offsetWidth,n=o.lastItemY+o.lastLineHeight,n=o.handleOverflow(n),(p||u)&&(s+=d,n+=d,l?s>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp(null,null,null,s,n)),l.isNew=!1):(o.box=l=a.rect(0,0,s,n,c.borderRadius,p||0).attr({stroke:c.borderColor,"stroke-width":p||0,fill:u||Bt}).add(h).shadow(c.shadow),l.isNew=!0),l[i?"show":"hide"]()),o.legendWidth=s,o.legendHeight=n,_t(e,function(t){o.positionItem(t)}),i&&h.align(t({width:s,height:n},c),!0,r.spacingBox),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,s=i.renderer,n=this.options,o=n.y,o=i.spacingBox.height+("top"===n.verticalAlign?-o:o)-this.padding,r=n.maxHeight,a=this.clipRect,h=n.navigation,l=u(h.animation,!0),c=h.arrowSize||12,d=this.nav;return"horizontal"===n.layout&&(o/=2),r&&(o=gt(o,r)),t>o?(this.clipHeight=i=o-20,this.pageCount=pt(t/i),this.currentPage=u(this.currentPage,1),this.fullHeight=t,a.attr({height:i}),d||(this.nav=d=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,c,c).on("click",function(){e.scroll(-1,l)}).add(d),this.pager=s.text("",15,10).css(h.style).add(d),this.down=s.symbol("triangle-down",0,0,c,c).on("click",function(){e.scroll(1,l)}).add(d)),e.scroll(0),t=o):d&&(a.attr({height:i.chartHeight}),d.hide(),this.scrollGroup.attr({translateY:1})),t},scroll:function(t,e){var i=this.pageCount,s=this.currentPage+t,n=this.clipHeight,o=this.options.navigation,r=o.activeColor,o=o.inactiveColor,a=this.pager,h=this.padding;s>i&&(s=i),s>0&&(e!==Y&&I(e,this.chart),this.nav.attr({translateX:h,translateY:n+7,visibility:"visible"}),this.up.attr({fill:1===s?o:r}).css({cursor:1===s?"default":"pointer"}),a.attr({text:s+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?o:r}).css({cursor:s===i?"default":"pointer"}),this.scrollGroup.animate({translateY:1-gt(n*(s-1),this.fullHeight-n+h)}),a.attr({text:s+"/"+i}),this.currentPage=s)}},N.prototype={initSeries:function(t){var e=this.options.chart,e=new Gt[t.type||e.type||e.defaultSeriesType];return e.init(this,t),e},addSeries:function(t,e,i){var s=this;t&&(I(i,s),e=u(e,!0),ee(s,"addSeries",{options:t},function(){s.initSeries(t),s.isDirtyLegend=!0,e&&s.redraw()}))},isInsidePlot:function(t,e){return t>=0&&t<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&_t(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,i=this.axes,s=this.series,n=this.tracker,o=this.legend,r=this.isDirtyLegend,a=this.isDirtyBox,h=s.length,l=h,c=this.clipRect,d=this.renderer,p=d.isHidden();for(I(t,this),p&&this.cloneRenderTo();l--;)if(t=s[l],t.isDirty&&t.options.stacking){e=!0;break}if(e)for(l=h;l--;)t=s[l],t.options.stacking&&(t.isDirty=!0);_t(s,function(t){t.isDirty&&"point"===t.options.legendType&&(r=!0)}),r&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,_t(i,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),_t(i,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,ee(t,"afterSetExtremes",t.getExtremes())),(t.isDirty||a||e)&&(t.redraw(),a=!0)})),a&&(this.drawChartBox(),c&&(ne(c),c.animate({width:this.plotSizeX,height:this.plotSizeY+1}))),_t(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),n&&n.resetTracker&&n.resetTracker(!0),d.draw(),ee(this,"redraw"),p&&this.cloneRenderTo(!0)},showLoading:function(e){var i=this.options,s=this.loadingDiv,n=i.loading;s||(this.loadingDiv=s=f(Dt,{className:"highcharts-loading"},t(n.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:Bt}),this.container),this.loadingSpan=f("span",null,n.labelStyle,s)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(g(s,{opacity:0,display:""}),se(s,{opacity:n.style.opacity},{duration:n.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&se(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){g(e,{display:Bt})}}),this.loadingShown=!1},get:function(t){var e,i,s=this.axes,n=this.series;for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<n.length;e++)for(i=n[e].points||[],s=0;s<i.length;s++)if(i[s].id===t)return i[s];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis||{},e=e.yAxis||{},i=p(i);_t(i,function(t,e){t.index=e,t.isX=!0}),e=p(e),_t(e,function(t,e){t.index=e}),i=i.concat(e),_t(i,function(e){new H(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return _t(this.series,function(e){t=t.concat($t(e.points,function(t){return t.selected}))}),t},getSelectedSeries:function(){return $t(this.series,function(t){return t.selected})},showResetZoom:function(){var t=this,e=j.lang,i=t.options.chart.resetZoomButton,s=i.theme,n=s.states,o="chart"===i.relativeTo?null:{x:t.plotLeft,y:t.plotTop,width:t.plotWidth,height:t.plotHeight};this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},s,n&&n.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this,e=t.resetZoomButton;ee(t,"selection",{resetSelection:!0},function(){t.zoom()}),e&&(t.resetZoomButton=e.destroy())},zoom:function(t){var e,i=this,s=i.options.chart;!1!==i.resetZoomEnabled&&!i.resetZoomButton&&i.showResetZoom(),!t||t.resetSelection?_t(i.axes,function(t){!1!==t.options.zoomEnabled&&(t.setExtremes(null,null,!1),e=!0)}):_t(t.xAxis.concat(t.yAxis),function(t){var s=t.axis;i.tracker[s.isXAxis?"zoomX":"zoomY"]&&(s.setExtremes(t.min,t.max,!1),e=!0)}),e&&i.redraw(u(s.animation,i.pointCount<100))},pan:function(t){var e=this.xAxis[0],i=this.mouseDownX,s=e.pointRange/2,n=e.getExtremes(),o=e.translate(i-t,!0)+s,i=e.translate(i+this.plotWidth-t,!0)-s;(s=this.hoverPoints)&&_t(s,function(t){t.setState()}),e.series.length&&o>gt(n.dataMin,n.min)&&i<ut(n.dataMax,n.max)&&e.setExtremes(o,i,!0,!1),this.mouseDownX=t,g(this.container,{cursor:"move"})},setTitle:function(t,e){var i,s=this,n=s.options;s.chartTitleOptions=i=Qt(n.title,t),s.chartSubtitleOptions=n=Qt(n.subtitle,e),_t([["title",t,i],["subtitle",e,n]],function(t){var e=t[0],i=s[e],n=t[1],t=t[2];i&&n&&(i=i.destroy()),t&&t.text&&!i&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add().align(t,!1,s.spacingBox))})},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=Zt(e,"width"),this.containerHeight=Zt(e,"height"),this.chartWidth=t.width||this.containerWidth||600,this.chartHeight=t.height||(this.containerHeight>19?this.containerHeight:400)},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),A(e),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),g(e,{position:"absolute",top:"-9999px",display:"block"}),at.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,n,o,r=this.options.chart;this.renderTo=e=r.renderTo,o="highcharts-"+It++,s(e)&&(this.renderTo=e=at.getElementById(e)),e||M(13,!0),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,this.container=e=f(Dt,{className:"highcharts-container"+(r.className?" "+r.className:""),id:o},t({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal"},r.style),this.renderToClone||e),this.renderer=r.forExport?new ce(e,i,n,!0):new F(e,i,n),At&&this.renderer.create(this,e,i,n)},getMargins:function(){var t,e=this.options.chart,i=e.spacingTop,s=e.spacingRight,n=e.spacingBottom,e=e.spacingLeft,o=this.legend,r=this.optionsMarginTop,a=this.optionsMarginLeft,h=this.optionsMarginRight,l=this.optionsMarginBottom,d=this.chartTitleOptions,p=this.chartSubtitleOptions,g=this.options.legend,f=u(g.margin,10),m=g.x,v=g.y,x=g.align,y=g.verticalAlign;this.resetMargins(),t=this.axisOffset,!this.title&&!this.subtitle||c(this.optionsMarginTop)||(p=ut(this.title&&!d.floating&&!d.verticalAlign&&d.y||0,this.subtitle&&!p.floating&&!p.verticalAlign&&p.y||0))&&(this.plotTop=ut(this.plotTop,p+u(d.margin,15)+i)),o.display&&!g.floating&&("right"===x?c(h)||(this.marginRight=ut(this.marginRight,o.legendWidth-m+f+s)):"left"===x?c(a)||(this.plotLeft=ut(this.plotLeft,o.legendWidth+m+f+e)):"top"===y?c(r)||(this.plotTop=ut(this.plotTop,o.legendHeight+v+f+i)):"bottom"!==y||c(l)||(this.marginBottom=ut(this.marginBottom,o.legendHeight-v+f+n))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&_t(this.axes,function(t){t.getOffset()}),c(a)||(this.plotLeft+=t[3]),c(r)||(this.plotTop+=t[0]),c(l)||(this.marginBottom+=t[2]),c(h)||(this.marginRight+=t[1]),this.setChartSize()},initReflow:function(){function t(t){var o=s.width||Zt(n,"width"),r=s.height||Zt(n,"height"),t=t?t.target:ht;o&&r&&(t===ht||t===at)&&(o===i.containerWidth&&r===i.containerHeight||(clearTimeout(e),e=setTimeout(function(){i.resize(o,r,!1)},100)),i.containerWidth=o,i.containerHeight=r)}var e,i=this,s=i.options.chart,n=i.renderTo;Jt(ht,"resize",t),Jt(i,"destroy",function(){te(ht,"resize",t)})},fireEndResize:function(){var t=this;t&&ee(t,"endResize",null,function(){t.isResizing-=1})},resize:function(t,e,i){var s,n,o=this.title,r=this.subtitle;this.isResizing+=1,I(i,this),this.oldChartHeight=this.chartHeight,this.oldChartWidth=this.chartWidth,c(t)&&(this.chartWidth=s=ct(t)),c(e)&&(this.chartHeight=n=ct(e)),g(this.container,{width:s+"px",height:n+"px"}),this.renderer.setSize(s,n,i),this.plotWidth=s-this.plotLeft-this.marginRight,this.plotHeight=n-this.plotTop-this.marginBottom,this.maxTicks=null,_t(this.axes,function(t){t.isDirty=!0,t.setScale()}),_t(this.series,function(t){t.isDirty=!0}),this.isDirtyBox=this.isDirtyLegend=!0,this.getMargins(),t=this.spacingBox,o&&o.align(null,null,t),r&&r.align(null,null,t),this.redraw(i),this.oldChartHeight=null,ee(this,"resize"),!1===Z?this.fireEndResize():setTimeout(this.fireEndResize,Z&&Z.duration||500)},setChartSize:function(){var t=this.inverted,e=this.chartWidth,i=this.chartHeight,s=this.options.chart,n=s.spacingTop,o=s.spacingRight,r=s.spacingBottom,s=s.spacingLeft;this.plotLeft=ct(this.plotLeft),this.plotTop=ct(this.plotTop),this.plotWidth=ct(e-this.plotLeft-this.marginRight),this.plotHeight=ct(i-this.plotTop-this.marginBottom),this.plotSizeX=t?this.plotHeight:this.plotWidth,this.plotSizeY=t?this.plotWidth:this.plotHeight,this.spacingBox={x:s,y:n,width:e-s-o,height:i-n-r},_t(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.options.chart,e=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft;this.plotTop=u(this.optionsMarginTop,t.spacingTop),this.marginRight=u(this.optionsMarginRight,e),this.marginBottom=u(this.optionsMarginBottom,i),this.plotLeft=u(this.optionsMarginLeft,s),this.axisOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,s=this.chartWidth,n=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,h=this.plotBGImage,l=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,p=e.plotBackgroundImage,u={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};t=l+(e.shadow?8:0),(l||c)&&(o?o.animate(o.crisp(null,null,null,s-t,n-t)):(o={fill:c||Bt},l&&(o.stroke=e.borderColor,o["stroke-width"]=l),this.chartBackground=i.rect(t/2,t/2,s-t,n-t,e.borderRadius,l).attr(o).add().shadow(e.shadow))),d&&(r?r.animate(u):this.plotBackground=i.rect(this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight,0).attr({fill:d}).add().shadow(e.plotShadow)),p&&(h?h.animate(u):this.plotBGImage=i.image(p,this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight).add()),e.plotBorderWidth&&(a?a.animate(a.crisp(null,this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight)):this.plotBorder=i.rect(this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight,0,e.plotBorderWidth).attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth,zIndex:4}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,s=this,n=s.options.chart,o=s.options.series;_t(["inverted","angular","polar"],function(r){for(t=Gt[n.type||n.defaultSeriesType],i=s[r]||n[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=Gt[o[e].type])&&t.prototype[r]&&(i=!0);s[r]=i})},render:function(){var e,s=this,n=s.axes,o=s.renderer,r=s.options,a=r.labels,r=r.credits;s.setTitle(),s.legend=new X(s),_t(n,function(t){t.setScale()}),s.getMargins(),s.maxTicks=null,_t(n,function(t){t.setTickPositions(!0),t.setMaxTicks()}),s.adjustTickAmounts(),s.getMargins(),s.drawChartBox(),s.hasCartesianSeries&&_t(n,function(t){t.render()}),s.seriesGroup||(s.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),_t(s.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&_t(a.items,function(){var e=t(a.style,this.style),n=i(e.left)+s.plotLeft,r=i(e.top)+s.plotTop+12;delete e.left,delete e.top,o.text(this.html,n,r).attr({zIndex:2}).css(e).add()}),r.enabled&&!s.credits&&(e=r.href,s.credits=o.text(r.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:r.position.align,zIndex:8}).css(r.style).add().align(r.position)),s.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,s=e.series,n=e.container,o=n&&n.parentNode;if(null!==e){for(ee(e,"destroy"),te(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=s.length;t--;)s[t]=s[t].destroy();_t("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&(e[t]=i.destroy())}),n&&(n.innerHTML="",te(n),o&&A(n),n=null);for(t in e)delete e[t];e=e.options=null}},firstRender:function(){var t=this,e=t.options,i=t.callback;!St&&ht==ht.top&&"complete"!==at.readyState||At&&!ht.canvg?At?ge.push(function(){t.firstRender()},e.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",t.firstRender),"complete"===at.readyState&&t.firstRender()}):(t.getContainer(),ee(t,"init"),Highcharts.RangeSelector&&e.rangeSelector.enabled&&(t.rangeSelector=new Highcharts.RangeSelector(t)),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),_t(e.series||[],function(e){t.initSeries(e)}),Highcharts.Scroller&&(e.navigator.enabled||e.scrollbar.enabled)&&(t.scroller=new Highcharts.Scroller(t)),t.tracker=new E(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),_t(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),ee(t,"load"))},init:function(t){var e,i=this.options.chart;if(!1!==i.reflow&&Jt(this,"load",this.initReflow),t)for(e in t)Jt(this,e,t[e]);this.xAxis=[],this.yAxis=[],this.animation=!At&&u(i.animation,!0),this.setSize=this.resize,this.pointCount=0,this.counters=new w,this.firstRender()}},N.prototype.callbacks=[];var fe=function(){};fe.prototype={init:function(t,e,i){var s=t.chart.counters;return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.chart.options.colors,this.options||(this.options={}),this.color=this.options.color=this.color||e[s.color++],s.wrapColor(e.length)),t.chart.pointCount++,this},applyOptions:function(e,i){var s=this.series,n=typeof e;this.config=e,"number"===n||null===e?this.y=e:"number"==typeof e[0]?(this.x=e[0],this.y=e[1]):"object"===n&&"number"!=typeof e.length?(t(this,e),this.options=e,e.dataLabels&&(s._hasPointLabels=!0)):"string"==typeof e[0]&&(this.name=e[0],this.y=e[1]),this.x===Y&&(this.x=i===Y?s.autoIncrement():i)},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(te(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var i=this,s=i.series.chart,t=u(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=t,i.setState(t&&"select"),e||_t(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=!1,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(){var t=this.series,e=t.chart,i=e.tooltip,s=e.hoverPoint;s&&s!==this&&s.onMouseOut(),this.firePointEvent("mouseOver"),i&&(!i.shared||t.noSharedTooltip)&&i.refresh(this),this.setState("hover"),e.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut"),this.setState(),this.series.chart.hoverPoint=null},tooltipFormatter:function(t){var e,i,n,o,r=this.series,a=r.tooltipOptions,h=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),l={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};a.valuePrefix=a.valuePrefix||a.yPrefix,a.valueDecimals=a.valueDecimals||a.yDecimals,a.valueSuffix=a.valueSuffix||a.ySuffix;for(o in h)i=h[o],s(i)&&i!==t&&(n=(" "+i).split(/[{\.}]/),e={point:this,series:r}[n[1]],n=n[2],e===this&&l.hasOwnProperty(n)?(e=l[n]?n:"value",e=(a[e+"Prefix"]||"")+v(this[n],u(a[e+"Decimals"],-1))+(a[e+"Suffix"]||"")):e=e[n],t=t.replace(i,e));return t},update:function(t,e,i){var s,o=this,r=o.series,a=o.graphic,h=r.data,l=h.length,c=r.chart,e=u(e,!0);o.firePointEvent("update",{options:t},function(){for(o.applyOptions(t),n(t)&&(r.getAttribs(),a&&a.attr(o.pointAttr[r.state])),s=0;s<l;s++)if(h[s]===o){r.xData[s]=o.x,r.yData[s]=o.y,r.options.data[s]=t;break}r.isDirty=!0,r.isDirtyData=!0,e&&c.redraw(i)})},remove:function(t,e){var i,s=this,n=s.series,o=n.chart,r=n.data,a=r.length;I(e,o),t=u(t,!0),s.firePointEvent("remove",null,function(){for(i=0;i<a;i++)if(r[i]===s){r.splice(i,1),n.options.data.splice(i,1),n.xData.splice(i,1),n.yData.splice(i,1);break}s.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(t,e,i){var s=this,n=this.series.options;(n.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&this.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ee(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,e=Qt(this.series.options.point,this.options).events;this.events=e;for(t in e)Jt(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t){var e=this.plotX,i=this.plotY,s=this.series,n=s.options.states,o=he[s.type].marker&&s.options.marker,r=o&&!o.enabled,a=o&&o.states[t],h=a&&!1===a.enabled,l=s.stateMarkerGraphic,c=s.chart,d=this.pointAttr,t=t||"";t===this.state||this.selected&&"select"!==t||n[t]&&!1===n[t].enabled||t&&(h||r&&!a.enabled)||(this.graphic?(n=o&&this.graphic.symbolName&&d[t].r,this.graphic.attr(Qt(d[t],n?{x:e-n,y:i-n,width:2*n,height:2*n}:{}))):(t&&a&&(l||(n=a.radius,s.stateMarkerGraphic=l=c.renderer.symbol(s.symbol,-n,-n,2*n,2*n).attr(d[t]).add(s.group)),l.translate(e,i)),l&&l[t?"show":"hide"]()),this.state=t)}};var me=function(){};me.prototype={isCartesian:!0,type:"line",pointClass:fe,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,i){var s,n;n=e.series.length,this.chart=e,this.options=i=this.setOptions(i),this.bindAxes(),t(this,{index:n,name:i.name||"Series "+(n+1),state:"",pointAttr:{},visible:!1!==i.visible,selected:!0===i.selected}),At&&(i.animation=!1),n=i.events;for(s in n)Jt(this,s,n[s]);(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1),this.isCartesian&&(e.hasCartesianSeries=!0),e.series.push(this)},bindAxes:function(){var t,e=this,i=e.options,s=e.chart;e.isCartesian&&_t(["xAxis","yAxis"],function(n){_t(s[n],function(s){t=s.options,(i[n]===t.index||i[n]===Y&&0===t.index)&&(s.series.push(e),e[n]=s,s.isDirty=!0)})})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=u(e,t.pointStart,0);return this.pointInterval=u(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],s=this.points,n=s.length;if(n)if(this.options.connectNulls){for(t=n;t--;)null===s[t].y&&s.splice(t,1);s.length&&(i=[s])}else _t(s,function(t,o){null===t.y?(o>e+1&&i.push(s.slice(e+1,o)),e=o):o===n-1&&i.push(s.slice(e+1,o+1))});this.segments=i},setOptions:function(t){var e=this.chart.options,i=e.plotOptions,s=t.data;return t.data=null,i=Qt(i[this.type],i.series,t),i.data=t.data=s,this.tooltipOptions=Qt(e.tooltip,i.tooltip),i},getColor:function(){var t=this.options,e=this.chart.options.colors,i=this.chart.counters;this.color=t.color||!t.colorByPoint&&e[i.color++]||"gray",i.wrapColor(e.length)},getSymbol:function(){var t=this.options.marker,e=this.chart,i=e.options.symbols,e=e.counters;this.symbol=t.symbol||i[e.symbol++],/^url/.test(this.symbol)&&(t.radius=0),e.wrapSymbol(i.length)},drawLegendSymbol:function(t){var e,i=this.options,s=i.marker,n=t.options.symbolWidth,o=this.chart.renderer,r=this.legendGroup,t=t.baseline;i.lineWidth&&(e={"stroke-width":i.lineWidth},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t-4,"L",n,t-4]).attr(e).add(r)),s&&s.enabled&&(i=s.radius,this.legendSymbol=o.symbol(this.symbol,n/2-i,t-4-i,2*i,2*i).attr(this.pointAttr[""]).add(r))},addPoint:function(t,e,i,s){var n=this.data,o=this.graph,r=this.area,a=this.chart,h=this.xData,l=this.yData,c=o&&o.shift||0,d=this.options.data;I(s,a),o&&i&&(o.shift=c+1),r&&(i&&(r.shift=c+1),r.isArea=!0),e=u(e,!0),s={series:this},this.pointClass.prototype.applyOptions.apply(s,[t]),h.push(s.x),l.push(4===this.valueCount?[s.open,s.high,s.low,s.close]:s.y),d.push(t),i&&(n[0]&&n[0].remove?n[0].remove(!1):(n.shift(),h.shift(),l.shift(),d.shift())),this.getAttribs(),this.isDirtyData=this.isDirty=!0,e&&a.redraw()},setData:function(t,e){var i=this.points,s=this.options,n=this.initialColor,a=this.chart,h=null,l=this.xAxis,d=this.pointClass.prototype;this.xIncrement=null,this.pointRange=l&&l.categories&&1||s.pointRange,c(n)&&(a.counters.color=n);var p=[],g=[],f=t?t.length:[],m=this.valueCount;if(f>(s.turboThreshold||1e3)){for(n=0;null===h&&n<f;)h=t[n],n++;if(r(h)){for(d=u(s.pointStart,0),s=u(s.pointInterval,1),n=0;n<f;n++)p[n]=d,g[n]=t[n],d+=s;this.xIncrement=d}else if(o(h))if(m)for(n=0;n<f;n++)s=t[n],p[n]=s[0],g[n]=s.slice(1,m+1);else for(n=0;n<f;n++)s=t[n],p[n]=s[0],g[n]=s[1]}else for(n=0;n<f;n++)s={series:this},d.applyOptions.apply(s,[t[n]]),p[n]=s.x,g[n]=d.toYData?d.toYData.apply(s):s.y;for(this.data=[],this.options.data=t,this.xData=p,this.yData=g,n=i&&i.length||0;n--;)i[n]&&i[n].destroy&&i[n].destroy();l&&(l.minRange=l.userMinRange),this.isDirty=this.isDirtyData=a.isDirtyBox=!0,u(e,!0)&&a.redraw(!1)},remove:function(t,e){var i=this,s=i.chart,t=u(t,!0);i.isRemoving||(i.isRemoving=!0,ee(i,"remove",null,function(){i.destroy(),s.isDirtyLegend=s.isDirtyBox=!0,t&&s.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i,s=this.xData,n=this.yData,o=s.length,r=0,a=o,h=this.xAxis,l=this.options,c=l.cropThreshold,d=this.isCartesian;if(d&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!t)return!1;if(d&&this.sorted&&(!c||o>c||this.forceCrop))if(t=h.getExtremes(),h=t.min,c=t.max,s[o-1]<h||s[0]>c)s=[],n=[];else if(s[0]<h||s[o-1]>c){for(t=0;t<o;t++)if(s[t]>=h){r=ut(0,t-1);break}for(;t<o;t++)if(s[t]>c){a=t+1;break}s=s.slice(r,a),n=n.slice(r,a),e=!0}for(t=s.length-1;t>0;t--)(o=s[t]-s[t-1])>0&&(i===Y||o<i)&&(i=o);this.cropped=e,this.cropStart=r,this.processedXData=s,this.processedYData=n,null===l.pointRange&&(this.pointRange=i||1),this.closestPointRange=i},generatePoints:function(){var t,e,i,s,n=this.options.data,o=this.data,r=this.processedXData,a=this.processedYData,h=this.pointClass,l=r.length,c=this.cropStart||0,d=this.hasGroupedData,u=[];for(o||d||(o=[],o.length=n.length,o=this.data=o),s=0;s<l;s++)e=c+s,d?u[s]=(new h).init(this,[r[s]].concat(p(a[s]))):(o[e]?i=o[e]:n[e]!==Y&&(o[e]=i=(new h).init(this,n[e],r[s])),u[s]=i);if(o&&(l!==(t=o.length)||d))for(s=0;s<t;s++)s===c&&!d&&(s+=l),o[s]&&(o[s].destroyElements(),o[s].plotX=Y);this.data=o,this.points=u},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this.chart,i=this.options,s=i.stacking,n=this.xAxis,o=n.categories,r=this.yAxis,a=this.points,h=a.length,l=!!this.modifyValue,d=r.series,p=d.length;p--;)if(d[p].visible){p===this.index&&(t=!0);break}for(p=0;p<h;p++){var d=a[p],u=d.x,g=d.y,f=d.low,m=r.stacks[(g<i.threshold?"-":"")+this.stackKey];d.plotX=n.translate(u,0,0,0,1),s&&this.visible&&m&&m[u]&&(f=m[u],u=f.total,f.cum=f=f.cum-g,g=f+g,t&&(f=i.threshold),"percent"===s&&(f=u?100*f/u:0,g=u?100*g/u:0),d.percentage=u?100*d.y/u:0,d.stackTotal=u,d.stackY=g),d.yBottom=c(f)?r.translate(f,0,1,0,1):null,l&&(g=this.modifyValue(g,d)),d.plotY="number"==typeof g?ct(10*r.translate(g,0,1,0,1))/10:Y,d.clientX=e.inverted?e.plotHeight-d.plotX:d.plotX,d.category=o&&o[d.x]!==Y?o[d.x]:d.x}this.getSegments()},setTooltipPoints:function(t){var e,i,s=[],n=this.chart.plotSizeX;e=this.xAxis;var o,r,a=[];if(!1!==this.options.enableMouseTracking){for(t&&(this.tooltipPoints=null),_t(this.segments||this.points,function(t){s=s.concat(t)}),e&&e.reversed&&(s=s.reverse()),t=s.length,r=0;r<t;r++)for(o=s[r],e=s[r-1]?s[r-1]._high+1:0,o._high=i=s[r+1]?ut(0,dt((o.plotX+(s[r+1]?s[r+1].plotX:n))/2)):n;e>=0&&e<=i;)a[e++]=o;this.tooltipPoints=a}},tooltipHeaderFormatter:function(t){var e,i=this.tooltipOptions,s=i.xDateFormat,n=this.xAxis,o=n&&"datetime"===n.options.type;if(o&&!s)for(e in _)if(_[e]>=n.closestPointRange){s=i.dateTimeLabelFormats[e];break}return i.headerFormat.replace("{point.key}",o?V(s,t):t).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;!Mt&&t.mouseIsDown||(e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&ee(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this)},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;s&&s.onMouseOut(),this&&t.events.mouseOut&&ee(this,"mouseOut"),i&&!t.stickyTracking&&!i.shared&&i.hide(),this.setState(),e.hoverSeries=null},animate:function(t){var e=this.chart,i=this.clipRect,s=this.options.animation;s&&!n(s)&&(s={}),t?i.isAnimating||(i.attr("width",0),i.isAnimating=!0):(i.animate({width:e.plotSizeX},s),this.animate=null)},drawPoints:function(){var e,i,s,n,o,r,a,h,l,c=this.points,d=this.chart;if(this.options.marker.enabled)for(n=c.length;n--;)o=c[n],i=o.plotX,s=o.plotY,l=o.graphic,s===Y||isNaN(s)||(e=o.pointAttr[o.selected?"select":""],r=e.r,a=u(o.marker&&o.marker.symbol,this.symbol),h=0===a.indexOf("url"),l?l.animate(t({x:i-r,y:s-r},l.symbolName?{width:2*r,height:2*r}:{})):(r>0||h)&&(o.graphic=d.renderer.symbol(a,i-r,s-r,2*r,2*r).attr(e).add(this.group)))},convertAttribs:function(t,e,i,s){var n,o,r=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},s=s||{};for(n in r)o=r[n],a[n]=u(t[o],e[n],i[n],s[n]);return a},getAttribs:function(){var t,e,i,s=this,n=he[s.type].marker?s.options.marker:s.options,o=n.states,r=o.hover,a=s.color,h={stroke:a,fill:a},l=s.points||[],d=[],p=s.pointAttrToOptions;for(s.options.marker?(r.radius=r.radius||n.radius+2,r.lineWidth=r.lineWidth||n.lineWidth+1):r.color=r.color||le(r.color||a).brighten(r.brightness).get(),d[""]=s.convertAttribs(n,h),_t(["hover","select"],function(t){d[t]=s.convertAttribs(o[t],d[""])}),s.pointAttr=d,a=l.length;a--;){if(h=l[a],(n=h.options&&h.options.marker||h.options)&&!1===n.enabled&&(n.radius=0),t=!1,h.options)for(i in p)c(n[p[i]])&&(t=!0);t?(e=[],o=n.states||{},t=o.hover=o.hover||{},s.options.marker||(t.color=le(t.color||h.options.color).brighten(t.brightness||r.brightness).get()),e[""]=s.convertAttribs(n,d[""]),e.hover=s.convertAttribs(o.hover,d.hover,e[""]),e.select=s.convertAttribs(o.select,d.select,e[""])):e=d,h.pointAttr=e}},destroy:function(){var t,e,i,s,n,o=this,r=o.chart,a=o.clipRect,h=/AppleWebKit\/533/.test(bt),c=o.data||[];for(ee(o,"destroy"),te(o),_t(["xAxis","yAxis"],function(t){(n=o[t])&&(l(n.series,o),n.isDirty=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=c.length;e--;)(i=c[e])&&i.destroy&&i.destroy();o.points=null,a&&a!==r.clipRect&&(o.clipRect=a.destroy()),_t("area,graph,dataLabelsGroup,group,tracker,trackerGroup".split(","),function(e){o[e]&&(t=h&&"group"===e?"hide":"destroy",o[e][t]())}),r.hoverSeries===o&&(r.hoverSeries=null),l(r.series,o);for(s in o)delete o[s]},drawDataLabels:function(){var t=this,e=t.options,i=e.dataLabels;if(i.enabled||t._hasPointLabels){var s,n,o,r,a,h,l,d=t.points,p=t.dataLabelsGroup,g=t.chart,f=t.xAxis,f=f?f.left:g.plotLeft,m=t.yAxis,m=m?m.top:g.plotTop,v=g.renderer,x=g.inverted,y=t.type,b=e.stacking,k="column"===y||"bar"===y,w=null===i.verticalAlign,T=null===i.y,L=v.fontMetrics(i.style.fontSize),S=L.h,P=L.b;k&&(L={top:P,middle:P-S/2,bottom:-S+P},b?(w&&(i=Qt(i,{verticalAlign:"middle"})),T&&(i=Qt(i,{y:L[i.verticalAlign]}))):w?i=Qt(i,{verticalAlign:"top"}):T&&(i=Qt(i,{y:L[i.verticalAlign]}))),p?p.translate(f,m):p=t.dataLabelsGroup=v.g("data-labels").attr({visibility:t.visible?"visible":"hidden",zIndex:6}).translate(f,m).add(),r=i,_t(d,function(d){if(h=d.dataLabel,i=r,(o=d.options)&&o.dataLabels&&(i=Qt(i,o.dataLabels)),l=i.enabled){var f=d.barX&&d.barX+d.barW/2||u(d.plotX,-999),m=u(d.plotY,-999),w=null===i.y?d.y>=e.threshold?-S+P:P:i.y;s=(x?g.plotWidth-m:f)+i.x,n=ct((x?g.plotHeight-f:m)+w)}if(!h||!t.isCartesian||g.isInsidePlot(s,n)&&l){if(l){var T,f=i.align;if(a=i.formatter.call(d.getLabelConfig(),i),"column"===y&&(s+={left:-1,right:1}[f]*d.barW/2||0),!b&&x&&d.y<0&&(f="right",s-=10),i.style.color=u(i.color,i.style.color,t.color,"black"),h)h.attr({text:a}).animate({x:s,y:n});else if(c(a)){f={align:f,fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:i.rotation,padding:i.padding,zIndex:1};for(T in f)f[T]===Y&&delete f[T];h=d.dataLabel=v[i.rotation?"text":"label"](a,s,n,null,null,null,i.useHTML,!0).attr(f).css(i.style).add(p).shadow(i.shadow)}k&&e.stacking&&h&&(T=d.barX,f=d.barY,m=d.barW,d=d.barH,h.align(i,null,{x:x?g.plotWidth-f-d:T,y:x?g.plotHeight-T-m:f,width:x?d:m,height:x?m:d}))}}else d.dataLabel=h.destroy()})}},getSegmentPath:function(t){var e=this,i=[];return _t(t,function(s,n){e.getPointSpline?i.push.apply(i,e.getPointSpline(t,s,n)):(i.push(n?"L":"M"),n&&e.options.step&&i.push(s.plotX,t[n-1].plotY),i.push(s.plotX,s.plotY))}),i},drawGraph:function(){var t,e=this,i=e.options,s=e.graph,n=[],o=e.group,r=i.lineColor||e.color,a=i.lineWidth,h=i.dashStyle,l=e.chart.renderer,c=[];_t(e.segments,function(i){t=e.getSegmentPath(i),i.length>1?n=n.concat(t):c.push(i[0])}),e.graphPath=n,e.singlePoints=c,s?(ne(s),s.animate({d:n})):a&&(s={stroke:r,"stroke-width":a},h&&(s.dashstyle=h),e.graph=l.path(n).attr(s).add(o).shadow(i.shadow))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};i.attr(t).invert(),s&&s.attr(t).invert()}var e=this,i=e.group,s=e.trackerGroup,n=e.chart;Jt(n,"resize",t),Jt(e,"destroy",function(){te(n,"resize",t)}),t(),e.invertGroups=t},createGroup:function(){var t=this.chart;(this.group=t.renderer.g("series")).attr({visibility:this.visible?"visible":"hidden",zIndex:this.options.zIndex}).translate(this.xAxis.left,this.yAxis.top).add(t.seriesGroup),this.createGroup=zt},render:function(){var t,e=this,i=e.chart,s=e.options,n=!1!==s.clip,o=s.animation,o=(s=o&&e.animate)?o&&o.duration||500:0,r=e.clipRect,a=i.renderer;r||(r=e.clipRect=!i.hasRendered&&i.clipRect?i.clipRect:a.clipRect(0,0,i.plotSizeX,i.plotSizeY+1),i.clipRect)||(i.clipRect=r),e.createGroup(),t=e.group,e.drawDataLabels(),s&&e.animate(!0),e.getAttribs(),e.drawGraph&&e.drawGraph(),e.drawPoints(),!1!==e.options.enableMouseTracking&&e.drawTracker(),i.inverted&&e.invertGroups(),n&&!e.hasRendered&&(t.clip(r),e.trackerGroup&&e.trackerGroup.clip(i.clipRect)),s&&e.animate(),setTimeout(function(){r.isAnimating=!1,(t=e.group)&&r!==i.clipRect&&r.renderer&&(n&&t.clip(e.clipRect=i.clipRect),r.destroy())},o),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:this.xAxis.left,translateY:this.yAxis.top})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&ee(this,"updatedData")},setState:function(t){var e=this.options,i=this.graph,s=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,s[t]&&!1===s[t].enabled||(t&&(e=s[t].lineWidth||e+1),i&&!i.dashstyle&&i.attr({"stroke-width":e},t?0:500)))},setVisible:function(t,e){var i,s=this.chart,n=this.legendItem,o=this.group,r=this.tracker,a=this.dataLabelsGroup,h=this.points,l=s.options.chart.ignoreHiddenSeries;if(i=this.visible,i=(this.visible=t=t===Y?!i:t)?"show":"hide",o&&o[i](),r)r[i]();else if(h)for(o=h.length;o--;)r=h[o],r.tracker&&r.tracker[i]();a&&a[i](),n&&s.legend.colorizeItem(this,t),this.isDirty=!0,this.options.stacking&&_t(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l&&(s.isDirtyBox=!0),!1!==e&&s.redraw(),ee(this,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===Y?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),ee(this,t?"select":"unselect")},drawTrackerGroup:function(){var t=this.trackerGroup,e=this.chart;return this.isCartesian&&(t||(this.trackerGroup=t=e.renderer.g().attr({zIndex:this.options.zIndex||1}).add(e.trackerGroup)),t.translate(this.xAxis.left,this.yAxis.top)),t},drawTracker:function(){var t,e=this,i=e.options,s=i.trackByArea,n=[].concat(s?e.areaPath:e.graphPath),o=n.length,r=e.chart,a=r.renderer,h=r.options.tooltip.snap,l=e.tracker,c=i.cursor,c=c&&{cursor:c},d=e.singlePoints,p=e.drawTrackerGroup();if(o&&!s)for(t=o+1;t--;)"M"===n[t]&&n.splice(t+1,0,n[t+1]-h,n[t+2],"L"),(t&&"M"===n[t]||t===o)&&n.splice(t,0,"L",n[t-2]+h,n[t-1]);for(t=0;t<d.length;t++)o=d[t],n.push("M",o.plotX-h,o.plotY,"L",o.plotX+h,o.plotY);l?l.attr({d:n}):e.tracker=a.path(n).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:e.visible?"visible":"hidden",stroke:Rt,fill:s?Rt:Bt,"stroke-width":i.lineWidth+(s?0:2*h)}).on(Mt?"touchstart":"mouseover",function(){r.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){i.stickyTracking||e.onMouseOut()}).css(c).add(p)}},Vt=m(me),Gt.line=Vt,he.area=Qt(jt,{threshold:0}),Vt=m(me,{type:"area",getSegmentPath:function(t){var e,i=me.prototype.getSegmentPath.call(this,t),s=[].concat(i),n=this.options;e=i.length;var o=this.yAxis.getThreshold(n.threshold);if(3===e&&s.push("L",i[1],i[2]),n.stacking&&"areaspline"!==this.type)for(e=t.length-1;e>=0;e--)e<t.length-1&&n.step&&s.push(t[e+1].plotX,t[e].yBottom),s.push(t[e].plotX,t[e].yBottom);else s.push("L",t[t.length-1].plotX,o,"L",t[0].plotX,o);return this.areaPath=this.areaPath.concat(s),i},drawGraph:function(){this.areaPath=[],me.prototype.drawGraph.apply(this);var t=this.areaPath,e=this.options,i=this.area;i?i.animate({d:t}):this.area=this.chart.renderer.path(t).attr({fill:u(e.fillColor,le(this.color).setOpacity(e.fillOpacity||.75).get())}).add(this.group)},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}}),Gt.area=Vt,he.spline=Qt(jt),pe=m(me,{type:"spline",getPointSpline:function(t,e,i){var s,n,o,r,a=e.plotX,h=e.plotY,l=t[i-1],c=t[i+1];if(i&&i<t.length-1){t=l.plotY,o=c.plotX;var d,c=c.plotY;s=(1.5*a+l.plotX)/2.5,n=(1.5*h+t)/2.5,o=(1.5*a+o)/2.5,r=(1.5*h+c)/2.5,d=(r-n)*(o-a)/(o-s)+h-r,n+=d,r+=d,n>t&&n>h?(n=ut(t,h),r=2*h-n):n<t&&n<h&&(n=gt(t,h),r=2*h-n),r>c&&r>h?(r=ut(c,h),n=2*h-r):r<c&&r<h&&(r=gt(c,h),n=2*h-r),e.rightContX=o,e.rightContY=r}return i?(e=["C",l.rightContX||l.plotX,l.rightContY||l.plotY,s||a,n||h,a,h],l.rightContX=l.rightContY=null):e=["M",a,h],e}}),Gt.spline=pe,he.areaspline=Qt(he.area);var ve=Vt.prototype,pe=m(pe,{type:"areaspline",getSegmentPath:ve.getSegmentPath,drawGraph:ve.drawGraph});Gt.areaspline=pe,he.column=Qt(jt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0}),pe=m(me,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){me.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&_t(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},translate:function(){var e,i,s=this,n=s.chart,o=s.options,r=o.stacking,a=o.borderWidth,h=0,l=s.xAxis,d=l.reversed,p={};me.prototype.translate.apply(s),_t(n.series,function(t){t.type===s.type&&t.visible&&s.options.group===t.options.group&&(t.options.stacking?(e=t.stackKey,p[e]===Y&&(p[e]=h++),i=p[e]):i=h++,t.columnIndex=i)});var g=s.points,l=ft(l.transA)*(l.ordinalSlope||o.pointRange||l.closestPointRange||1),f=l*o.groupPadding,m=(l-2*f)/h,v=o.pointWidth,x=c(v)?(m-v)/2:m*o.pointPadding,y=u(v,m-2*x),b=pt(ut(y,1+2*a)),k=x+(f+((d?h-s.columnIndex:s.columnIndex)||0)*m-l/2)*(d?-1:1),w=s.yAxis.getThreshold(o.threshold),T=u(o.minPointLength,5);_t(g,function(e){var i=e.plotY,o=u(e.yBottom,w),h=e.plotX+k,l=pt(gt(i,o)),c=pt(ut(i,o)-l),d=s.yAxis.stacks[(e.y<0?"-":"")+s.stackKey];r&&s.visible&&d&&d[e.x]&&d[e.x].setOffset(k,b),ft(c)<T&&T&&(c=T,l=ft(l-w)>T?o-T:w-(i<=w?T:0)),t(e,{barX:h,barY:l,barW:b,barH:c,pointWidth:y}),e.shapeType="rect",e.shapeArgs=i=n.renderer.Element.prototype.crisp.call(0,a,h,l,b,c),a%2&&(i.y-=1,i.height+=1),e.trackerArgs=ft(c)<3&&Qt(e.shapeArgs,{height:6,y:l-3})})},getSymbol:function(){},drawLegendSymbol:Vt.prototype.drawLegendSymbol,drawGraph:function(){},drawPoints:function(){var t,e,i=this,s=i.options,n=i.chart.renderer;_t(i.points,function(o){var r=o.plotY;r===Y||isNaN(r)||null===o.y||(t=o.graphic,e=o.shapeArgs,t?(ne(t),t.animate(Qt(e))):o.graphic=t=n[o.shapeType](e).attr(o.pointAttr[o.selected?"select":""]).add(i.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius))})},drawTracker:function(){var t,e,i,s,n,o=this,r=o.chart,a=r.renderer,h=+new Date,l=o.options,c=l.cursor,p=c&&{cursor:c},u=o.drawTrackerGroup();_t(o.points,function(c){e=c.tracker,t=c.trackerArgs||c.shapeArgs,s=c.plotY,n=!o.isCartesian||s!==Y&&!isNaN(s),delete t.strokeWidth,null!==c.y&&n&&(e?e.attr(t):c.tracker=a[c.shapeType](t).attr({isTracker:h,fill:Rt,visibility:o.visible?"visible":"hidden"}).on(Mt?"touchstart":"mouseover",function(t){i=t.relatedTarget||t.fromElement,r.hoverSeries!==o&&d(i,"isTracker")!==h&&o.onMouseOver(),c.onMouseOver()}).on("mouseout",function(t){l.stickyTracking||(i=t.relatedTarget||t.toElement,d(i,"isTracker")===h)||o.onMouseOut()}).css(p).add(c.group||u))})},animate:function(t){var e=this,i=e.points,s=e.options;t||(_t(i,function(t){var i=t.graphic,t=t.shapeArgs,n=e.yAxis,o=s.threshold;i&&(i.attr({height:0,y:c(o)?n.getThreshold(o):n.translate(n.getExtremes().min,0,1,0,1)}),i.animate({height:t.height,y:t.y},s.animation))}),e.animate=null)},remove:function(){var t=this,e=t.chart;e.hasRendered&&_t(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),me.prototype.remove.apply(t,arguments)}}),Gt.column=pe,he.bar=Qt(he.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}}),ve=m(pe,{type:"bar",inverted:!0}),Gt.bar=ve,he.scatter=Qt(jt,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ve=m(me,{type:"scatter",sorted:!1,translate:function(){var t=this;me.prototype.translate.apply(t),_t(t.points,function(e){e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){for(var t,e=this,i=e.options.cursor,i=i&&{cursor:i},s=e.points,n=s.length;n--;)(t=s[n].graphic)&&(t.element._i=n);e._hasTracking?e._hasTracking=!0:e.group.attr({isTracker:!0}).on(Mt?"touchstart":"mouseover",function(t){e.onMouseOver(),t.target._i!==Y&&s[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(i)}}),Gt.scatter=ve,he.pie=Qt(jt,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),jt={type:"pie",isCartesian:!1,pointClass:m(fe,{init:function(){fe.prototype.init.apply(this,arguments);var e,i=this;return t(i,{visible:!1!==i.visible,name:u(i.name,"Slice")}),e=function(){i.slice()},Jt(i,"select",e),Jt(i,"unselect",e),i},setVisible:function(t){var e,i=this.series.chart,s=this.tracker,n=this.dataLabel,o=this.connector,r=this.shadowGroup;e=(this.visible=t=t===Y?!this.visible:t)?"show":"hide",this.group[e](),s&&s[e](),n&&n[e](),o&&o[e](),r&&r[e](),this.legendItem&&i.legend.colorizeItem(this,t)},slice:function(t,e,i){var s=this.series.chart,n=this.slicedTranslation;I(i,s),u(e,!0),t=this.sliced=c(t)?t:!this.sliced,t={translateX:t?n[0]:s.plotLeft,translateY:t?n[1]:s.plotTop},this.group.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var t=this;_t(t.points,function(e){var i=e.graphic,e=e.shapeArgs,s=-xt/2;i&&(i.attr({r:0,start:s,end:s}),i.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null},setData:function(t,e){me.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),u(e,!0)&&this.chart.redraw()},getCenter:function(){var t,e=this.options,s=this.chart,n=s.plotWidth,o=s.plotHeight,e=e.center.concat([e.size,e.innerSize||0]),r=gt(n,o);return qt(e,function(e,s){return(t=/%$/.test(e))?[n,o,r,r][s]*i(e)/100:e})},translate:function(){this.generatePoints();var t,e,i,s,n,o,r,a=0,h=-.25,l=this.options,c=l.slicedOffset,d=c+l.borderWidth,p=this.chart,u=this.points,g=2*xt,f=l.dataLabels.distance;this.center=t=this.getCenter(),this.getX=function(e,i){return s=lt.asin((e-t[1])/(t[2]/2+f)),t[0]+(i?-1:1)*mt(s)*(t[2]/2+f)},_t(u,function(t){a+=t.y}),_t(u,function(l){n=a?l.y/a:0,e=ct(h*g*1e3)/1e3,h+=n,i=ct(h*g*1e3)/1e3,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},s=(i+e)/2,l.slicedTranslation=qt([mt(s)*c+p.plotLeft,vt(s)*c+p.plotTop],ct),o=mt(s)*t[2]/2,r=vt(s)*t[2]/2,l.tooltipPos=[t[0]+.7*o,t[1]+.7*r],l.labelPos=[t[0]+o+mt(s)*f,t[1]+r+vt(s)*f,t[0]+o+mt(s)*d,t[1]+r+vt(s)*d,t[0]+o,t[1]+r,f<0?"center":s<g/4?"left":"right",s],l.percentage=100*n,l.total=a}),this.setTooltipPoints()},render:function(){this.getAttribs(),this.drawPoints(),!1!==this.options.enableMouseTracking&&this.drawTracker(),this.drawDataLabels(),this.options.animation&&this.animate&&this.animate(),this.isDirty=!1},drawPoints:function(){var e,i,s,n,o,r=this,a=r.chart,h=a.renderer,l=r.options.shadow;_t(r.points,function(c){i=c.graphic,o=c.shapeArgs,s=c.group,n=c.shadowGroup,l&&!n&&(n=c.shadowGroup=h.g("shadow").attr({zIndex:4}).add()),s||(s=c.group=h.g("point").attr({zIndex:5}).add()),e=c.sliced?c.slicedTranslation:[a.plotLeft,a.plotTop],s.translate(e[0],e[1]),n&&n.translate(e[0],e[1]),i?i.animate(o):c.graphic=i=h.arc(o).setRadialReference(r.center).attr(t(c.pointAttr[""],{"stroke-linejoin":"round"})).add(c.group).shadow(l,n),!1===c.visible&&c.setVisible(!1)})},drawDataLabels:function(){var t,e,i,s,n,o,r,a,h=this.data,l=this.chart,c=this.options.dataLabels,d=u(c.connectorPadding,10),p=u(c.connectorWidth,1),g=u(c.softConnector,!0),f=c.distance,m=this.center,v=m[2]/2,x=m[1],y=f>0,b=[[],[]],k=2;if(c.enabled)for(me.prototype.drawDataLabels.apply(this),_t(h,function(t){t.dataLabel&&b[t.labelPos[7]<xt/2?0:1].push(t)}),b[1].reverse(),r=function(t,e){return e.y-t.y},h=b[0][0]&&b[0][0].dataLabel&&(b[0][0].dataLabel.getBBox().height||21);k--;){var w,T=[],L=[],S=b[k],P=S.length;if(f>0){for(a=x-v-f;a<=x+v+f;a+=h)T.push(a);if(o=T.length,P>o){for(i=[].concat(S),i.sort(r),a=P;a--;)i[a].rank=a;for(a=P;a--;)S[a].rank>=o&&S.splice(a,1);P=S.length}for(a=0;a<P;a++){for(t=S[a],i=t.labelPos,t=9999,n=0;n<o;n++)(e=ft(T[n]-i[1]))<t&&(t=e,w=n);if(w<a&&null!==T[a])w=a;else for(o<P-a+w&&null!==T[a]&&(w=o-P+a);null===T[w];)w++;L.push({i:w,y:T[w]}),T[w]=null}L.sort(r)}for(a=0;a<P;a++)t=S[a],i=t.labelPos,e=t.dataLabel,o=!1===t.visible?"hidden":"visible",s=i[1],f>0?(n=L.pop(),w=n.i,n=n.y,(s>n&&null!==T[w+1]||s<n&&null!==T[w-1])&&(n=s)):n=s,s=c.justify?m[0]+(k?-1:1)*(v+f):this.getX(0===w||w===T.length-1?s:n,k),e.attr({visibility:o,align:i[6]})[e.moved?"animate":"attr"]({x:s+c.x+({left:d,right:-d}[i[6]]||0),y:n+c.y}),e.moved=!0,y&&p&&(e=t.connector,i=g?["M",s+("left"===i[6]?5:-5),n,"C",s,n,2*i[2]-i[4],2*i[3]-i[5],i[2],i[3],"L",i[4],i[5]]:["M",s+("left"===i[6]?5:-5),n,"L",i[2],i[3],"L",i[4],i[5]],e?(e.animate({d:i}),e.attr("visibility",o)):t.connector=e=this.chart.renderer.path(i).attr({"stroke-width":p,stroke:c.connectorColor||t.color||"#606060",visibility:o,zIndex:3}).translate(l.plotLeft,l.plotTop).add())}},drawTracker:pe.prototype.drawTracker,drawLegendSymbol:Vt.prototype.drawLegendSymbol,getSymbol:function(){}},jt=m(me,jt),Gt.pie=jt,t(Highcharts,{Axis:H,CanVGRenderer:ue,Chart:N,Color:le,Legend:X,Point:fe,Tick:B,Tooltip:O,Renderer:F,Series:me,SVGRenderer:ce,VMLRenderer:de,dateFormat:V,pathAnim:U,getOptions:function(){return j},hasBidiBug:Pt,numberFormat:v,seriesTypes:Gt,setOptions:function(t){return j=Qt(j,t),z(),j},addEvent:Jt,removeEvent:te,createElement:f,discardElement:A,css:g,each:_t,extend:t,map:qt,merge:Qt,pick:u,splat:p,extendClass:m,pInt:i,product:"Highcharts",version:"2.2.5"})}();
!function(t){jQuery.fn.extend({elastic:function(){var e=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function r(){var t=Math.floor(parseInt(n.width(),10));h.width()!==t&&(h.css({width:t+"px"}),o(!0))}function i(t,e){var r=Math.floor(parseInt(t,10));n.height()!==r&&n.css({height:r+"px",overflow:e})}function o(t){var e=n.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),r=h.html().replace(/<br>/gi,"<br />");if((t||e+"&nbsp;"!==r)&&(h.html(e+"&nbsp;"),Math.abs(h.height()+d-n.height())>3)){var o=h.height();o>=s?i(s,"auto"):o<=a?i(a,"hidden"):i(o,"hidden")}}if("textarea"!==this.type)return!1;var n=jQuery(this),h=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),d=parseInt(n.css("line-height"),10)||parseInt(n.css("font-size"),"10"),a=parseInt(n.css("height"),10)||3*d,s=parseInt(n.css("max-height"),10)||Number.MAX_VALUE;s<0&&(s=Number.MAX_VALUE),h.appendTo(n.parent());for(var p=e.length;p--;)h.css(e[p].toString(),n.css(e[p].toString()));n.css({overflow:"hidden"}),n.bind("keyup change cut paste",function(){o()}),t(window).bind("resize",r),n.bind("resize",r),n.bind("update",o),n.bind("blur",function(){h.height()<s&&(h.height()>a?n.height(h.height()):n.height(a))}),n.bind("input paste",function(t){setTimeout(o,250)}),o()})}})}(jQuery);
!function(t){"use stapp";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,o){var s,n;this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.options.makeAccessible=this.shouldBeAccessible(this.$element),this.enabled=!0,"manual"!=this.options.trigger&&(s="hover"==this.options.trigger?"mouseenter":"focus",n="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(s,this.options.selector,t.proxy(this.enter,this)),this.$element.on(n,this.options.selector,t.proxy(this.leave,this)),"hover"==this.options.trigger&&this.options.makeAccessible&&(this.$element.on("focus",this.options.selector,t.proxy(this.enter,this)),this.$element.on("blur",this.options.selector,t.proxy(this.leave,this)))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle(),this.options.makeAccessible&&this.adjustAccessibility(this.$element)},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(!i.options.delay||!i.options.delay.show||"focus"==e.type&&this.options.makeAccessible)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},show:function(){var t,e,i,o,s,n,a;if(this.hasContent()&&this.enabled){t=this.tip();var h=this.getUID(this.type);switch(this.setContent(),this.options.makeAccessible&&t.attr("id",h),this.options.animation&&t.addClass("fade"),"default"!=this.options.style&&t.addClass(this.options.style),"default"!=this.options.width&&t.find(".tooltip-inner").css("max-width",this.options.width),n="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(n),t.remove().css({top:0,left:0,display:"block",opacity:"0"}).appendTo(e?this.$element:document.body),i=this.getPosition(e),o=t[0].offsetWidth,s=t[0].offsetHeight,e?n.split(" ")[1]:n){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-o/2};break;case"top":a={top:i.top-s,left:i.left+i.width/2-o/2};break;case"left":a={top:i.top+i.height/2-s/2,left:i.left-o};break;case"right":a={top:i.top+i.height/2-s/2,left:i.left+i.width}}a=this.posit(a),"function"==typeof this.options.getPositionOverride&&(a=this.options.getPositionOverride.call(this,a)||a),t.css(a).addClass(n).addClass("in"),this.options.makeAccessible&&this.$element.attr("aria-describedby",h),setTimeout(function(){t.animate({opacity:"1"},450,"swing")},0)}},posit:function(e){var i=t(window),o=this.tip(),s=o.width(),n=i.scrollLeft()+2,a=i.width()+i.scrollLeft()-10,h=e.left,l=e.top,r=h,p=l,c=(this.$element,0),d=h,f=d+s,u=(s-10)/2,m="50%",g=0;return f>=a&&(c=f-a>s/2?s/2:f-a,r=d-c,g=c+10,m=u+g>=s?s:u+g,m+="px"),d<=n&&(c=n-d>s/2?s/2:n-d,r=d+c,g=-1*c+10,m=u+g<=10?12:u+g),o.find(".tooltip-arrow").css({left:m}),{left:r,top:p}},isHTML:function(t){return(!this.options||!this.options.plain)&&("string"!=typeof t||"<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(t))},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.isHTML(e)?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e=this.tip();e.removeClass("in"),this.options.makeAccessible&&this.$element.removeAttr("aria-describedby"),t.support.transition&&this.$tip.hasClass("fade")?function(){var i=setTimeout(function(){e.off(t.support.transition.end).remove()},500);e.one(t.support.transition.end,function(){clearTimeout(i),e.remove()})}():e.remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},shouldBeAccessible:function(t){return t.hasClass("accessible-tooltip")||t.find("i.icon-question-mark").length>0},adjustAccessibility:function(t){t.attr("tabindex")&&t.attr("tabindex")<0&&t.removeAttr("tabindex"),"a"!=t.get(0).nodeName.toLowerCase()||t.attr("href")||t.attr("tabindex")||t.attr("href","javascript:void(0)")}},t.fn.tooltip=function(i){return this.each(function(){var o=t(this),s=o.data("tooltip"),n="object"==typeof i&&i;s||o.data("tooltip",s=new e(this,n)),"string"==typeof i&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,style:"default",width:"default"}}(window.jQuery);
!function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),l=0,s=0,o=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(l=n.wheelDelta/120),n.detail&&(l=-n.detail/3),o=l,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(o=0,s=-1*l),void 0!==n.wheelDeltaY&&(o=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(s=-1*n.wheelDeltaX/120),i.unshift(t,l,s,o),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);
!function(e,t,n){e.fn.jScrollPane=function(o){function i(o,i){function s(t){var i,a,l,u,d,f,g=!1,v=!1;if(O=t,V===n)d=o.scrollTop(),f=o.scrollLeft(),o.css({overflow:"hidden",padding:0}),G=o.innerWidth()+be,q=o.innerHeight(),o.width(G),V=e('<div class="jspPane" />').css("padding",me).append(o.children()),E=e('<div class="jspContainer" />').css({width:G+"px",height:q+"px"}).append(V).appendTo(o);else{if(o.css("width",""),g=O.stickToBottom&&H(),v=O.stickToRight&&x(),u=o.innerWidth()+be!=G||o.outerHeight()!=q,u&&(G=o.innerWidth()+be,q=o.innerHeight(),E.css({width:G+"px",height:q+"px"})),!u&&we==N&&V.outerHeight()==K)return void o.width(G);we=N,V.css("width",""),o.width(G),E.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}V.css("overflow","auto"),N=t.contentWidth?t.contentWidth:V[0].scrollWidth,K=V[0].scrollHeight,V.css("overflow",""),Q=N/G,U=K/q,$=U>1,J=Q>1,J||$?(o.addClass("jspScrollable"),i=O.maintainPosition&&(ee||oe),i&&(a=D(),l=S()),r(),c(),p(),i&&(T(v?N-G:a,!1),C(g?K-q:l,!1)),Y(),P(),L(),O.enableKeyboardNavigation&&X(),O.clickOnTrack&&h(),z(),O.hijackInternalLinks&&I()):(o.removeClass("jspScrollable"),V.css({top:0,width:E.width()-be}),A(),M(),R(),j()),O.autoReinitialise&&!ve?ve=setInterval(function(){s(O)},O.autoReinitialiseDelay):!O.autoReinitialise&&ve&&clearInterval(ve),d&&o.scrollTop(0)&&C(d,!1),f&&o.scrollLeft(0)&&T(f,!1),o.trigger("jsp-initialised",[J||$])}function r(){$&&(E.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ie=E.find(">.jspVerticalBar"),se=ie.find(">.jspTrack"),Z=se.find(">.jspDrag"),O.showArrows&&(le=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",W),pe=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",W),O.arrowScrollOnHover&&(le.bind("mouseover.jsp",d(0,-1,le)),pe.bind("mouseover.jsp",d(0,1,pe))),u(se,O.verticalArrowPositions,le,pe)),ae=q,E.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ae-=e(this).outerHeight()}),Z.hover(function(){Z.addClass("jspHover")},function(){Z.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",W),Z.addClass("jspActive");var n=t.pageY-Z.position().top;return e("html").bind("mousemove.jsp",function(e){v(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),a())}function a(){se.height(ae+"px"),ee=0,re=O.verticalGutter+se.outerWidth(),V.width(G-re-be);try{0===ie.position().left&&V.css("margin-left",re+"px")}catch(e){}}function c(){J&&(E.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),ue=E.find(">.jspHorizontalBar"),de=ue.find(">.jspTrack"),te=de.find(">.jspDrag"),O.showArrows&&(je=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",W),ge=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",W),O.arrowScrollOnHover&&(je.bind("mouseover.jsp",d(-1,0,je)),ge.bind("mouseover.jsp",d(1,0,ge))),u(de,O.horizontalArrowPositions,je,ge)),te.hover(function(){te.addClass("jspHover")},function(){te.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",W),te.addClass("jspActive");var n=t.pageX-te.position().left;return e("html").bind("mousemove.jsp",function(e){b(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),fe=E.innerWidth(),l())}function l(){E.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){fe-=e(this).outerWidth()}),de.width(fe+"px"),oe=0}function p(){if(J&&$){var t=de.outerHeight(),n=se.outerWidth();ae-=t,e(ue).find(">.jspCap:visible,>.jspArrow").each(function(){fe+=e(this).outerWidth()}),fe-=n,q-=n,G-=t,de.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),a(),l()}J&&V.width(E.outerWidth()-be+"px"),K=V.outerHeight(),U=K/q,J&&(he=Math.ceil(1/Q*fe),he>O.horizontalDragMaxWidth?he=O.horizontalDragMaxWidth:he<O.horizontalDragMinWidth&&(he=O.horizontalDragMinWidth),te.width(he+"px"),ne=fe-he,w(oe)),$&&(ce=Math.ceil(1/U*ae),ce>O.verticalDragMaxHeight?ce=O.verticalDragMaxHeight:ce<O.verticalDragMinHeight&&(ce=O.verticalDragMinHeight),Z.height(ce+"px"),_=ae-ce,m(ee))}function u(e,t,n,o){var i,s="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?r=t:t==r&&(s=t,i=n,n=o,o=i),e[s](n)[r](o)}function d(e,t,n){return function(){return f(e,t,this,n),this.blur(),!1}}function f(t,n,o,i){o=e(o).addClass("jspActive");var s,r,a=!0,c=function(){0!==t&&ke.scrollByX(t*O.arrowButtonSpeed),0!==n&&ke.scrollByY(n*O.arrowButtonSpeed),r=setTimeout(c,a?O.initialDelay:O.arrowRepeatFreq),a=!1};c(),s=i?"mouseout.jsp":"mouseup.jsp",i=i||e("html"),i.bind(s,function(){o.removeClass("jspActive"),r&&clearTimeout(r),r=null,i.unbind(s)})}function h(){j(),$&&se.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var o,i=e(this),s=i.offset(),r=t.pageY-s.top-ee,a=!0,c=function(){var e=i.offset(),n=t.pageY-e.top-ce/2,s=q*O.scrollPagePercent,p=_*s/(K-q);if(r<0)ee-p>n?ke.scrollByY(-s):v(n);else{if(!(r>0))return void l();ee+p<n?ke.scrollByY(s):v(n)}o=setTimeout(c,a?O.initialDelay:O.trackClickRepeatFreq),a=!1},l=function(){o&&clearTimeout(o),o=null,e(document).unbind("mouseup.jsp",l)};return c(),e(document).bind("mouseup.jsp",l),!1}}),J&&de.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var o,i=e(this),s=i.offset(),r=t.pageX-s.left-oe,a=!0,c=function(){var e=i.offset(),n=t.pageX-e.left-he/2,s=G*O.scrollPagePercent,p=ne*s/(N-G);if(r<0)oe-p>n?ke.scrollByX(-s):b(n);else{if(!(r>0))return void l();oe+p<n?ke.scrollByX(s):b(n)}o=setTimeout(c,a?O.initialDelay:O.trackClickRepeatFreq),a=!1},l=function(){o&&clearTimeout(o),o=null,e(document).unbind("mouseup.jsp",l)};return c(),e(document).bind("mouseup.jsp",l),!1}})}function j(){de&&de.unbind("mousedown.jsp"),se&&se.unbind("mousedown.jsp")}function g(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Z&&Z.removeClass("jspActive"),te&&te.removeClass("jspActive")}function v(e,t){$&&(e<0?e=0:e>_&&(e=_),t===n&&(t=O.animateScroll),t?ke.animate(Z,"top",e,m):(Z.css("top",e),m(e)))}function m(e){e===n&&(e=Z.position().top),E.scrollTop(0),ee=e;var t=0===ee,i=ee==_,s=e/_,r=-s*(K-q);ye==t&&Te==i||(ye=t,Te=i,o.trigger("jsp-arrow-change",[ye,Te,Ce,Be])),k(t,i),V.css("top",r),o.trigger("jsp-scroll-y",[-r,t,i]).trigger("scroll")}function b(e,t){J&&(e<0?e=0:e>ne&&(e=ne),t===n&&(t=O.animateScroll),t?ke.animate(te,"left",e,w):(te.css("left",e),w(e)))}function w(e){e===n&&(e=te.position().left),E.scrollTop(0),oe=e;var t=0===oe,i=oe==ne,s=e/ne,r=-s*(N-G);Ce==t&&Be==i||(Ce=t,Be=i,o.trigger("jsp-arrow-change",[ye,Te,Ce,Be])),y(t,i),V.css("left",r),o.trigger("jsp-scroll-x",[-r,t,i]).trigger("scroll")}function k(e,t){O.showArrows&&(le[e?"addClass":"removeClass"]("jspDisabled"),pe[t?"addClass":"removeClass"]("jspDisabled"))}function y(e,t){O.showArrows&&(je[e?"addClass":"removeClass"]("jspDisabled"),ge[t?"addClass":"removeClass"]("jspDisabled"))}function C(e,t){v(e/(K-q)*_,t)}function T(e,t){b(e/(N-G)*ne,t)}function B(t,n,o){var i,s,r,a,c,l,p,u,d,f=0,h=0;try{i=e(t)}catch(e){return}for(s=i.outerHeight(),r=i.outerWidth(),E.scrollTop(0),E.scrollLeft(0);!i.is(".jspPane");)if(f+=i.position().top,h+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;a=S(),l=a+q,f<a||n?u=f-O.verticalGutter:f+s>l&&(u=f-q+s+O.verticalGutter),u&&C(u,o),c=D(),p=c+G,h<c||n?d=h-O.horizontalGutter:h+r>p&&(d=h-G+r+O.horizontalGutter),d&&T(d,o)}function D(){return-V.position().left}function S(){return-V.position().top}function H(){var e=K-q;return e>20&&e-S()<10}function x(){var e=N-G;return e>20&&e-D()<10}function P(){E.unbind(Se).bind(Se,function(e,t,n,o){var i=oe,s=ee;return ke.scrollBy(n*O.mouseWheelSpeed,-o*O.mouseWheelSpeed,!1),i==oe&&s==ee})}function A(){E.unbind(Se)}function W(){return!1}function Y(){V.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){B(e.target,!1)})}function M(){V.find(":input,a").unbind("focus.jsp")}function X(){function t(){var e=oe,t=ee;switch(n){case 40:ke.scrollByY(O.keyboardSpeed,!1);break;case 38:ke.scrollByY(-O.keyboardSpeed,!1);break;case 34:case 32:ke.scrollByY(q*O.scrollPagePercent,!1);break;case 33:ke.scrollByY(-q*O.scrollPagePercent,!1);break;case 39:ke.scrollByX(O.keyboardSpeed,!1);break;case 37:ke.scrollByX(-O.keyboardSpeed,!1)}return i=e!=oe||t!=ee}var n,i,s=[];J&&s.push(ue[0]),$&&s.push(ie[0]),V.focus(function(){o.focus()}),o.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(o){if(o.target===this||s.length&&e(o.target).closest(s).length){var r=oe,a=ee;switch(o.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=o.keyCode,t();break;case 35:C(K-q),n=null;break;case 36:C(0),n=null}return!(i=o.keyCode==n&&r!=oe||a!=ee)}}).bind("keypress.jsp",function(e){return e.keyCode==n&&t(),!i}),O.hideFocus?(o.css("outline","none"),"hideFocus"in E[0]&&o.attr("hideFocus",!0)):(o.css("outline",""),"hideFocus"in E[0]&&o.attr("hideFocus",!1))}function R(){o.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function z(){if(location.hash&&location.hash.length>1){var t,n,o=escape(location.hash.substr(1));try{t=e("#"+o+', a[name="'+o+'"]')}catch(e){return}t.length&&V.find(o)&&(0===E.scrollTop()?n=setInterval(function(){E.scrollTop()>0&&(B(t,!0),e(document).scrollTop(E.position().top),clearInterval(n))},50):(B(t,!0),e(document).scrollTop(E.position().top)))}}function I(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(n){var o,i,s,r,a,c,l=this.href.substr(0,this.href.indexOf("#")),p=location.href;if(-1!==location.href.indexOf("#")&&(p=location.href.substr(0,location.href.indexOf("#"))),l===p){o=escape(this.href.substr(this.href.indexOf("#")+1));try{i=e("#"+o+', a[name="'+o+'"]')}catch(e){return}i.length&&(s=i.closest(".jspScrollable"),r=s.data("jsp"),r.scrollToElement(i,!0),s[0].scrollIntoView&&(a=e(t).scrollTop(),((c=i.offset().top)<a||c>a+e(t).height())&&s[0].scrollIntoView()),n.preventDefault())}}))}function L(){var e,t,n,o,i,s=!1;E.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var a=r.originalEvent.touches[0];e=D(),t=S(),n=a.pageX,o=a.pageY,i=!1,s=!0}).bind("touchmove.jsp",function(r){if(s){var a=r.originalEvent.touches[0],c=oe,l=ee;return ke.scrollTo(e+n-a.pageX,t+o-a.pageY),i=i||Math.abs(n-a.pageX)>5||Math.abs(o-a.pageY)>5,c==oe&&l==ee}}).bind("touchend.jsp",function(e){s=!1}).bind("click.jsp-touchclick",function(e){if(i)return i=!1,!1})}function F(){var e=S(),t=D();o.removeClass("jspScrollable").unbind(".jsp"),o.replaceWith(De.append(V.children())),De.scrollTop(e),De.scrollLeft(t),ve&&clearInterval(ve)}var O,V,G,q,E,N,K,Q,U,$,J,Z,_,ee,te,ne,oe,ie,se,re,ae,ce,le,pe,ue,de,fe,he,je,ge,ve,me,be,we,ke=this,ye=!0,Ce=!0,Te=!1,Be=!1,De=o.clone(!1,!1).empty(),Se=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";me=o.css("paddingTop")+" "+o.css("paddingRight")+" "+o.css("paddingBottom")+" "+o.css("paddingLeft"),be=(parseInt(o.css("paddingLeft"),10)||0)+(parseInt(o.css("paddingRight"),10)||0),e.extend(ke,{reinitialise:function(t){t=e.extend({},O,t),s(t)},scrollToElement:function(e,t,n){B(e,t,n)},scrollTo:function(e,t,n){T(e,n),C(t,n)},scrollToX:function(e,t){T(e,t)},scrollToY:function(e,t){C(e,t)},scrollToPercentX:function(e,t){T(e*(N-G),t)},scrollToPercentY:function(e,t){C(e*(K-q),t)},scrollBy:function(e,t,n){ke.scrollByX(e,n),ke.scrollByY(t,n)},scrollByX:function(e,t){b((D()+Math[e<0?"floor":"ceil"](e))/(N-G)*ne,t)},scrollByY:function(e,t){v((S()+Math[e<0?"floor":"ceil"](e))/(K-q)*_,t)},positionDragX:function(e,t){b(e,t)},positionDragY:function(e,t){v(e,t)},animate:function(e,t,n,o){var i={};i[t]=n,e.animate(i,{duration:O.animateDuration,easing:O.animateEase,queue:!1,step:o})},getContentPositionX:function(){return D()},getContentPositionY:function(){return S()},getContentWidth:function(){return N},getContentHeight:function(){return K},getPercentScrolledX:function(){return D()/(N-G)},getPercentScrolledY:function(){return S()/(K-q)},getIsScrollableH:function(){return J},getIsScrollableV:function(){return $},getContentPane:function(){return V},scrollToBottom:function(e){v(_,e)},hijackInternalLinks:e.noop,destroy:function(){F()}}),s(i)}return o=e.extend({},e.fn.jScrollPane.defaults,o),e.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){o[this]=o[this]||o.speed}),this.each(function(){var t=e(this),n=t.data("jsp");n?n.reinitialise(o):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new i(t,o),t.data("jsp",n))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this);
!function(e,a,t){function l(e){var a={},l=/^jQuery\d+$/;return t.each(e.attributes,function(e,t){t.specified&&!l.test(t.name)&&(a[t.name]=t.value)}),a}function r(e,l){var r=this,o=t(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),!0===e)return o[0].value=l;o.focus()}else r.value="",o.removeClass("placeholder"),r==a.activeElement&&r.select()}function o(){var e,a=this,o=t(a),d=this.id;if(""==a.value){if("password"==a.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=t("<input>").attr(t.extend(l(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":d}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":d}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",d).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}var d,c,n="placeholder"in a.createElement("input"),i="placeholder"in a.createElement("textarea"),h=t.fn,u=t.valHooks;n&&i?(c=h.placeholder=function(){return this},c.input=c.textarea=!0):(c=h.placeholder=function(){var e=this;return e.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},c.input=n,c.textarea=i,d={get:function(e){var a=t(e);return a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,l){var d=t(e);return d.data("placeholder-enabled")?(""==l?(e.value=l,e!=a.activeElement&&o.call(e)):d.hasClass("placeholder")?r.call(e,!0,l)||(e.value=l):e.value=l,d):e.value=l}},n||(u.input=d),i||(u.textarea=d),t(function(){t(a).delegate("form","submit.placeholder",function(){var e=t(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),t(e).bind("beforeunload.placeholder",function(){t(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e,a,t){function l(e){var a={},l=/^jQuery\d+$/;return t.each(e.attributes,function(e,t){t.specified&&!l.test(t.name)&&(a[t.name]=t.value)}),a}function r(e,l){var r=this,o=t(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),!0===e)return o[0].value=l;o.focus()}else r.value="",o.removeClass("placeholder"),r==a.activeElement&&r.select()}function o(){var e,a=this,o=t(a),d=this.id;if(""==a.value){if("password"==a.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=t("<input>").attr(t.extend(l(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":d}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":d}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",d).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}var d,c,n="placeholder"in a.createElement("input"),i="placeholder"in a.createElement("textarea"),h=t.fn,u=t.valHooks;n&&i?(c=h.placeholder=function(){return this},c.input=c.textarea=!0):(c=h.placeholder=function(){var e=this;return e.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},c.input=n,c.textarea=i,d={get:function(e){var a=t(e);return a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,l){var d=t(e);return d.data("placeholder-enabled")?(""==l?(e.value=l,e!=a.activeElement&&o.call(e)):d.hasClass("placeholder")?r.call(e,!0,l)||(e.value=l):e.value=l,d):e.value=l}},n||(u.input=d),i||(u.textarea=d),t(function(){t(a).delegate("form","submit.placeholder",function(){var e=t(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),t(e).bind("beforeunload.placeholder",function(){t(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery);
!function(e,o){var t=/[<>&\r\n"']/gm,a={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"apos;"};e.extend({fileDownload:function(i,n){function l(){if(-1!=document.cookie.indexOf(u.cookieName+"="+u.cookieValue))return k.onSuccess(i),document.cookie=u.cookieName+"=; expires="+new Date(1e3).toUTCString()+"; path="+u.cookiePath,void d(!1);if(w||v)try{var o=w?w.document:r(v);if(o&&null!=o.body&&o.body.innerHTML.length){var t=!0;if(x&&x.length){var a=e(o.body).contents().first();a.length&&a[0]===x[0]&&(t=!1)}if(t)return k.onFail(o.body.innerHTML,i),void d(!0)}}catch(e){return k.onFail("",i),void d(!0)}setTimeout(l,u.checkInterval)}function r(e){var o=e[0].contentWindow||e[0].contentDocument;return o.document&&(o=o.document),o}function d(e){setTimeout(function(){w&&(p&&w.close(),s&&(w.focus(),e&&w.close()))},0)}function c(e){return e.replace(t,function(e){return"&"+a[e]})}var s,p,m,u=e.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(e){},successCallback:function(e){},failCallback:function(e,o){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},n),g=new e.Deferred,f=(navigator.userAgent||navigator.vendor||o.opera).toLowerCase();/ip(ad|hone|od)/.test(f)?s=!0:-1!==f.indexOf("android")?p=!0:m=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(f.substr(0,4));var h=u.httpMethod.toUpperCase();if(p&&"GET"!==h)return e().dialog?e("<div>").html(u.androidPostUnsupportedMessageHtml).dialog(u.dialogOptions):alert(u.androidPostUnsupportedMessageHtml),g.reject();var b=null,k={onPrepare:function(o){u.preparingMessageHtml?b=e("<div>").html(u.preparingMessageHtml).dialog(u.dialogOptions):u.prepareCallback&&u.prepareCallback(o)},onSuccess:function(e){b&&b.dialog("close"),u.successCallback(e),g.resolve(e)},onFail:function(o,t){b&&b.dialog("close"),u.failMessageHtml&&e("<div>").html(u.failMessageHtml).dialog(u.dialogOptions),u.failCallback(o,t),g.reject(o,t)}};k.onPrepare(i),null!==u.data&&"string"!=typeof u.data&&(u.data=e.param(u.data));var v,w,y,x;if("GET"===h){if(null!==u.data){-1!==i.indexOf("?")?"&"!==i.substring(i.length-1)&&(i+="&"):i+="?",i+=u.data}s||p?(w=o.open(i),w.document.title=u.popupWindowTitle,o.focus()):m?o.location(i):v=e("<iframe>").hide().prop("src",i).appendTo("body")}else{var T="";null!==u.data&&e.each(u.data.replace(/\+/g," ").split("&"),function(){var e=this.split("="),o=u.encodeHTMLEntities?c(decodeURIComponent(e[0])):decodeURIComponent(e[0]);if(o){var t=u.encodeHTMLEntities?c(decodeURIComponent(e[1])):decodeURIComponent(e[1]);T+='<input type="hidden" name="'+o+'" value="'+t+'" />'}}),m?(x=e("<form>").appendTo("body"),x.hide().prop("method",u.httpMethod).prop("action",i).html(T)):(s?(w=o.open("about:blank"),w.document.title=u.popupWindowTitle,y=w.document,o.focus()):(v=e("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"),y=r(v)),y.write("<html><head></head><body><form method='"+u.httpMethod+"' action='"+i+"'>"+T+"</form>"+u.popupWindowTitle+"</body></html>"),x=e(y).find("form")),x.submit()}return setTimeout(l,u.checkInterval),g.promise()}})}(jQuery,this);
!function(t,n){function r(t){return t&&t.toLowerCase?t.toLowerCase():t}function e(t,n){for(var r=0,e=t.length;r<e;r++)if(t[r]==n)return!s;return s}var s=!1,a=null,i=parseFloat,o=Math.min,h=[],l=[],u=function(t){return"string"==typeof t},c=Array.prototype.indexOf||function(t){var n=this.length,r=Number(arguments[1])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in this&&this[r]===t)return r;return-1};t.tinysort={id:"TinySort",version:"1.5.2",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(t,n){h.push(t),l.push(n)},defaults:{order:"asc",attr:a,data:a,useVal:s,place:"start",returns:s,cases:s,forceStrings:s,ignoreDashes:s,sortFunction:a}},t.fn.extend({tinysort:function(){var n,f,g,p=this,d=[],v=[],y=[],b=[],F=0,S=[],w=[],m=function(n){t.each(h,function(t,r){r.call(r,n)})},A=function(n,e){var a=0;for(0!==F&&(F=0);0===a&&F<g;){var o=b[F],h=o.oSettings,c=h.ignoreDashes?/(\d+\.?\d*)$/g:/(-?\d+\.?\d*)$/g;if(m(h),h.sortFunction)a=h.sortFunction(n,e);else if("rand"==h.order)a=Math.random()<.5?1:-1;else{var f=s,p=h.cases?n.s[F]:r(n.s[F]),d=h.cases?e.s[F]:r(e.s[F]);if(!D.forceStrings){var v=u(p)?p&&p.match(c):s,y=u(d)?d&&d.match(c):s;if(v&&y){var j=p.substr(0,p.length-v[0].length),S=d.substr(0,d.length-y[0].length);j==S&&(f=!s,p=i(v[0]),d=i(y[0]))}}a=o.iAsc*(p<d?-1:p>d?1:0)}t.each(l,function(t,n){a=n.call(n,f,p,d,a)}),0===a&&F++}return a};for(n=0,f=arguments.length;n<f;n++){var M=arguments[n];u(M)?S.push(M)-1>w.length&&(w.length=S.length-1):w.push(M)>S.length&&(S.length=w.length)}for(S.length>w.length&&(w.length=S.length),g=S.length,0===g&&(g=S.length=1,w.push({})),n=0,f=g;n<f;n++){var x=S[n],D=t.extend({},t.tinysort.defaults,w[n]),T=!(!x||""==x),$=T&&":"==x[0];b.push({sFind:x,oSettings:D,bFind:T,bAttr:!(D.attr===a||""==D.attr),bData:D.data!==a,bFilter:$,$Filter:$?p.filter(x):p,fnSort:D.sortFunction,iAsc:"asc"==D.order?1:-1})}p.each(function(n,r){var e,s=t(r),a=s.parent().get(0),i=[];for(j=0;j<g;j++){var o=b[j],h=o.bFind?o.bFilter?o.$Filter.filter(r):s.find(o.sFind):s;i.push(o.bData?h.data(o.oSettings.data):o.bAttr?h.attr(o.oSettings.attr):o.oSettings.useVal?h.val():h.text()),void 0===e&&(e=h)}var l=c.call(y,a);l<0&&(l=y.push(a)-1,v[l]={s:[],n:[]}),e.length>0?v[l].s.push({s:i,e:s,n:n}):v[l].n.push({e:s,n:n})});for(j in v)v[j].s.sort(A);for(j in v){var k=v[j],C=k.s.length,L=[],V=C,G=[0,0];switch(D.place){case"first":t.each(k.s,function(t,n){V=o(V,n.n)});break;case"org":t.each(k.s,function(t,n){L.push(n.n)});break;case"end":V=k.n.length;break;default:V=0}for(n=0;n<C;n++){var I=e(L,n)?!s:n>=V&&n<V+k.s.length,N=(I?k.s:k.n)[G[I?0:1]].e;N.parent().append(N),!I&&D.returns||d.push(N.get(0)),G[I?0:1]++}}return p.length=0,Array.prototype.push.apply(p,d),p}}),t.fn.TinySort=t.fn.Tinysort=t.fn.tsort=t.fn.tinysort}(jQuery);
!function(r){for(var e,t,i,n,a,o,s=[],c=9472,h={},l=String.fromCharCode,f=Math.min,p=null,g=32,u=l(g);g<255;g++,u=l(g).toLowerCase())-1===s.indexOf(u)&&s.push(u);s.sort(),r.tinysort.charorder={id:"TinySort CharOrder",version:"1.1.0",requires:"TinySort 1.4",copyright:"Copyright (c) 2008-2012 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"}},r.tinysort.defaults.charOrder=e,r.tinysort.plugin(function(f){if(a=f,o="asc"==a.order?1:-1,a.charOrder!=e)if(e=a.charOrder,a.charOrder){t=s.slice(0),i=!1;for(var g,u,d=[],v=function(r,e){d.push(e),h[a.cases?r:r.toLowerCase()]=e},y="",O="z",m=e.length,w=0;w<m;w++){var C=e[w],x=C.charCodeAt(),b=x>96&&x<123;if(!b)if("["==C){var j=d.length,L=j?d[j-1]:O,S=e.substr(w+1).match(/[^\]]*/)[0],T=S.match(/{[^}]*}/g);if(T)for(g=0,u=T.length;g<u;g++){var A=T[g];w+=A.length,S=S.replace(A,""),v(A.replace(/[{}]/g,""),L),i=!0}for(g=0,u=S.length;g<u;g++)v(L,S[g]);w+=S.length+1}else if("{"==C){var M=e.substr(w+1).match(/[^}]*/)[0];v(M,l(c++)),w+=M.length+1,i=!0}else d.push(C);if(d.length&&(b||w===m-1)){var R=d.join("");y+=R,r.each(R.split(""),function(r,e){t.splice(t.indexOf(e),1)});var k=d.slice(0);k.splice(0,0,t.indexOf(O)+1,0),Array.prototype.splice.apply(t,k),d.length=0}w+1===m?n=new RegExp("["+y+"]","gi"):b&&(O=C)}}else i=!1,c=9472,h={},n=t=p},function(r,e,s,c){if(!r&&a.charOrder){if(i)for(var l in h){var g=h[l];e=e.replace(l,g),s=s.replace(l,g)}if(e.match(n)!==p||s.match(n)!==p)for(var u=0,d=f(e.length,s.length);u<d;u++){var v=t.indexOf(e[u]),y=t.indexOf(s[u]);if(c=o*(v<y?-1:v>y?1:0))break}}return c})}(jQuery);
jQuery&&function(t){function e(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t}function o(t){return t.hasClass("accessible-tooltip")||t.find("i.icon-question-mark").length>0}function i(t){t.attr("tabindex")&&t.attr("tabindex")<0&&t.removeAttr("tabindex"),"a"!=t.get(0).nodeName.toLowerCase()||t.attr("href")||t.attr("tabindex")||t.attr("href","javascript:void(0)")}function n(e,o){t.extend(e,o);for(var i in o)null!=o[i]&&void 0!=o[i]||(e[i]=o[i]);return e}function a(){t(window).off("resize.tooltip").on("resize.tooltip",function(){t(".ui-tooltip:visible").each(function(){t.data(this,v)&&t.data(this,v).activecaller&&t.data(this,v).activecaller.mytooltip("reposition")})}),t(document).off("keydown.closetooltip").on("keydown.closetooltip",function(e){27==(e.keyCode?e.keyCode:e.charCode)&&t(".ui-tooltip").each(function(){t.data(this,v)&&t.data(this,v).options.closeOnEsc&&t.data(this,v).close()})}),t.mytooltip.initialized=!0}function s(){for(var e=0,o=p.length;e<o;e+=1)t(p[e]).off().removeData(v);p=[],t(".ui-tooltip").remove()}function l(t){return t.pageX?t.pageX:t.clientX?t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null}function r(t){return t.pageY?t.pageY:t.clientY?t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null}function c(t,e,o,i){var n={my:o.position,at:o.side,of:t,collision:o.collision};if(o.followCursor&&i&&(n.of=i,n.my=-1!=o.side.indexOf("top")?"center bottom-12":"center top+20"),o.offset){var a="";switch(typeof o.offset){case"object":o.offset instanceof Array?(o.offset[0]||(o.offset[0]=0),o.offset[1]||(o.offset[1]=0),a=o.offset.join(", ")):(o.offset.top||(o.offset.top=0),o.offset.left||(o.offset.left=0),a=[o.offset.left,o.offset.top].join(", "));break;case"string":a=o.offset;break;default:throw'[jQuery.mytooltip] offset option must be a string like "50, 0" or an object with one or both top, left properties, or an array of numbers with [left, top] values.'}n.offset=a}e.position(n)}function d(e,o,i){var n=t(o).offset(),a=l(e)-n.left,s=r(e)-n.top;if(i.x&&i.x instanceof Array)switch(i.x[0]){case"min":if(a<i.x[1])return!1;break;case"max":if(a>i.x[1])return!1;break;default:throw"jQuery.mytooltip: unrecognaised X constraint in area option"}if(i.y&&i.y instanceof Array)switch(i.y[0]){case"min":if(s<i.y[1])return!1;break;case"max":if(s>i.y[1])return!1;break;default:throw"jQuery.mytooltip: unrecognaised Y constraint in area option"}return!(i.minX&&a<i.minX)&&(!(i.maxX&&a>i.maxX)&&(!(i.minY&&s<i.minY)&&!(i.maxY&&s>i.maxY)))}function u(t){switch(t){case"top":case"center top":return"arrow-down";case"right":case"right top":case"right center":case"right bottom":return"arrow-left";case"left":case"left top":case"left center":case"left bottom":return"arrow-right";case"bottom":case"center bottom":return"arrow-up";default:return""}}function f(e,o,i){switch(o=arguments[1]||e.find(".arrow"),i.side){case"top":case"center top":t(o).position({my:"center top",at:"center bottom",of:e});break;case"bottom":case"center bottom":t(o).position({my:"center bottom",at:"center top",of:e});break;case"left":case"left top":case"left center":case"left bottom":t(o).position({my:"left center",at:"right center",of:e});break;case"right":case"right top":case"right center":case"right bottom":t(o).position({my:"right center",at:"left center",of:e})}}function h(){this.defaults={tooltip:void 0,title:null,hasArrow:!0,inTime:0,outTime:0,opening:"mouseenter focus",closing:"mouseleave focusout",inDelay:200,outDelay:200,offset:null,width:170,side:"center top",position:"center bottom",area:null,onShow:null,onClose:null,closeOnExternalClick:!0,closeOnEsc:!0,closeHandlers:null,titleElement:"<h5></h5>",parentElement:"body",centerAfterShow:!0,followCursor:!1,collision:"none",conditionToShow:null,conditionToHide:null,accessibleLabelForClose:null}}var p=[];t.extend(h.prototype,{setDefaults:function(t){return n(this.defaults,t||{}),this}});var m="tooltip.tooltip-caller",v="tooltip.tooltip",y={caller:"ui-tooltip-caller",disabled:"ui-tooltip-disabled",active:"ui-tooltip-active",inactive:"ui-tooltip-inactive"},b=".tooltip",g={init:function(n,s){function l(e){var o=t.data(E,v);o&&o.hasOwnProperty(e)&&(clearTimeout(o[e]),o[e]=null)}function r(){l("timeOut")}function h(){l("timeIn")}function g(){h(),r()}function w(e){if(!k.conditionToHide||k.conditionToHide(j))return void 0!==t.data(E,v)&&void(t.data(E,v).timeOut=setTimeout(function(){if(!k.conditionToHide||k.conditionToHide(j)){if(!t.data(E,v))return!1;if(j.is(":visible")){if(j.fadeOut(k.outTime,function(){g(),j.css({visibility:"hidden",display:"block",top:"-2000px",left:"20px"}),k.onClose&&k.onClose(j),e&&"function"==typeof e&&e(j)}),k.area&&t.data(E,v)&&t.data(E,v).activecaller&&t.data(E,v).activecaller.addClass(y.inactive),!t.data(E,v))return!1;t.data(E,v).activecaller=null}}},k.outDelay))}var C=t.mytooltip.defaults,k=t.extend({},C,n),T=e("jqtooltip");if(n.followCursor&&(n.side="center top",void 0==n.outDelay&&n.followCursor&&(k.outDelay=50)),void 0==n.inDelay&&"click"==n.opening&&(k.inDelay=10),void 0==n.outDelay&&"click"==n.closing&&(k.outDelay=10),"click"!=n.closing||n.title||(k.title=" "),!k.tooltip)throw"jQuery.mytooltip: tooltip element must be defined.";if(!k.parentElement)throw"jQuery.mytooltip: parentElement must be defined.";var j;if("string"==typeof k.tooltip)j=t(k.tooltip);else{if("object"!=typeof k.tooltip)throw"jQuery.mytooltip: tooltip element must be defined by a string selector, or by a jQuery or DOM object";j="attr"in k.tooltip?k.tooltip:t(k.tooltip)}if(!j.length)return this;p.push(j);var E=j.get(0);if(void 0==t.data(E,v)?t.data(E,v,{callers:[],activecaller:null,options:k,timeOut:null,timeIn:null,parentDomElement:null,close:w}):(k=t.extend({},t.data(E,v).options,n),t.data(E,v).options=k),!t(k.parentElement).length)return this;if(j.closest("html").length||(t(k.parentElement).append(j),t.data(E,v).parentDomElement=t(k.parentElement).get(0)),function(e){if(e.hasClass("ui-tooltip")||e.addClass("ui-tooltip"),e.attr("role")&&"tooltip"==e.attr("role")||e.attr("role","tooltip"),e.attr("id")?T=e.attr("id"):e.attr("id",T),null!=k.title&&""!=k.title&&0==e.find(".ui-tooltip-title").length){var o=t("<div></div>").addClass("ui-tooltip-title");if(""!=k.title&&t(k.titleElement).text(k.title).appendTo(o),"click"==k.closing&&0==e.find(".closing-handler").length){var i=t("<a></a>").addClass("ui-tooltip-closing-handler").attr("href","#").on("mouseover"+b,function(){t(this).addClass("ui-tooltip-closing-handler-highlight")}).on("mouseout"+b,function(){t(this).removeClass("ui-tooltip-closing-handler-highlight")}).on("click"+b,function(){return w(),!1});null!=k.accessibleLabelForClose&&i.attr("aria-label",k.accessibleLabelForClose),i.appendTo(o)}e.prepend(o)}k.width&&("string"==typeof k.width?e.css({width:k.width}):e.css({width:k.width+"px"})),k.hasArrow&&0==e.find(".arrow").length&&f(e,t('<span class="arrow '+u(k.side)+'"></span>').appendTo(e),k)}(j),k.closeHandlers)for(x=0;x<k.closeHandlers.length;x++){var O=k.closeHandlers[x];if("string"==typeof O)j.find(k.closeHandlers[x]).on("click"+b,w),t(k.closeHandlers[x]).on("click"+b,w);else{O=t.extend({scope:"any",closing:"click"},O);var D;if(D=O.callback?function(){w(O.callback)}:w,!O.selector)throw"jQuery.mytooltip: handler object must have a valid selector property.";switch(O.scope){case"tooltip":j.find(O.selector).on(O.closing+b,D);break;case"document":case"body":t(O.selector).on(O.closing+b,D);break;case"any":j.find(O.selector).on(O.closing+b,D),t(O.selector).on(O.closing+b,D);break;default:throw"jQuery.mytooltip: handler object scope property does not have one of the following values: [any|document|body|tooltip]."}}}return this.each(function(){t.data(E,v).callers.push(this),t.data(this,m,{element:j,options:k});var e=t(this);e.hasClass(y.caller)||e.addClass(y.caller),o(e)&&(i(e),e.attr("aria-describedby")||e.attr("aria-describedby",T)),null!=k.area&&(e.addClass(y.inactive),e.on("mousemove"+b,function(e){t(this).offset();d(e,this,k.area)?t(this).hasClass(y.inactive)&&(t(this).removeClass(y.inactive).addClass(y.active),"mouseover"!=k.opening&&"mouseenter"!=k.opening||t(this).trigger(k.opening+b)):t(this).hasClass(y.active)&&t(this).removeClass(y.active).addClass(y.inactive)})),k.followCursor?(e.on("mouseenter"+b,function(t){r(),k.conditionToShow?k.conditionToShow(e,j,k)?(k.onShow&&k.onShow(e,j),j.css({visibility:"visible"}).show()):w():(k.onShow&&k.onShow(e,j),j.css({visibility:"visible"}).show())}),e.on("mouseleave"+b,function(t){w()}),e.on("mousemove"+b,function(t){if(j.is(":visible")){j.position({my:"center top",of:t,collision:k.collision});var e=j.position();j.css({top:e.top-j.outerHeight()-16}),f(j,null,k)}})):(e.on(k.opening+b,function(o){return!e.hasClass(y.disabled)&&!e.hasClass(y.inactive)&&(!(k.conditionToShow&&!k.conditionToShow(e,j,k))&&(j.css({visibility:"visible"}).show(),r(),1!=j.css("opacity")&&j.stop().css({opacity:1}),c(e,j,k,o),void 0!==t.data(E,v)&&(t.data(E,v).activecaller=e),k.onShow&&k.onShow(e,j),void(k.centerAfterShow&&(c(e,j,k,o),f(j,null,k)))))}),-1==k.closing.indexOf("mouseleave")&&-1==k.closing.indexOf("mouseout")||e.on(k.closing+b,function(){h(),w()}),j.on("mouseenter"+b,r)),-1==k.closing.indexOf("mouseleave")&&-1==k.closing.indexOf("mouseout")||j.on(k.closing+b,function(e){t.data(E,v).timeOut||w()})}),t.mytooltip.initialized||a(),s&&"function"==typeof s&&s(j),this},disable:function(){return this.each(function(){t(this).addClass(y.disabled)}),this},enable:function(){return this.each(function(){t(this).removeClass(y.disabled)}),this},destroy:function(){return this.each(function(){var e=t.data(this,m);if(e){e=e.options,t(this).removeClass(y.disabled).removeClass(y.caller).removeClass(y.active).removeClass(y.inactive).off(e.opening+b).off(e.closing+b);for(var o=["mouseover","mouseout","mousemove","mouseenter","mouseleave","click"],i=0;i<o.length;i++)t(this).off(o[i]+"namespace");t.data(this,m).element.remove(),t.data(this,m,void 0)}}),this},reposition:function(){return this.each(function(){if(t.data(this,m)){var e=t.data(this,m).element,o=t(this),i=t.data(this,m).options;c(o,e,i),f(e,null,i)}}),this},title:function(e,o){return e=e||"hide",this.each(function(){if(t.data(this,m)){var i=t.data(this,m).element;switch(e){case"hide":i.find(".ui-tooltip-title").hide();break;case"show":i.find(".ui-tooltip-title").show();break;case"text":o&&i.find(".ui-tooltip-title").text(o)}}}),this},close:function(e){return this.each(function(){if(t.data(this,m)){var o=t.data(this,m).element,i=t.data(this,m).options;o.fadeOut(i.outTime,function(){null!=i.onClose&&i.onClose(o),e&&"function"==typeof e&&e(o),o.css({visibility:"hidden",display:"block"})})}}),this},addClass:function(e){return this.each(function(){t.data(this,m)&&(t.data(this,m).element.hasClass(e)||t.data(this,m).element.addClass(e))}),this},removeClass:function(e){return this.each(function(){t.data(this,m)&&t.data(this,m).element.removeClass(e)}),this},mask:function(e,o){e=e||"add",o=o||!1;var i="toggle"==e;return this.each(function(){if(t.data(this,m)){var n=t.data(this,m).element;switch(i&&(e=0==n.find(".ui-tooltip-mask").length?"add":"remove"),e){case"add":if(0==n.find(".ui-tooltip-mask").length){var a=t("<div></div>").addClass("ui-tooltip-mask");o&&t("<div></div>").addClass("ui-tooltip-loader").appendTo(a),n.append(a)}break;case"remove":n.find(".ui-tooltip-mask").remove()}}}),this}};t.mytooltip=t.extend(new h,{initialized:!1,uuid:(new Date).getTime(),version:"1.20"}),t.fn.mytooltip=function(e){return this.length?g[e]?g[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.mytooltip."):g.init.apply(this,arguments):this},t(document).on("reset:mytooltip",s)}(jQuery);
jQuery&&_&&I18n&&Backbone&&function(e,t,i,r){var a={searcher:"ui-livesearch-searcher",list:"ui-livesearch-list",item:"ui-livesearch-item",title:"ui-livesearch-section-title",working:"ui-livesearch-working",itemSelected:"ui-livesearch-item-selected",itemOver:"ui-livesearch-item-over",container:"ui-livesearch-items-container",fieldPreloader:"ui-livesearch-searcher-preloader",listPreloader:"ui-livesearch-searcher-preloader",firstItem:"ui-livesearch-item-first",lastItem:"ui-livesearch-item-last",disabled:"ui-livesearch-disabled"},s={functionExec:"livesearch-function",data:"livesearch-data",globalMethod:"livesearchGLOBAL"},n={type:"POST",dataType:"json",cache:!1,data:{}},o={none:"none",uniqueMethod:"unique-method",dedicatedMethod:"dedicated-method"},l=function(){};t.extend(l.prototype,{sanitize:function(e){var t;for(t in e)if("string"==typeof e[t])e[t]=this.escape(e[t]);else if("object"==typeof e[t])if(e[t]instanceof Array)for(var i=0,r=e[t].length;i<r;i++)e[t][i]=this.sanitize(e[t][i]);else e[t]=this.sanitize(e[t]);return e},escape:function(e){return e.replace(/</g,"(").replace(/>/g,")")}});var c={requireParams:function(e,t){if(!e)throw"[jQuery.liveSearch] Missing data with Required Parameters: "+t.join(", ");for(var i=[],r=0;r<t.length;r++)e.hasOwnProperty(t[r])||i.push(t[r]);if(i.length)throw"[jQuery.liveSearch] Missing Required Parameters: "+i.join(", ")},format:function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,i){return void 0!==t[i]?t[i]:e})},queue:{},lastWins:function(e,t,i){this.queue[t]&&(clearTimeout(this.queue[t]),this.queue[t]=null),this.queue[t]=setTimeout(e,i)},eraseTimeout:function(e){this.queue[e]&&(clearTimeout(this.queue[e]),this.queue[e]=null)},fetchCollections:function(t,i,r){var n,o={};if(i||(i=function(){}),r=e.extend({},r||{}),t.canSearchSynchronously)return i();var l=this.getActions(o,t,r),h=(new Date).getTime();if(t.search)for(n in l)t.fetchedSearchRxByAction.hasOwnProperty(n)&&u.safeTest(t.fetchedSearchRxByAction[n],t.search)&&delete l[n];if(t.latestRequests&&u.safeTest(t.latestRequests.fetchFilter,t.search))for(n in l)t.latestRequests.actions.hasOwnProperty(n)&&delete l[n];var d=[];for(n in l){t.fetchedSearchRxByAction[n]=c.getMatchPattern(t.search);var f,m=l[n];if(m.getAjaxPromise){if(!(f=m.getAjaxPromise(m.ajaxParams)))throw c.format("[jQuery.liveSearch] getAjaxPromise function does not return a promise object. Make the function return a promise (example: return $.ajax(params).")}else f=e.ajax(m.ajaxParams);f.action=m,d.push(c.setPromiseCallbacks(t,n,f,o,{fetchFilter:t.fetchedSearchRxByAction[n]}))}if(d.length&&(t.latestRequests={fetchFilter:c.getMatchPattern(t.search),timestamp:h,promises:d,actions:l},e.isEmptyObject(t.pendingCallsGroups)&&(t.showPreloaderInField&&t.field.addClass(a.fieldPreloader),t.disableFieldOnCalls&&t.field.addClass(a.disabled),t.onAjaxCallsStart&&t.onAjaxCallsStart()),t.pendingCallsGroups[h]=!0),r.search=t.search,r.timestamp=h,!e.isEmptyObject(o)&&t.preRenderReadySections){for(n in l)n!=s.globalMethod&&(delete t.sections[n].collection,delete t.sections[n].currentSelection,delete t.sections[n].displayedItemsCount);i()}this.setAllPromisesCallbacks(t,o,d,i,r)},setAllPromisesCallbacks:function(i,r,s,n,o){var l=0,h=(new e.Deferred).done(function(){if(delete i.pendingCallsGroups[o.timestamp],!e.isEmptyObject(r)){var t={markSectionsAsFixed:!1};o.search||(t.markSectionsAsFixed=!0),c.processFetchedLists(r,i,t)}if(e.isEmptyObject(i.pendingCallsGroups))return delete i.latestRequests,i.showPreloaderInField&&i.field.removeClass(a.fieldPreloader),i.disableFieldOnCalls&&i.field.removeClass(a.disabled),i.onAjaxCallsEnd&&i.onAjaxCallsEnd(),n()}).progress(function(e){++l==s.length&&h.resolve()});s.length?t.each(s,function(e){e.always(function(){h.notify(e.action)})}):h.resolve()},setPromiseCallbacks:function(t,i,r,a,n){return r.done(function(r){if(!t.search||u.safeTest(n.fetchFilter,t.search)){if(i==s.globalMethod){if(!e.isPlainObject(r))throw c.format("[jQuery.liveSearch] Data retrieved from server for multiple sections is not an object.\r\nIt must be the JSON representation of an object like: {SectionName1:[],SectionName2:[]}")}else{if(!e.isPlainObject(r)&&!r instanceof Array)throw c.format('[jQuery.liveSearch] Data retrieved from server for section "{0}" is not an object or an array.\r\nIt must be the JSON representation of an object like: {SectionName:[]} or directly of an Array.',i);if(r instanceof Array){var o={};o[i]=r,r=o}}for(name in r)a[name]=r[name]}}).fail(function(e,r,a){t.sections[i].collection||delete t.fetchedSearchRxByAction[i],t.failed||(t.failed={}),t.onError&&t.onError(i,e,r,a),t.failed[(new Date).getTime()]={action:i,details:{jqXHR:e,textStatus:r,errorThrown:a}}})},processFetchedLists:function(e,t,i){for(x in e){if(!t.sections.hasOwnProperty(x))throw c.format('[jQuery.liveSearch] Ajax call response contains section "{0}", but it is not mapped to any section.',x);var r=t.sections[x];if(r.collection=e[x],(r.fixed||i.markSectionsAsFixed)&&(r.fetchMode=o.none),e[x].length)for(var a=e[x][0],s=0;s<r.properties.length&&!a.hasOwnProperty(r.properties[s]);s++)throw c.format('[jQuery.liveSearch] No Property found on the first object for Section "{0}".\r\nProperties defined for this section are: {1}.\r\nMake sure that the provided objects have the same structure of the section definition.',x,r.properties.join(" ,"))}this.checkIfCanSearchSynchronously(t)},checkIfCanSearchSynchronously:function(e){var t=!0;for(x in e.sections)e.sections[x].fetchMode!=o.none&&(t=!1);e.canSearchSynchronously=t},getActions:function(e,i,r){var a={};for(x in i.sections){var n=i.sections[x];if(!(n.excluded||t.isNumber(n.minimumChars)&&i.search&&i.search.length<n.minimumChars)){if(r.specificSections){if(-1==t.indexOf(r.specificSections,x))continue;if(n.fetchMode!=o.dedicatedMethod)throw c.format('[jQuery.liveSearch] Impossible to retrieve a collection specifically for section "{0}" since no dedicated url or ajaxParams have been configured for it.\r\nTo solve, specify a dedicated method for this section (using url or ajaxParams option).',x)}switch(n.fetchMode){case o.none:e[x]=n.collection;continue;case o.uniqueMethod:a[s.globalMethod]||(a[s.globalMethod]={sections:[],ajaxParams:t.clone(i.ajaxParams)},c.setFilterData(i,a[s.globalMethod].ajaxParams)),a[s.globalMethod].sections.push(n),i.getAjaxPromise&&(a[s.globalMethod].getAjaxPromise=i.getAjaxPromise);break;case o.dedicatedMethod:a[x]={ajaxParams:t.clone(n.ajaxParams)},c.setFilterData(i,a[x].ajaxParams),n.getAjaxPromise?a[x].getAjaxPromise=n.getAjaxPromise:i.getAjaxPromise&&(a[x].getAjaxPromise=i.getAjaxPromise);break;default:throw"[jQuery.liveSearch] inner exception. Section has no initialized fetchMode."}}}return a},preprocessOptions:function(i){i.pendingCallsGroups={},i.pendingCalls=[],i.fetchedSearchRxByAction={},i.url&&!i.ajaxParams&&(i.ajaxParams={url:i.url}),i.url&&i.ajaxParams&&!i.ajaxParams.url&&(i.ajaxParams.url=i.url),i.ajaxParams&&(i.ajaxParams=e.extend({},n,i.ajaxParams)),t.extend(i,{invalidateSectionsCollection:function(e){var i=this;return t.isString(e)&&(e=[e]),t.each(e,function(e){i.sections.hasOwnProperty(e)&&(i.baseFetchOnInitialization&&(t.isBoolean(i.baseFetchOnInitialization)&&(i.fetchOnInitialization=!0),t.isArray(i.baseFetchOnInitialization)&&-1!=t.indexOf(i.baseFetchOnInitialization,e)&&(t.isArray(i.fetchOnInitialization)||(i.fetchOnInitialization=[]),i.fetchOnInitialization.push(e))),i.sections[e].collection=null,i.sections[e].fetchMode=i.sections[e].baseFetchMode,delete i.fetchedSearchRxByAction[e])}),c.checkIfCanSearchSynchronously(this),this},getSectionsNames:function(){var e=[];for(x in this.sections)e.push(x);return e},setSelectedItem:function(e){return this.unSelectItems(),this.displayedItems&&this.displayedItems[e]&&(this.displayedItems[e].element.addClass(a.itemSelected),this.selectedItem=e),this.displayedItems[e]},prevItem:function(){if(t.isNumber(this.selectedItem)){var e=this.selectedItem-1;if(e<0)switch(this.keyNavigationMode.toLowerCase()){case"cycleonly":e=this.displayedItems.length-1;break;case"cycleadding":var i=this.getSelectedItem(),r=i.section;r.displayedItemsCount<r.currentSelection.length&&this.methods.displayMoreItems.call(this.field,r.name,r.currentSelection.length-r.displayedItemsCount,this),e=this.displayedItems.length-1;break;default:throw"invalid keyNavigationMode option "+this.keyNavigationMode}return this.setSelectedItem(e)}return this.setSelectedItem(0)},nextItem:function(){if(t.isNumber(this.selectedItem)){var e=this.selectedItem+1;if(e>=this.displayedItems.length)switch(this.keyNavigationMode.toLowerCase()){case"cycleonly":e=0;break;case"cycleadding":var i=this.getSelectedItem(),r=i.section;r.displayedItemsCount<r.currentSelection.length&&this.methods.displayMoreItems.call(this.field,r.name,1,this);break;default:throw"invalid keyNavigationMode option "+this.keyNavigationMode}return this.setSelectedItem(e)}return this.setSelectedItem(0)},unsetSearch:function(){this.listElement.empty(),this.previousSearch=this.search,this.previousPattern=this.pattern,this.pattern=null,this.search=null},unSelectItems:function(){if(this.displayedItems){for(var e=0;e<this.displayedItems.length;e++)this.displayedItems[e].element.removeClass(a.itemSelected);this.selectedItem=null}},getSelectedItem:function(){if(this.displayedItems)return this.displayedItems[this.selectedItem]},updateLastItem:function(){this.listElement.find(c.format(".{0}",a.lastItem)).removeClass(a.lastItem),this.listElement.find(c.format(".{0}:last",a.item)).addClass(a.lastItem)},getTotalSelectionCount:function(){var e=0;for(var t in this.sections)e+=this.sections[t].currentSelection?this.sections[t].currentSelection.length:0;return e}}),this.initializeSections(i),i.methods={},t.each(t.keys(f),function(e){"init"!=e&&(i.methods[e]=f[e])}),i.initialized=!0},setFilterData:function(t,i){if(i.contentType&&-1!=i.contentType.indexOf("json")){if(!e.isPlainObject(i.data))throw"[jQuery.liveSearch] When specifying data that will be sent as JSON to the Server, please pass a plain JavaScript object (as data) to the LiveSearch function.\r\nLiveSearch will stringify it internally.";i.data.filter=t.search,i.data=JSON.stringify(i.data)}else i.data.filter=t.search},initializeSections:function(r){r.canSearchSynchronously=!0;var s={displayMoreItems:function(i,r){this.liveSearchData=i;for(var s=this.currentSelection,n=(this.displayedItemsCount,r),o=c.getHelpers(i);n&&s[this.displayedItemsCount];){var h=s[this.displayedItemsCount].obj,u=t.reject(s[this.displayedItemsCount].matches,function(e){return!e}),d=e(t.template(this.itemTemplate,e.extend({},h,o)));d.addClass(a.item),i.bindItemsOverHandlers&&c.setItemOverHandlers(d,i),i.displayedItems.push({data:h,element:d,section:this}),i.onItemCreation&&i.onItemCreation(d,h,this,u),l.onItemCreation&&l.onItemCreation(d,h,this,u),this.$container.append(d),this.displayedItemsCount++,this.onAddingItems(i),n--}},onAddingItems:function(r){if(r.updateLastItem(),this.$rowNumber&&r.showResultsXofY){var a=e(t.template(r.resultsNumberTemplate,{text:i.t(r.i18n.displayingXofYScope,{limit:this.displayedItemsCount,total:this.currentSelection.length})}));this.$rowNumber.replaceWith(a),this.$rowNumber=a}}};for(x in r.sections){var l=r.sections[x];if(e.extend(l,s),t.isBoolean(l.displayTitle)||(l.displayTitle=!0),t.isBoolean(l.displayResultsXofY)||(l.displayResultsXofY=!0),l.name=x,l.searchProperties&&(l.properties=l.searchProperties),!l.properties)throw c.format('[jQuery.liveSearch] Missing "properties" in "{0}" section definition. Properties must be an array of string names of properties to use in the search.',x);if(!l.itemTemplate)throw c.format('[jQuery.liveSearch] Missing "itemTemplate" in "{0}" section definition. itemTemplate must be an HTML Template to build with UnderscoreJs template function the list item for this section object.',x);l.title||(l.title=x),l.url&&!l.ajaxParams&&(l.ajaxParams={url:l.url}),l.url&&l.ajaxParams&&!l.ajaxParams.url&&(l.ajaxParams.url=l.url),l.ajaxParams&&(l.ajaxParams=e.extend({},n,l.ajaxParams)),l.propertiesData={};for(var h=0;h<l.properties.length;h++){var u=l.properties[h],d=new RegExp("{{\\s*"+u+"\\s*}}","g"),f="{%print(highlight("+u+"))%}";l.itemTemplate=l.itemTemplate.replace(d,f)}if(l.collection){if(l.fixed=!0,l.fetchMode=o.none,l.ajaxParams)throw c.format('[jQuery.liveSearch] An url or ajaxParams are specified for section "{0}", but also a collection is provided.\r\nIs it intended that the section should always have the same collection, or should it be retrieved from Server?\r\nRemove either the collection or url/ajaxParams property.',x)}else if(r.canSearchSynchronously=!1,l.ajaxParams)l.fetchMode=o.dedicatedMethod;else{if(!r.ajaxParams)throw c.format('[jQuery.liveSearch] There is no way to fetch data for "{0}" section.\r\nProvide either a url (or a ajaxParams option) for an ajax call to retrieve data for this section, or general url/ajaxParams option for all sections, or again a collection for this section. In the latter case, provide fixed property set to "true" if you expect to not refresh data for this section.',x);l.fetchMode=o.uniqueMethod}l.baseFetchMode=l.fetchMode}},buildList:function(e){if(e.dontDisplay)return void e.listElement.empty();var t=this.buildSections(e);t.find(this.format(".{0}:first",a.item)).addClass(a.firstItem),t.find(this.format(".{0}:last",a.item)).addClass(a.lastItem),e.onRender&&e.onRender(t,e),e.selectFirstElementAfterRender&&e.displayedItems&&e.setSelectedItem(0),e.listElement.replaceWith(t),e.listElement=t},getSelection:function(e,i){if(e.pattern)return u.searchByStringProperties({pattern:e.pattern,properties:i.properties,collection:i.collection,keepSearchDetails:!0,sortMethod:i.sortMethod});for(var r=t.clone(i.collection),a=u.sortByProperty(r,i.properties[0],"asc",i.sortMethod),s=[],n=0;n<a.length;n++)s.push({obj:a[n]});return s},getHelpers:function(r){var a=r.pattern,s={highlight:function(e){return a&&"()"!=a.source&&".+"!=a.source?e.replace(a,function(e){return'<span class="ui-livesearch-highlight">'+e+"</span>"}):e},firstMatch:function(e,t){if(!e||!e.length)return"";var s;if(a){for(var n=[],o=0,l=e.length;o<l;o++){var c=e[o],h=c[t].match(a);h&&n.push({item:c,recourrences:h.length})}n.sort(function(e,t){return e.recourrences>t.recourrences?-1:e.recourrences<t.recourrences?1:0});s=(n[0]?n[0].item:e[0])[t].toString().replace(a,function(e){return'<span class="ui-livesearch-highlight">'+e+"</span>"})}else s=e[0][t];var u=i.t(r.i18n.andOthersScope,{count:e.length-1});return u&&(s+=u),s}};if(r.templateHelpers){if(e.isPlainObject(r.templateHelpers))return e.extend(s,r.templateHelpers);if(t.isFunction(r.templateHelpers))return e.extend(s,r.templateHelpers(r))}return s},buildSections:function(t){var i=t.listElement.empty().clone(!0);t.displayedItems=[],t.selectedItem=null;var r=this.getSectionsInfo(t),a=r.selections;if(e.isEmptyObject(a))return i;for(x in t.sections)a[x]&&a[x].length&&i.append(this.buildSection(t.sections[x],r.limits[x],a[x],t));return i},buildSection:function(r,s,n,o){s>n.length&&(s=n.length),r.currentSelection=n,r.displayedItemsCount=0;var l=this.getHelpers(o),h=r.groupTemplate||o.groupTemplate;delete r.$el,delete r.$container,delete r.$rowNumber;var u=r.$el=e(t.template(h,{name:r.title})),d=r.itemTemplate,f=r.$container=u.find("."+a.container);r.displayTitle||u.find(c.format(".{0}",a.title)).remove(),r.liveSearchData=o;for(var m=0;m<s;m++){r.displayedItemsCount++;var p=o.sanitizer.sanitize(n[m].obj),v=e(t.template(d,e.extend({},p,l))),g=t.reject(n[m].matches,function(e){return!e});o.bindItemsOverHandlers&&this.setItemOverHandlers(v,o),o.displayedItems.push({data:p,element:v,section:r}),v.addClass(a.item),o.onItemCreation&&o.onItemCreation(v,p,r,g),r.onItemCreation&&r.onItemCreation(v,p,r,g),f.append(v)}if(o.showResultsXofY&&r.displayResultsXofY&&n.length>1&&s!=n.length){var y=e(t.template(o.resultsNumberTemplate,{text:i.t(o.i18n.displayingXofYScope,{limit:s,total:n.length})}));r.$rowNumber=y,u.append(y)}return r.afterBuild&&r.afterBuild(),u},setItemOverHandlers:function(t,i){t.on("mouseenter.livesearch",function(t){i.mouseOverDisabled||i.setSelectedItem(e(this).closest("."+a.list).find("."+a.item).index(this))}).on("mouseleave.livesearch",function(e){i.mouseOverDisabled||i.unSelectItems()})},bindNavigationHandlers:function(i){i.on("keydown.livesearch",function(i){var r,n=i.keyCode||i.which,o={enter:13,escape:27,left:37,up:38,right:39,down:40,tab:9,home:36,end:35},l=e.data(this,s.data).data;if(l&&l.displayedItems&&l.displayedItems.length){switch(l.mouseOverDisabled=!0,window.clearTimeout(l.mouseOverEnable),l.mouseOverEnable=window.setTimeout(t.throttle(function(){delete l.mouseOverDisabled},400,{leading:!1}),400),n){case o.enter:var c=l.getSelectedItem();c&&c.element.click();break;case o.tab:i.shiftKey?l.prevItem():l.nextItem();break;case o.escape:l.unSelectItems();break;case o.up:var h=l.prevItem();if(h){var u=h.element,d=u.closest("."+a.container);r=u.position().top+d.scrollTop()-20,r<0&&(r=0)}else{h=l.setSelectedItem(l.displayedItems.length-1);var u=h.element,d=u.closest("."+a.container);r=38==k?u.offset().top:0}t.defer(function(){h.section&&h.section.$container.trigger("mouseenter.myscroll")});break;case o.down:var h=l.nextItem();if(h){var u=h.element,d=u.closest("."+a.container);r=u.position().top+d.scrollTop()}else{h=l.setSelectedItem(0);var u=h.element,d=u.closest("."+a.container);r=38==n?d.height():0}t.defer(function(){h.section&&h.section.$container.trigger("mouseenter.myscroll")})}r>=0&&d.stop().animate({scrollTop:r},300)}})},getSectionsInfo:function(i){var r=this.getSelectionsWithInfo(i),a=r.selections;if(e.isEmptyObject(a))return a;if(r.limits={},i.itemsToDisplay){var s=i.itemsToDisplay;for(x in a)r.limits[x]=0;for(var n=[];s&&r.totalSectionsWithResults!=n.length;){var o=r.totalSectionsWithResults-n.length;if(o<=0)break;var l=Math.floor(s/o);l||(l=1);for(x in a){if(s<=0||r.totalSectionsWithResults==n.length)break;if(!t.contains(n,x)){var c=a[x].length-r.limits[x];if(c){var h=c>=l?l:c;s<h&&(h=s),r.limits[x]+=h,s-=h,r.limits[x]>=a[x].length&&n.push(x)}else n.push(x)}}}}else for(x in a)r.limits[x]=i.sections[x].limit||i.limit;return r},getSelectionsWithInfo:function(e){var i={totalSectionsWithResults:0,selections:{}};for(x in e.sections){var r=e.sections[x];if(!(r.excluded||!r.collection||t.isNumber(r.minimumChars)&&e.search&&e.search.length<r.minimumChars)){var a=this.getSelection(e,r);a.length&&(i.selections[x]=a,i.totalSectionsWithResults++)}}if(e.selectionsFilter){e.selectionsFilter(i.selections);for(x in i.selections)i.selections[x].length||(i.totalSectionsWithResults--,delete i.selections[x])}return i},getMatchPattern:function(e){if(!e)return/.+/gm;e=u.escapeCharsForRegex(e);try{return new RegExp(e,"i")}catch(e){return}},unsetSearch:function(e){e.listElement.empty(),e.previousSearch=e.search,e.previousPattern=e.pattern,e.pattern=null,e.search=null},startExecuting:function(e,t){t.addClass(a.working),e.disableFieldOnSearch&&t.addClass(a.disabled),e.trigger("searchStart"),e.onSearchStart&&e.onSearchStart(t,e)},endExecuting:function(e,t){t.removeClass(a.working),e.disableFieldOnSearch&&t.removeClass(a.disabled),e.trigger("searchEnd"),e.onSearchEnd&&e.onSearchEnd(t,e)},validateValue:function(e,i){return!(!e.allowEmptyValue&&!i.length||u.safeTest(/^[\s]+$/g,i)||t.isNumber(e.minimumChars)&&i.length<e.minimumChars)},searchCore:function(e,t){var i=t.val();if(!c.validateValue(e,i)){if(e.trigger("invalidValue",i),e.displayFullListOnInvalidValue){if(e.fullListBuilt)return;return c.eraseTimeout(s.functionExec),delete e.pattern,delete e.search,delete e.previousSearch,delete e.previousPattern,e.listElement.empty(),c.buildList(e),c.endExecuting(e,t),void(e.fullListBuilt=!0)}return c.eraseTimeout(s.functionExec),e.listElement.empty(),e.dontDisplay=!0,e.pattern&&(e.previousSearch=e.search,e.previousPattern=e.pattern),e.search=i,void delete e.pattern}if(e.trigger("validValue",i),e.fullListBuilt=!1,e.dontDisplay=!1,e.pattern&&(e.previousSearch=e.search,e.previousPattern=e.pattern),e.search=i,!(e.pattern=u.getSearchPattern(i,e)))return c.eraseTimeout(s.functionExec),void e.listElement.empty();c.lastWins(function(){c.startExecuting(e,t),c.fetchCollections(e,function(){c.buildList(e),c.endExecuting(e,t)})},s.functionExec,e.delay)}},h={getPropertyValue:function(e,t){for(var i,r=t.split("."),a=e;(i=r.shift())&&(a.hasOwnProperty(i)&&(a=a[i]),!(a instanceof Array)););return a instanceof Array&&r.length?this.getCollectionPropertiesValue(a,r.join(".")):a},getCollectionPropertiesValue:function(e,t,i){if(!t)return e;"boolean"!=typeof i&&(i=!1);for(var r=t.split("."),a=[],s=0,n=e.length;s<n;s++){var o=e[s];if(o.hasOwnProperty(r[0]))if(o instanceof Array){var l=this.getCollectionPropertiesValue(o,t);(i||l.length)&&a.push(l)}else if("object"==typeof o){var c=this.getPropertyValue(o,t);(i||this.validateValue(c))&&a.push(c)}else(i||this.validateValue(o))&&a.push(o);else i&&a.push(null)}return a},validateValue:function(e){return!!e&&(!(e instanceof Array)||!!e.length)}},u={escapeCharsForRegex:function(e){return"string"!=typeof e&&(e+=""),e.replace(/([\^\$\.\(\)\[\]\?\!\*\+\{\}\|\/\\])/g,"\\$1").replace(/\s/g,"\\s")},getSearchPattern:function(e,i){if(!e)return/.+/gim;switch(i||(i={searchMode:"splitwords"}),i.searchMode.toLowerCase()){case"fullstring":e=this.escapeCharsForRegex(e);try{return new RegExp("("+e+")","mgi")}catch(e){return}break;case"splitwords":var r=e.replace(/\s{2,}/g," ").replace(/^\s+|\s+$/g,"").split(/\s/),a=t.map(r,function(e){return"("+this.escapeCharsForRegex(e)+")"},this);try{var s=new RegExp(a.join("|"),"mgi");return s.subRxs=t.map(a,function(e){return new RegExp(e,"mgi")}),s}catch(e){return}break;case"splitsentences":var n=t.map(e.match(/"([^\"]+)"/g),function(e){return e.replace(/^"|"$/g,"")}),r=e.replace(/"([^\"]+)"/g,"").replace(/\s{2,}/g," ").replace(/^\s+|\s+$/g,"").split(/\s/),a=t.map(n?n.concat(r):r,function(e){return"("+this.escapeCharsForRegex(e)+")"},this);try{var s=new RegExp(a.join("|"),"mgi");return s.subRxs=t.map(a,function(e){return new RegExp(e,"mgi")}),s}catch(e){return}break;default:throw"[LiveSearch] invalid searchMode: "+i.searchMode}},safeTest:function(e,t){return!!t&&!!t.match(e)},searchByStringProperty:function(e){return c.requireParams(e,["pattern","collection","property"]),this.searchByStringProperties({pattern:e.pattern,collection:e.collection,properties:[e.property],keepSearchDetails:e.keepSearchDetails,sort:e.sort,limit:e.limit,sortMethod:e.sortMethod})},searchByStringProperties:function(i){c.requireParams(i,["pattern","collection","properties"]);for(var r={limit:null,sort:!0,keepSearchDetails:!1,__getResultArray:function(e){if(this.keepSearchDetails)return e;for(var t=[],i=0,r=e.length;i<r;i++)t.push(e[i].obj);return t}},a=e.extend({},r,i),s=[],n=a.pattern,o=0,l=a.collection.length;o<l;o++){for(var u=a.collection[o],d=[],f=0,m=[],p=0,v=a.properties.length;p<v;p++){var g=a.properties[p],y=h.getPropertyValue(u,g);if(y)if(y instanceof Array){if(!y.length)continue;y=t.flatten(y);for(var x,S=[],b=0,I=y.length;b<I;b++)if(t.isString(y[b])){var j=y[b].match(n);j&&(m.push(y[b]),"number"!=typeof x&&(x=b),S.push(j))}S.length&&(d[p]={matchedProperty:g,indexes:[x],recourrences:t.flatten(S).length})}else{var j=y.match(n);j&&(m.push(y),f+=j.length,d[p]={matchedProperty:g,indexes:t.map(y.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(/\s/),function(e){var t=e.search(n);return-1==t?9999:t}),recourrences:j.length})}}if(d.length){var P=!0;if(n.subRxs)var C=m.join(" "),P=!t.contains(t.map(n.subRxs,function(e){return!!C.match(e)}),!1);P&&s.push({obj:u,matches:d,totalMatches:f})}}return s.sort(function(e,r){var s;if(i.sortMethod&&(s=i.sortMethod(e.obj,r.obj)))return s;for(var n=0,o=a.properties.length;n<o;n++)if(e.matches[n]||r.matches[n]){if(e.matches[n]&&!r.matches[n])return-1;if(!e.matches[n]&&r.matches[n])return 1;var l=t.min(e.matches[n].indexes),c=t.min(r.matches[n].indexes);if(!l||!c){if(l<c)return-1;if(l>c)return 1;if(e.matches[n].indexes.indexOf(l)<r.matches[n].indexes.indexOf(c))return-1;if(e.matches[n].indexes.indexOf(l)>r.matches[n].indexes.indexOf(c))return 1}if(e.obj.hasOwnProperty(e.matches[n].matchedProperty)&&r.obj.hasOwnProperty(r.matches[n].matchedProperty)){if(e.obj[e.matches[n].matchedProperty].toLowerCase()<r.obj[r.matches[n].matchedProperty].toLowerCase())return-1;if(e.obj[e.matches[n].matchedProperty].toLowerCase()>r.obj[r.matches[n].matchedProperty].toLowerCase())return 1}if(e.matches[n].recourrences>r.matches[n].recourrences)return-1;if(e.matches[n].recourrences<r.matches[n].recourrences)return 1}return 0}),a.limit&&(a.limit>s.length&&(a.limit=s.length),s=s.slice(0,a.limit)),a.__getResultArray(s)},validateSearchEventKey:function(e){for(var t=e.keyCode?e.keyCode:e.charCode,i=[9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,91],r=0;r<i.length;r++)if(t==i[r])return!1;return!0},group:function(t,i){for(var r={groupGetter:null,groupPropertyName:"group",sortGroups:!0},a=e.extend({},r,i),s=[],n={},o=0;o<t.length;o++){var l,c=t[o];l=a.groupGetter?a.groupGetter(c):c[a.groupPropertyName],l||(l="Ungrouped"),n.hasOwnProperty(l)?s[n[l]].items.push(c):n[l]=s.push({name:l,items:[c]})-1}return a.sortGroups&&this.sortByProperty(s,"name","asc"),s},sortByProperty:function(e,t,i,r){return e.sort(function(e,a){var s;if(r&&(s=r(e,a,i)))return s;var n=e[t],o=a[t];if("string"==typeof e[t]&&"string"==typeof a[t]&&(n=n.toLowerCase(),o=o.toLowerCase()),"ascending"==i.toLowerCase()||"asc"==i.toLowerCase()){if(n<o)return-1;if(n>o)return 1}else{if(n<o)return 1;if(n>o)return-1}return 0})}},d={allowEmptyValue:!1,bindNavigationHandlers:!0,bindItemsOverHandlers:!0,unSelectOnItemMouseOver:!0,unSelectOnFieldBlur:!0,getAjaxPromise:null,onAjaxCallsStart:null,onAjaxCallsEnd:null,minimumChars:3,limit:7,delay:0,templateHelpers:null,fetchOnInitialization:!1,totalItems:12,showPreloaderInField:!0,disableFieldOnCalls:!1,disableFieldOnSearch:!1,selectFirstElementOnFocus:!0,selectFirstElementAfterRender:!0,preRenderReadySections:!0,groupTemplate:'<li class="ui-livesearch-section">\t\t\t\t\t\t\t\t\t\t\t<p class="ui-livesearch-section-title">{{name}}</p>\t\t\t\t\t\t\t\t\t\t\t<ul class="ui-livesearch-items-container"></ul>\t\t\t\t\t\t\t\t\t\t</li>',resultsNumberTemplate:'<p class="ui-livesearch-results-number">\t\t\t\t\t\t\t\t\t\t\t        <span>{# text #}</span>\t\t\t\t\t\t\t\t\t\t        </p>',sanitizer:new l,i18n:{andOthersScope:"commonAndOthers",displayingXofYScope:"displayingXofY"},showResultsXofY:!0,searchMode:"SplitSentences",keyNavigationMode:"CycleOnly"},f={init:function(i){if(this.length>1)throw"[jQuery.liveSearch] Call liveSearch using a selection of a single input element as search field.";i.field=this,c.requireParams(i,["sections","listElement"]);var n;if(i.initialized?n=i:(c.preprocessOptions(i),n=e.extend(!0,{},d,i),e.extend(n,r.Events)),n.listElement=e(n.listElement).addClass("ui-livesearch-list"),n.fetchOnInitialization){n.baseFetchOnInitialization=n.fetchOnInitialization;var o={};if(n.fetchOnInitialization instanceof Array){o.specificSections=n.fetchOnInitialization;for(x in n.sections)-1!=t.indexOf(o.specificSections,x)&&(n.sections[x].fixed=!0)}else for(x in n.sections)n.sections[x].fixed=!0;c.startExecuting(n,this);var l=this;n.fetchOnInitialization=!1,c.fetchCollections(n,function(){(l.val()||n.displayFullListOnInvalidValue||n.allowEmptyValue)&&l.liveSearch("trigger"),c.endExecuting(n,l)},o)}return this.each(function(){var i=this.tagName.toLowerCase();if("input"==i||"textarea"==i){e.data(this,s.data,{data:n});var r=e(this);n.field=r,r.hasClass(a.searcher)||r.addClass(a.searcher),n.bindNavigationHandlers&&c.bindNavigationHandlers(r),r.on("keydown.livesearch",function(e){if(r.hasClass(a.disabled))return!1}),r.on("keyup.livesearch",function(e){u.validateSearchEventKey(e)&&c.searchCore(n,r)}),r.on("paste.livesearch",function(){t.delay(function(){c.searchCore(n,r)},50)}),n.selectFirstElementOnFocus&&r.on("focus.livesearch",function(t){var i=e.data(this,s.data).data;i.displayedItems&&i.setSelectedItem(0)}),n.unSelectOnFieldBlur&&r.on("blur.livesearch",function(t){e.data(this,s.data).data.unSelectItems()})}}),this},logData:function(){this.each(function(){var t=e.data(this,s.data);t&&console.log(t.data)})},data:function(){var t=null;return this.each(function(){var i=e.data(this,s.data);i&&(t=i.data)}),t},excludeSections:function(e,t){f.setSectionExcluded.apply(this,[!0,e,t])},includeSections:function(e,t){f.setSectionExcluded.apply(this,[!1,e,t])},setSectionExcluded:function(t,i,r){if("boolean"!=typeof t)throw"[jQuery.liveSearch] arguments[0] must be of type boolean.";if(!i)return this;var a={unsetSearch:!1};return r=e.extend(a,r||{}),this.each(function(){var a=e.data(this,s.data),n=e(this);if(a){a=a.data,"boolean"==typeof i&&(i=a.getSectionsNames());for(var o=0;o<i.length;o++)a.sections[i[o]]&&(a.sections[i[o]].excluded=t);if(r.unsetSearch)n.val(""),c.unsetSearch(a);else{if(!c.validateValue(a,n.val()))return c.eraseTimeout(s.functionExec),void a.listElement.empty();c.startExecuting(a,n),c.fetchCollections(a,function(){c.buildList(a),c.endExecuting(a,n)})}}}),this},showSection:function(t,i){if(!t)return this;var r={autoOpen:!1,unsetSearch:!1};return i=e.extend(r,i||{}),this.each(function(){var r=e.data(this,s.data).data,a=e(this);if(r&&r.sections[t]){for(x in r.sections)x!=t?r.sections[x].excluded=!0:r.sections[x].excluded=!1;i.autoOpen&&(c.startExecuting(r,a),c.fetchCollections(r,function(){i.unsetSearch&&r.pattern&&(a.val(""),c.unsetSearch(r)),r.dontDisplay=!1,c.buildList(r),c.endExecuting(r,a)}))}}),this},displayMoreItems:function(t,i,r){return this.each(function(){var r=e.data(this,s.data);if(r){r=r.data;var a=r.sections[t];a&&a.displayMoreItems(r,i)}}),this},setCollection:function(t,i){return this.each(function(){var r=e.data(this,s.data);if(r){r=r.data;var a=r.sections[t];a&&(a.collection=i)}}),this},trigger:function(){return this.each(function(){var t=e.data(this,s.data);t&&c.searchCore(t.data,e(this))}),this}};e.fn.liveSearch=function(t){return this.length?f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error(c.format('Method "{0}" does not exist on jQuery.liveSearch.',t)):f.init.apply(this,arguments):u[t]?u[t].apply(u,Array.prototype.slice.call(arguments,1)):this}}(jQuery,_,I18n,Backbone);
(function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,r,l,h;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),l=t.childNodes,h=[],i=0,r=l.length;i<r;i++)s=l[i],h.push(this.add_option(s,e,t.disabled));return h},t.prototype.get_template_data=function(t){var e,s,i,r,l,h,n,a,o;r={},o=t.attributes;for(i in o)if(l=o[i],"string"==typeof l.nodeName&&(e=l.nodeName.split("-"),"data"===e[0]&&(e=e.slice(1)))){for(s=n=0,a=e.length;n<a;s=++n)h=e[s],0!==s&&(e[s]=h.charAt(0).toUpperCase()+h.slice(1));r[e.join("")]=l.nodeValue}return r},t.prototype.escape=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.prototype.add_option=function(t,e,s){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:this.escape(t.text),html:t.innerHTML,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText,template_data:this.get_template_data(t)})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}(),t.select_to_array=function(e){var s,i,r,l,h;for(i=new t,h=e.childNodes,r=0,l=h.length;r<l;r++)s=h[r],i.add_node(s);return i.parsed},this.SelectParser=t}).call(this),function(){var t,e;e=this,t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.max_results=this.options.max_results||0,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.always_visible_item=this.options.always_visible_item||"",this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_limited=this.options.results_limited_text||I18n.t("displayingXofY",{limit:"{count}",total:"{all}"}),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.result_add_option=function(t,e){var s,i;if(t.disabled)return null;t.dom_id=this.container_id+"_o_"+t.array_index,s=t.selected&&this.is_multiple?[]:[e?"":"active-result"],t.selected&&(this.search_field.attr("aria-activedescendant",t.dom_id),s.push("result-selected")),t.template_data.secondaryAccountAmount&&s.push("vat-account"),null!=t.group_array_index&&s.push("group-option"),""!==t.classes&&s.push(t.classes),""!==t.style.cssText?' style="'+t.style+'"':"",i=this.useTemplate(t);var r=$(document.createElement("li"));return r.attr("id",t.dom_id),t.style&&r.attr("style",t.style),r.addClass(s.join(" ")),r.attr("role","option"),r.attr("aria-label",i.replace(/(<\/?[a-z]*>)/g,"")),r.text(i),r.get(0)},t.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=Math.floor(Math.random()*t.length),t.substring(e,e+1)},t.prototype.useTemplate=function(t,e){return null==e&&(e=!1),this.options.template?(e=e||t.text,this.options.template(e,t.value,t.template_data)):function(t,e,s){if(""!==s.boldText&&(t=t.replace(s.boldText,"<strong>"+s.boldText+"</strong><br/>")),s.secondaryAccountAmount&&"true"===s.useSecondaryAccount){var i='<span class="vat-account-row">'+s.secondaryAccountAmount+"</span>";void 0!==s.secondaryAccountBoldText&&""!==s.secondaryAccountBoldText&&(i=i.replace(s.secondaryAccountBoldText,"<strong>"+s.secondaryAccountBoldText+"</strong>")),t+=i}return t}(e||t.text,t.value,t.template_data)},t}(),e.AbstractChosen=t}.call(this),function(){var t,e,s,i,r=Object.prototype.hasOwnProperty,l=function(t,e){function s(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(s){return t.browser.msie&&("6.0"===t.browser.version||"7.0"===t.browser.version&&7===document.documentMode)?this:this.each(function(i){var r;if(r=t(this),!r.hasClass("chzn-done"))return r.data("chosen",new e(this,s))})}}),e=function(e){function r(){r.__super__.constructor.apply(this,arguments)}return l(r,e),r.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},r.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},r.prototype.set_up_html=function(){var e,i,r,l,h=["chzn-container"],n=this.options.sSelectCompatibile,a=this.options.disable_search,o=this.form_field_jq;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",h.push("chzn-container-"+(this.is_multiple?"multi":"single")),n&&(this.form_field.id.length&&h.push(this.form_field.id),h.push("newListSelected")),this.inherit_select_classes&&this.form_field.className&&h.push(this.form_field.className);var c,d=function(){return void 0===c&&(c=o.outerWidth()),c};if(e=t(document.createElement("div")).attr({id:this.container_id,class:h.join(" "),style:n?"":"width: "+d()+"px;",title:this.form_field.title}),this.is_multiple)e.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>');else{var u=function(e,s){var i=document.createDocumentFragment(),r=t(document.createElement("a")).attr("href","javascript:void(0)").addClass("chzn-single chzn-default"+(n?" selectedTxt":"")),l=t(document.createElement("span")).html(s.default_text);r.append(l),i.appendChild(r.get(0));var h=t(document.createElement("div")).attr({style:"left:-9000px;"}).addClass("chzn-drop"),a="c"+(new Date).getTime(),c=o.attr("aria-label");c||(c=o.attr("placeholder"));var _=t("<div/>",{id:a+"_results",class:"chzn-search"}),d=t(document.createElement("input")).attr({type:"text",autocomplete:"off",tabindex:"-1",role:"combobox","aria-autocomplete":"list","aria-expanded":"true","aria-owns":a+"_results","aria-label":c}),u=t(document.createElement("div")).addClass("scroll-pane"),p=t(document.createElement("ul")).addClass("chzn-results").attr("aria-label",c).attr("role","listbox"),f=t(document.createElement("label")).attr("for",a).css({display:"none"});return _.append(f),_.append(d.attr("id",a)),u.append(p),h.append(_),h.append(u),i.appendChild(h.get(0)),e.empty().get(0).appendChild(i),{chznDrop:h,chznSearchInput:d,chznResults:p,scrollPane:u}}(e,this);this.dropdown=u.chznDrop,this.search_field=u.chznSearchInput,this.search_results=u.chznResults,this.scrollPane=u.scrollPane}if(e.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),o.hide(),o.after(e),this.container=e,i=e.height(),n||(r=d()-s(this.dropdown)),this.dropdown.css({width:n?"":r+"px",top:i+"px"}),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple)this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first();else{this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),n||(l=r-s(this.search_container)-s(this.search_field)),this.search_field.css({width:n?"100%":l+"px"});var p=this;this.search_field.on("focus",function(){var e=t(this),s=e.closest(".chzn-drop");e.attr({style:"width:"+(p.container.outerWidth()-27)+"px !important;"+(e.attr("style")||"").replace(/width:[^;]+;/,"")}),s.attr({style:"width:"+(p.container.outerWidth()-2)+"px !important;"+(s.attr("style")||"")})})}this.results_build(),this.set_tab_index(),a&&this.search_field.attr("readonly","readonly");var f=this.form_field_jq;return this.max_results&&this.max_results>0||function(t){var e=t.scrollPane,s=t.search_results,i=o,r=parseInt(i.attr("scrollpane-height")||259,10);e.on("jsp-initialised",function(t,i){var l=s.height(),h=r>l?l:r;e.height(h),e.children(".jspContainer").height(h)}),e.jScrollPane({showArrows:!1,hideFocus:!1,autoReinitialise:!1,verticalDragMaxHeight:"68",horizontalGutter:0,enableKeyboardNavigation:!1});var l=e.data("jsp"),h=_.debounce(function(t){l.reinitialise()},60);f.on("liszt:activate liszt:hiding_dropdown liszt:maxselected liszt:maxselected liszt:open liszt:ready liszt:scale",function(t){h(t)}),f.on("liszt:updated liszt:showing_dropdown liszt:options_builded",function(t){l.reinitialise(),h(t)})}(this),this.form_field_jq.trigger("liszt:ready",{chosen:this})},r.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){setTimeout(function(){return t.container_mousedown(e)},100)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){return t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){return t.container_mousedown(e)}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.is_multiple?(this.search_choices.click(function(e){return t.choices_click(e)}),this.search_field.focus(function(e){return t.input_focus(e)})):this.container.click(function(t){return t.preventDefault()})},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},r.prototype.container_mousedown=function(e){var s;if(!this.is_disabled)return s=null!=e&&t(e.target).hasClass("search-choice-close"),e&&"mousedown"===e.type&&!this.results_showing&&e.stopPropagation(),this.pending_destroy_click||s?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},r.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},r.prototype.set_activedescendant_on_close=function(){if(null!=this.result_single_selected){var t=this.result_single_selected.attr("id");this.search_field.attr("aria-activedescendant",t)}else this.search_field.removeAttr("aria-activedescendant")},r.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.is_multiple||this.selected_item.removeAttr("tabindex"),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.set_activedescendant_on_close(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.is_multiple||this.active_field||this.selected_item.attr("tabindex",-1),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){var e,s,r,l,h,n;this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e=document.createDocumentFragment(),n=this.results_data;var a,o=0,c=this.max_results?this.max_results:1/0;for(l=0,h=n.length;l<h;l++)s=n[l],s.group?(a=this.result_add_group(s))&&e.appendChild(a):s.empty||(a=this.result_add_option(s,o++>c),a&&e.appendChild(a),s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&(this.result_single_selected=t(a),r=this.useTemplate(s),this.selected_item.removeClass("chzn-default").find("span").html(r),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.empty(),this.search_results.get(0).appendChild(e),this.parsing=!1},r.prototype.result_add_group=function(e){if(e.disabled)return null;e.dom_id=this.container_id+"_g_"+e.array_index;var s=t(document.createElement("li"));return s.attr("id",e.dom_id),s.addClass("group-result"),s.text(e.label),s.get(0)},r.prototype.result_do_highlight=function(t){var e,s,i,r,l;if(t.length){this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),this.search_field.attr("aria-activedescendant",this.result_highlight.attr("id")),i=parseInt(this.search_results.css("maxHeight"),10),l=this.search_results.scrollTop(),r=i+l,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight();var h=this.search_results.closest(".scroll-pane");if(h.length){var n=h.data("jsp");if(!n)return;return i=h.height(),l=n.getContentPositionY(),r=i+l,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight(),e>=r?n.scrollToY(e-i>0?e-i:0):s<l&&n.scrollToY(s),h}if(e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<l)return this.search_results.scrollTop(s)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){var t;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return t=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:t+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},r.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},r.prototype.set_tab_index=function(t){var e;if(this.form_field_jq.attr("tabindex"))return e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",e):(this.selected_item.attr("tabindex",e),this.search_field.attr("tabindex",-1))},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s.length)return this.result_highlight=s,this.result_select(e)},r.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(s)},r.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},r.prototype.choices_click=function(e){if(e.preventDefault(),this.active_field&&!t(e.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},r.prototype.choice_build=function(e){var s,i,r,l=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(s=this.container_id+"_c_"+e.array_index,this.choices+=1,i=this.useTemplate(e),i=e.disabled?'<li class="search-choice search-choice-disabled" id="'+s+'"><span>'+i+"</span></li>":'<li class="search-choice" id="'+s+'"><span>'+i+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(i),r=t("#"+s).find("a").first(),r.click(function(t){return l.choice_destroy_link_click(t)}))},r.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},r.prototype.choice_destroy=function(t){if(this.result_deselect(t.attr("rel")))return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove()},r.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},r.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},r.prototype.result_select=function(t){var e,s,i,r,l;if(this.result_highlight)return e=this.result_highlight,s=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),l=s.substr(s.lastIndexOf("_")+1),r=this.results_data[l],r.selected=!0,this.form_field.options[r.options_index].selected=!0,this.is_multiple?this.choice_build(r):(i=this.useTemplate(r),this.selected_item.find("span").first().html(i),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[r.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()},r.prototype.result_activate=function(t){return t.addClass("active-result")},r.prototype.result_deactivate=function(t){return t.removeClass("active-result")},r.prototype.result_deselect=function(e){var s,i;return i=this.results_data[e],!this.form_field.options[i.options_index].disabled&&(i.selected=!1,this.form_field.options[i.options_index].selected=!1,s=t("#"+this.container_id+"_o_"+e),s.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')},r.prototype.winnow_results=function(){var e,s,i,r,l,h,n,a,o,c,_,d,u,p,f,m,g,v,y;this.no_results_clear(),c=0,_=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),n=this.search_contains?"":"^",h=new RegExp(n+_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data;var b=this.max_results?this.max_results:1/0,w=0,x=null,k=null,C=!!this.always_visible_item;for(f=0,g=y.length;f<g;f++)if(i=y[f],C&&this.always_visible_item===i.value&&(k=i),!i.disabled&&!i.empty)if(i.group)t("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(e=!1,o=i.dom_id,a=t("#"+o),h.test(i.html))e=!0,c+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(l=i.html.replace(/\[|\]/g,"").split(" "),l.length))for(m=0,v=l.length;m<v;m++)r=l[m],h.test(r)&&(e=!0,c+=1);e?(_.length?(d=i.html.search(p),u=i.html.substr(0,d+_.length)+"</em>"+i.html.substr(d+_.length),u=u.substr(0,d)+"<em>"+u.substr(d),s=this.useTemplate(i,u)):s=this.useTemplate(i),a.html(s),w++<b?(this.result_activate(a),x=a):this.result_deactivate(a),null!=i.group_array_index&&t("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&o===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return w>b&&(k&&(x&&this.result_deactivate(x),this.result_activate(t("#"+k.dom_id))),this.limited_items(b,w)),c<1&&_.length?this.no_results(_):this.winnow_results_set_highlight()},r.prototype.winnow_results_clear=function(){var e,s,i,r,l;this.search_field.val(""),s=this.search_results.find("li"),l=[];var h=this.max_results?this.max_results:1/0,n=0;for(i=0,r=s.length;i<r;i++)e=s[i],e=t(e),e.hasClass("group-result")?l.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?l.push(void 0):n++<h?l.push(this.result_activate(e)):l.push(this.result_deactivate(e));return l},r.prototype.winnow_results_set_highlight=function(){var t,e;if(!this.result_highlight&&(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(t=e.length?e.first():this.search_results.find(".active-result").first())))return this.result_do_highlight(t)},r.prototype.no_results=function(e){var s;return s=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),s.find("span").first().html(e),this.search_results.append(s)},r.prototype.limited_items=function(e,s){var i;return i=t('<li class="no-results">'+this.results_limited.replace("{count}",e).replace("{all}",s)+"</li>"),this.search_results.append(i)},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var e,s;if(this.result_highlight?this.results_showing&&(s=this.result_highlight.nextAll("li.active-result").first())&&this.result_do_highlight(s):(e=this.search_results.find("li.active-result").first())&&this.result_do_highlight(t(e)),!this.results_showing)return this.results_show()},r.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},r.prototype.rescaleList=function(){this.form_field_jq.trigger("liszt:scale")},r.prototype.rescaleListDebounced=function(){this.debouncedRescaleListCached||(this.debouncedRescaleListCached=_.debounce(this.rescaleList,50)),this.debouncedRescaleListCached()},r.prototype.search_field_scale=function(){var e,s,i,r,l,h,n,a;if(this.is_multiple){for(0,h=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",l=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],n=0,a=l.length;n<a;n++)i=l[n],r+=i+":"+this.search_field.css(i)+";";return s=t("<div />",{style:r}),s.text(this.search_field.val()),t("body").append(s),h=s.width()+25,s.remove(),h>this.f_width-10&&(h=this.f_width-10),this.search_field.css({width:h+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}this.rescaleListDebounced()},r.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},r}(AbstractChosen),s=function(t){return t.outerWidth()-t.width()},i.get_side_border_padding=s}.call(this);
jQuery&&function(t){var e={scroller:"ui-myscroll-scroller",wrapper:"ui-myscroll-wrapper",rail:"ui-myscroll-rail",bar:"ui-myscroll-bar"},i={data:"ui-myscroll-data"},o={format:function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/{(\d+)}/g,function(t,i){return void 0!==e[i]?e[i]:t})},html:{div:"<div></div>"},initElmStyle:function(t,e){t.css({overflow:"hidden",width:e.width,height:e.height})},getRail:function(i){return i.$rail=t(this.html.div).addClass(e.rail).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.size,background:i.railColor,opacity:i.railOpacity,zIndex:90})},getWrapper:function(i){return i.$wrapper=t(this.html.div).addClass(e.wrapper).css({position:"relative",overflow:"hidden",width:i.width,height:i.height})},getScrollBar:function(i){return i.$bar=t(this.html.div).addClass(e.bar).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.size,BorderRadius:i.size,MozBorderRadius:i.size,WebkitBorderRadius:i.size,zIndex:99})}},r={wheelStep:20,width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:"0.2",allowPageScroll:!1,scroll:0,touchScrollStep:200,endApproachTolerance:0},a={init:function(e){var a=t.extend({},r,e);return this.each(function(){function e(e,i,o){var r=e,c=s.outerHeight()-S.outerHeight();if(i&&(r=parseInt(S.css("top"))+e*parseInt(a.wheelStep)/100*S.outerHeight(),r=Math.min(Math.max(r,0),c),S.css({top:r+"px"})),g=parseInt(S.css("top"))/(s.outerHeight()-S.outerHeight()),r=g*(s[0].scrollHeight-s.outerHeight()),o){r=e;var h=r/s[0].scrollHeight*s.outerHeight();h=Math.min(Math.max(h,0),c),S.css({top:h+"px"})}if(s.scrollTop(r),a.onScrollEndApproaching){var u=s.scrollTop();if(u>=m){var p=0;s.children().each(function(){p+=t(this).height()});var d=s.height();u>=p-d-a.endApproachTolerance&&a.onScrollEndApproaching(s),m=u}}l(),n()}function r(){f=Math.max(s.outerHeight()/s[0].scrollHeight*s.outerHeight(),y),S.css({height:f+"px"})}function l(){if(r(),clearTimeout(p),g==~~g&&(w=a.allowPageScroll,v!=g)){var t=0==~~g?"top":"bottom";s.trigger("slimscroll",t)}if(v=g,f>=s.outerHeight())return void(w=!0);S.stop(!0,!0).fadeIn("fast"),a.railVisible&&H.stop(!0,!0).fadeIn("fast")}function n(){a.alwaysVisible||(p=setTimeout(function(){a.disableFadeOut&&c||h||u||(S.fadeOut("slow"),H.fadeOut("slow"))},1e3))}var s=t(this);if(!t.data(this,i.data)){t.data(this,i.data,a);var c,h,u,p,d,f,g,v,m=0,y=30,w=!1;a.height="auto"==a.height?me.parent().innerHeight():a.height;var b=o.getWrapper(a);o.initElmStyle(s,a);var H=o.getRail(a),S=o.getScrollBar(a),x="right"==a.position?{right:a.distance}:{left:a.distance};H.css(x),S.css(x),s.wrap(b),s.parent().append(S),s.parent().append(H),H.hover(l,n),S.draggable({axis:"y",containment:"parent",start:function(){u=!0},stop:function(){u=!1,n()},drag:function(i){e(0,t(this).position().top,!1)}}),S.hover(function(){h=!0},function(){h=!1}),s.on("mouseenter.myscroll",function(){c=!0,l(),n()}).on("mouseleave.myscroll",function(){c=!1,n()}),s.on("touchstart.myscroll",function(t,e){t.originalEvent.touches.length&&(d=t.originalEvent.touches[0].pageY)}),s.on("touchmove.myscroll",function(t){if(t.originalEvent.preventDefault(),t.originalEvent.touches.length){e((d-t.originalEvent.touches[0].pageY)/a.touchScrollStep,!0)}});var E=function(t){if(c){var t=t||window.event,i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(i,!0),t.preventDefault&&!w&&t.preventDefault(),w||(t.returnValue=!1)}};!function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",E,!1),this.addEventListener("mousewheel",E,!1)):document.attachEvent("onmousewheel",E)}(),r(),"bottom"==a.start?(S.css({top:s.outerHeight()-S.outerHeight()}),e(0,!0)):"object"==typeof a.start&&(e(t(a.start).position().top,null,!0),a.alwaysVisible||S.hide())}}),this},destroy:function(){return this.each(function(){t.data(this,i.data,void 0),t(this).off("mouseenter.myscroll").off("mouseleave.myscroll").off("touchstart.myscroll").off("touchmove.myscroll")}),this}};t.fn.myscroll=function(e){return this.length?a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error(o.format('Method "{0}" does not exist on jQuery.myscroll.',e)):a.init.apply(this,arguments):this}}(jQuery);
!function(e){e.fn.extend({getSetSSValue:function(t){return t?(e(this).val(t),e(this).trigger("liszt:updated"),this):e(this).find(":selected").val()},resetSS:function(){e(this).trigger("liszt:updated")}}),e("html").addClass("stylish-select"),e.fn.sSelect=function(t){t=t||{};var s={placeholder_text:t.defaultText||t.placeholder_text||"Wybierz",no_results_text:t.no_results_text||"Brak wynikw wyszukiwania",sSelectCompatibile:!0,disable_search:!0};return this.chosen(e.extend({},s,t))},e.browser.mobile&&Modernizr.touch&&(e.fn.chosen=function(e){return this})}(jQuery);
!function(e){function n(e){return e=e.toUpperCase(),e=e.substr(4)+e.substr(0,4),e.split("").map(function(e){var n=e.charCodeAt(0);return n>=A&&n<=c?n-A+10:e}).join("")}function t(e){for(var n,t=e;t.length>2;)n=t.slice(0,9),t=parseInt(n,10)%97+t.slice(n.length);return parseInt(t,10)%97}function F(e){var n=e.match(/(.{3})/g).map(function(e){var n,t=e.slice(0,1),F=parseInt(e.slice(1),10);switch(t){case"A":n="0-9A-Za-z";break;case"B":n="0-9A-Z";break;case"C":n="A-Za-z";break;case"F":n="0-9";break;case"L":n="a-z";break;case"U":n="A-Z";break;case"W":n="0-9a-z"}return"(["+n+"]{"+F+"})"});return new RegExp("^"+n.join("")+"$")}function r(e,n,t,F){this.countryCode=e,this.length=n,this.structure=t,this.example=F}function i(e){w[e.countryCode]=e}function o(e){return"string"==typeof e||e instanceof String}Array.prototype.map||(Array.prototype.map=function(e){"use stapp";if(void 0===this||null===this)throw new TypeError;var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var F=new Array(t),r=arguments.length>=2?arguments[1]:void 0,i=0;i<t;i++)i in n&&(F[i]=e.call(r,n[i],i,n));return F});var A="A".charCodeAt(0),c="Z".charCodeAt(0);r.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=F(this.structure))},r.prototype.isValid=function(e){return this.length==e.length&&this.countryCode===e.slice(0,2)&&this._regex().test(e.slice(4))&&1==t(n(e))},r.prototype.toBBAN=function(e,n){return this._regex().exec(e.slice(4)).slice(1).join(n)},r.prototype.fromBBAN=function(e){if(!this.isValidBBAN(e))throw new Error("Invalid BBAN");var F=t(n(this.countryCode+"00"+e)),r=("0"+(98-F)).slice(-2);return this.countryCode+r+e},r.prototype.isValidBBAN=function(e){return this.length-4==e.length&&this._regex().test(e)};var w={};i(new r("AD",24,"F04F04A12","AD1200012030200359100100")),i(new r("AE",23,"F03F16","AE070331234567890123456")),i(new r("AL",28,"F08A16","AL47212110090000000235698741")),i(new r("AT",20,"F05F11","AT611904300234573201")),i(new r("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),i(new r("BA",20,"F03F03F08F02","BA391290079401028494")),i(new r("BE",16,"F03F07F02","BE68539007547034")),i(new r("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),i(new r("BH",22,"U04A14","BH67BMAG00001299123456")),i(new r("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),i(new r("CH",21,"F05A12","CH9300762011623852957")),i(new r("CR",21,"F03F14","CR0515202001026284066")),i(new r("CY",28,"F03F05A16","CY17002001280000001200527600")),i(new r("CZ",24,"F04F06F10","CZ6508000000192000145399")),i(new r("DE",22,"F08F10","DE89370400440532013000")),i(new r("DK",18,"F04F09F01","DK5000400440116243")),i(new r("DO",28,"U04F20","DO28BAGR00000001212453611324")),i(new r("EE",20,"F02F02F11F01","EE382200221020145685")),i(new r("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),i(new r("FI",18,"F06F07F01","FI2112345600000785")),i(new r("FO",18,"F04F09F01","FO6264600001631634")),i(new r("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),i(new r("GB",22,"U04F06F08","GB29NWBK60161331926819")),i(new r("GE",22,"U02F16","GE29NB0000000101904917")),i(new r("GI",23,"U04A15","GI75NWBK000000007099453")),i(new r("GL",18,"F04F09F01","GL8964710001000206")),i(new r("GR",27,"F03F04A16","GR1601101250000000012300695")),i(new r("GT",28,"A04A20","GT82TRAJ01020000001210029690")),i(new r("HR",21,"F07F10","HR1210010051863000160")),i(new r("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),i(new r("IE",22,"U04F06F08","IE29AIBK93115212345678")),i(new r("IL",23,"F03F03F13","IL620108000000099999999")),i(new r("IS",26,"F04F02F06F10","IS140159260076545510730339")),i(new r("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),i(new r("KW",30,"U04A22","KW81CBKU0000000000001234560101")),i(new r("KZ",20,"F03A13","KZ86125KZT5004100100")),i(new r("LB",28,"F04A20","LB62099900000001001901229114")),i(new r("LI",21,"F05A12","LI21088100002324013AA")),i(new r("LT",20,"F05F11","LT121000011101001000")),i(new r("LU",20,"F03A13","LU280019400644750000")),i(new r("LV",21,"U04A13","LV80BANK0000435195001")),i(new r("MC",27,"F05F05A11F02","MC5811222000010123456789030")),i(new r("MD",24,"U02F18","MD24AG000225100013104168")),i(new r("ME",22,"F03F13F02","ME25505000012345678951")),i(new r("MK",19,"F03A10F02","MK07250120000058984")),i(new r("MR",27,"F05F05F11F02","MR1300020001010000123456753")),i(new r("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),i(new r("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),i(new r("NL",18,"U04F10","NL91ABNA0417164300")),i(new r("NO",15,"F04F06F01","NO9386011117947")),i(new r("PK",24,"U04A16","PK36SCBL0000001123456702")),i(new r("PL",28,"F08F16","PL61109010140000071219812874")),i(new r("PS",29,"U04A21","PS92PALS000000000400123456702")),i(new r("PT",25,"F04F04F11F02","PT50000201231234567890154")),i(new r("RO",24,"U04A16","RO49AAAA1B31007593840000")),i(new r("RS",22,"F03F13F02","RS35260005601001611379")),i(new r("SA",24,"F02A18","SA0380000000608010167519")),i(new r("SE",24,"F03F16F01","SE4550000000058398257466")),i(new r("SI",19,"F05F08F02","SI56263300012039086")),i(new r("SK",24,"F04F06F10","SK3112000000198742637541")),i(new r("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),i(new r("TN",24,"F02F03F13F02","TN5910006035183598478831")),i(new r("TR",26,"F05A01A16","TR330006100519786457841326")),i(new r("VG",24,"U04F16","VG96VPVG0000012345678901"));e.isValid=function(e){if(!o(e))return!1;e=this.electronicFormat(e);var n=w[e.slice(0,2)];return!!n&&n.isValid(e)},e.toBBAN=function(e,n){void 0===n&&(n=" "),e=this.electronicFormat(e);var t=w[e.slice(0,2)];if(!t)throw new Error("No country with code "+e.slice(0,2));return t.toBBAN(e,n)},e.fromBBAN=function(e,n){var t=w[e];if(!t)throw new Error("No country with code "+e);return t.fromBBAN(this.electronicFormat(n))},e.isValidBBAN=function(e,n){if(!o(n))return!1;var t=w[e];return t&&t.isValidBBAN(this.electronicFormat(n))},e.printFormat=function(e,n){return void 0===n&&(n=" "),this.electronicFormat(e).replace(/(.{4})(?!$)/g,"$1"+n)},e.electronicFormat=function(e){return e.replace(/[^a-zA-Z0-9]/g,"").toUpperCase()},e.countries=w}("undefined"==typeof exports?this.IBAN={}:exports);
!function(){var t=Backbone.Form,e=t.editors;e.List=e.Base.extend({events:{'click [data-action="add"]':function(t){t.preventDefault(),this.addItem(null,!0)}},initialize:function(t){e.Base.prototype.initialize.call(this,t);var i=this.schema;if(!i)throw"Missing required option 'schema'";this.schema=_.extend({listTemplate:"list",listItemTemplate:"listItem"},i),this.Editor=function(){var t=i.itemType;return t?e.List[t]?e.List[t]:e[t]:e.Text}(),this.items=[]},render:function(){var e=this,i=this.value||[],s=$(t.templates[this.schema.listTemplate]({items:'<b class="bbf-tmp"></b>'}));return this.$list=s.find(".bbf-tmp").parent().empty(),i.length?_.each(i,function(t,i){e.addItem(t)}):this.Editor.isAsync||this.addItem(),this.setElement(s),this.$el.attr("id",this.id),this.$el.attr("name",this.key),this.hasFocus&&this.trigger("blur",this),this},addItem:function(t,i){var s=this,t=this.value||[],r=new e.List.Item({list:this,schema:this.schema,value:t,Editor:this.Editor,key:this.key,index:this.items.length+1}).render(),n=function(){s.items.push(r),s.$list.append(r.el),r.el.focus(),r.editor.on("all",function(t){"change"!=t&&(args=_.toArray(arguments),args[0]="item:"+t,args.splice(1,0,s),e.List.prototype.trigger.apply(this,args))},s),r.editor.on("change",function(){r.addEventTriggered||(r.addEventTriggered=!0,this.trigger("add",this,r.editor)),this.trigger("item:change",this,r.editor),this.trigger("change",this)},s),r.editor.on("focus",function(){this.hasFocus},s),r.editor.on("blur",function(){if(this.hasFocus){var t=this;setTimeout(function(){_.find(t.items,function(t){return t.editor.hasFocus})},0)}},s),(i||t)&&(r.addEventTriggered=!0),i&&(s.trigger("add",s,r.editor),s.trigger("change",s))};return this.Editor.isAsync?r.editor.on("readyToAdd",n,this):n(),r},removeItem:function(t){var e=this.schema.confirmDelete;if(!e||confirm(e)){var i=_.indexOf(this.items,t);this.items[i].remove(),this.items.splice(i,1),t.addEventTriggered&&(this.trigger("remove",this,t.editor),this.trigger("change",this)),this.items.length||this.Editor.isAsync||this.addItem()}},getValue:function(){var t=_.map(this.items,function(t){return t.getValue()});return _.without(t,void 0,"")},setValue:function(t){this.value=t,this.render()},focus:function(){this.hasFocus||this.items[0]&&this.items[0].editor.focus()},blur:function(){this.hasFocus&&(focusedItem=_.find(this.items,function(t){return t.editor.hasFocus}),focusedItem&&focusedItem.editor.blur())},remove:function(){_.invoke(this.items,"remove"),e.Base.prototype.remove.call(this)},validate:function(){if(!this.validators)return null;var t=_.map(this.items,function(t){return t.validate()});return _.compact(t).length?{type:"list",message:"Some of the items in the list failed validation",errors:t}:null}}),e.List.Item=Backbone.View.extend({events:{'click [data-action="remove"]':function(t){t.preventDefault(),this.list.removeItem(this)},"keydown input[type=text]":function(t){13==t.keyCode&&(t.preventDefault(),this.list.addItem(),this.list.$list.find("> li:last input").focus())}},initialize:function(t){this.list=t.list,this.schema=t.schema||this.list.schema,this.value=t.value,this.Editor=t.Editor||e.Text,this.key=t.key,this.index=t.index},render:function(){this.editor=new this.Editor({key:this.key,schema:this.schema,value:this.value,list:this.list,item:this,index:this.index}).render();var e=$(t.templates[this.schema.listItemTemplate]({editor:'<b class="bbf-tmp"></b>'}));return e.find(".bbf-tmp").replaceWith(this.editor.el),this.setElement(e),this},getValue:function(){return this.editor.getValue()},setValue:function(t){this.editor.setValue(t)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove(),Backbone.View.prototype.remove.call(this)},validate:function(){var e=this.getValue(),i=this.list.form?this.list.form.getValue():{},s=this.schema.validators,r=t.helpers.getValidator;if(!s)return null;var n=null;return _.every(s,function(t){return n=r(t)(e,i),continueLoop=!n}),n?this.setError(n):this.clearError(),n||null},setError:function(e){this.$el.addClass(t.classNames.error),this.$el.attr("title",e.message)},clearError:function(){this.$el.removeClass(t.classNames.error),this.$el.attr("title",null)}}),e.List.Modal=e.List.Object=e.List.NestedModel=e.Base.extend({events:{click:"openEditor"},initialize:function(t){e.Base.prototype.initialize.call(this,t);var i=this.schema;if(!e.List.Modal.ModalAdapter)throw"A ModalAdapter is required";if("Object"==i.itemType){if(!i.subSchema)throw'Missing required option "schema.subSchema"';this.nestedSchema=i.subSchema}if("NestedModel"==i.itemType){if(!i.model)throw'Missing required option "schema.model"';this.nestedSchema=i.model.prototype.schema,_.isFunction(this.nestedSchema)&&(this.nestedSchema=this.nestedSchema())}},render:function(){var t=this;return _.isEmpty(this.value)?this.openEditor():(this.renderSummary(),setTimeout(function(){t.trigger("readyToAdd")},0)),this.hasFocus&&this.trigger("blur",this),this},renderSummary:function(){var e=t.templates["list.Modal"];this.$el.html(e({summary:this.getStringValue()}))},itemToString:function(e){e=e||{};var i=[];return _.each(this.nestedSchema,function(s,r){var n=s.title?s.title:t.helpers.keyToTitle(r),o=e[r];(_.isUndefined(o)||_.isNull(o))&&(o=""),i.push(n+": "+o)}),i.join("<br />")},getStringValue:function(){var t=this.schema,e=this.getValue();return _.isEmpty(e)?"[Empty]":t.itemToString?t.itemToString(e):"NestedModel"==t.itemType?new t.model(e).toString():this.itemToString(e)},openEditor:function(){var e=new t({schema:this.nestedSchema,data:this.value}),i=this.modal=new Backbone.BootstrapModal({content:e,animate:!0}).open();this.trigger("open",this),this.trigger("focus",this),i.on("cancel",function(){this.modal=null,this.trigger("close",this),this.trigger("blur",this)},this),i.on("ok",_.bind(this.onModalSubmitted,this,e,i))},onModalSubmitted:function(t,e){var i=!this.value;if(t.validate())return e.preventClose();this.modal=null,this.value=t.getValue(),this.renderSummary(),i&&this.trigger("readyToAdd"),this.trigger("change",this),this.trigger("close",this),this.trigger("blur",this)},getValue:function(){return this.value},setValue:function(t){this.value=t},focus:function(){this.hasFocus||this.openEditor()},blur:function(){this.hasFocus&&this.modal&&(this.modal.trigger("cancel"),this.modal.close())}},{ModalAdapter:Backbone.BootstrapModal,isAsync:!0})}();
!function(){function e(e){var t=e.getHours();return new Date(new Date(e.getTime()+9e7).setHours(t))}!function(e){e.datepicker._updateDatepicker2||e.extend(e.datepicker,{_updateDatepicker2:e.datepicker._updateDatepicker,_updateDatepicker:function(e){this._updateDatepicker2(e),e.dpDiv.find("a.ui-state-default").attr("tabindex","-1")}})}(jQuery);var t=Backbone.Form,a=t.editors.Base,i=(t.editors,t.helpers.createTemplate),s=t.helpers.triggerCancellableEvent,n={};n.uiDate=a.extend({className:"bbf-jui-date",initialize:function(e){if(a.prototype.initialize.call(this,e),this.value&&!_.isDate(this.value)&&(this.value=new Date(this.value)),!this.value&&!this.schema.emptyDate)if(this.schema.minDate){var t=_.isDate(this.schema.minDate)?this.schema.minDate:new Date(this.schema.minDate);t.setSeconds(0),t.setMilliseconds(0),this.value=t}else{var t=new Date;t.setSeconds(0),t.setMilliseconds(0),this.value=t}},render:function(){function e(e){return ymd=e.getFullYear()+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2),day=new Date(ymd).getDay(),$.inArray(ymd,s)<0&&$.inArray(r[day],d)<0?[!0,"",""]:[!0,"ui-state-disabled",""]}$.extend($.datepicker,{_checkOffset:function(e,t,a){return t}});var t=this.$el;t.html("<input>");var a=$("input",t);a.attr("name",a.parent().attr("name"));var i=a.parent().attr("id");a.parent().removeAttr("id"),a.attr("id",i);var s=[],r=this.schema.days||{},d=this.schema.unavailableDays;_.each(this.schema.unavailableDates,function(e){s.push(_.isDate(e)?$.datepicker.formatDate("yy/mm/dd",e):$.datepicker.formatDate("yy/mm/dd",new Date(e)))}),a.datepicker({dateFormat:"dd.mm.yy",monthNames:this.schema.monthNames,defaultDate:new Date,minDate:_.isDate(this.schema.minDate)?this.schema.minDate:new Date(this.schema.minDate),maxDate:_.isDate(this.schema.maxDate)?this.schema.maxDate:new Date(this.schema.maxDate),showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:e,dayNamesMin:this.schema.dayNamesMin,firstDay:1}),this._observeDatepickerEvents(),n.uiDate.prototype.setValue.call(this,this.value);var l=a.parents(".date-picker-replacer");return l.length>0&&(l.hasClass("input")?l.find(".content").val(a.val()):l.find(".content").html(a.val()),l.on("click change",function(){a.focus()})),this},getValue:function(){return $("input",this.el).datepicker("getDate")},setValue:function(e){$("input",this.el).datepicker("setDate",e),this.value=e},focus:function(){this.hasFocus||this.$("input").datepicker("show")},blur:function(){this.hasFocus&&this.$("input").datepicker("hide")},_observeDatepickerEvents:function(){var e=this;this.$("input").datepicker("option","onSelect",function(){e.trigger("change",e),e.trigger("datepickerChangeTrigger",e)}),this.$("input").datepicker("option","onClose",function(t){if(e.hasFocus){if(e.trigger("blur",e),e.$el.hasClass("inputLongDate")){var a=e.$el.parents(".longDate"),i=t.split(".");a.find('[name="day"]').val(i[0]),a.find('[name="month"]').val(i[1]),a.find('[name="year"]').val(i[2])}e.$el.hasClass("style-tab")&&(e.$el.closest(".date-picker-replacer").removeClass("tab expanded"),$("#ui-datepicker-div").removeClass("under-style-tab"))}}),this.$("input").datepicker("option","beforeShow",function(t,a){return e.hasFocus?{}:(e.trigger("focus",e),e.$el.hasClass("style-tab")&&(e.$el.closest(".date-picker-replacer").addClass("tab expanded"),$("#ui-datepicker-div").addClass("under-style-tab")),{})})}}),n.uiDateInput=a.extend({className:"bbf-jui-date-input",events:{change:function(){this.trigger("change",this)},blur:function(){this.trigger("blur",this)}},initialize:function(e){if(a.prototype.initialize.call(this,e),this.value&&!_.isDate(this.value)&&(this.value=new Date(this.value)),!this.value&&!this.schema.emptyDate)if(this.schema.minDate){var t=_.isDate(this.schema.minDate)?this.schema.minDate:new Date(this.schema.minDate);t.setSeconds(0),t.setMilliseconds(0),this.value=t}else{var t=new Date;t.setSeconds(0),t.setMilliseconds(0),this.value=t}},render:function(){function e(e){return ymd=e.getFullYear()+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2),day=new Date(ymd).getDay(),$.inArray(ymd,r)<0&&$.inArray(d[day],l)<0?[!0,"",""]:[!0,"ui-state-disabled",""]}$.extend($.datepicker,{_checkOffset:function(e,t,a){return t}});var t=this.$el,a=this;t.html("<input>");var i=$("input",t);i.attr("name",i.parent().attr("name")).attr("type","text");var s=i.parent().attr("id");i.parent().removeAttr("id"),i.attr("id",s);var r=[],d=this.schema.days||{},l=this.schema.unavailableDays;return _.each(this.schema.unavailableDates,function(e){r.push(_.isDate(e)?$.datepicker.formatDate("yy/mm/dd",e):$.datepicker.formatDate("yy/mm/dd",new Date(e)))}),t.find(".icon-calendar").on("click",function(){i.focus()}),i.attr("maxlength",10).datepicker({showOn:"button",dateFormat:"dd.mm.yy",monthNames:this.schema.monthNames,defaultDate:new Date,minDate:_.isDate(this.schema.minDate)?this.schema.minDate:new Date(this.schema.minDate),maxDate:_.isDate(this.schema.maxDate)?this.schema.maxDate:new Date(this.schema.maxDate),showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:e,dayNamesMin:this.schema.dayNamesMin,firstDay:1}).keydown(function(e){if($("#ui-datepicker-div").is(":visible")){e.preventDefault();var t=e.keyCode||e.which;if("9"!=t){if("37"!=t&&"38"!=t&&"39"!=t&&"40"!=t&&"13"!=t)return!1;var a=$(this).val().split("."),i=new Date(a[2],a[1]-1,a[0]);switch(t){case 37:i.setDate(i.getDate()-1);break;case 38:i.setDate(i.getDate()-7);break;case 39:i.setDate(i.getDate()+1);break;case 40:i.setDate(i.getDate()+7);break;case 13:$(this).datepicker("setDate",i),$(this).datepicker("hide")}null!=i&&$(this).datepicker("setDate",i)}}}).on("blur",function(){a.blur()}),this._observeDatepickerEvents(),n.uiDateInput.prototype.setValue.call(this,this.value),i.siblings(".ui-datepicker-trigger").eq(0).hide(),this},getValue:function(){return $("input",this.el).datepicker("getDate")},setValue:function(e){$("input",this.el).datepicker("setDate",e),this.value=e},blur:function(){this.$el.blur()},_observeDatepickerEvents:function(){var e=this;this.$("input").datepicker("option","onSelect",function(){e.trigger("change",e),e.trigger("datepickerChangeTrigger",e)}),this.$("input").datepicker("option","onClose",function(t){if(e.hasFocus){if(e.trigger("blur",e),e.$el.hasClass("inputLongDate")){var a=e.$el.parents(".longDate"),i=t.split(".");a.find('[name="day"]').val(i[0]),a.find('[name="month"]').val(i[1]),a.find('[name="year"]').val(i[2])}e.$el.hasClass("style-tab")&&(e.$el.closest(".date-picker-replacer").removeClass("tab expanded"),$("#ui-datepicker-div").removeClass("under-style-tab"))}}),this.$("input").datepicker("option","beforeShow",function(t,a){return e.hasFocus?{}:(e.trigger("focus",e),e.$el.hasClass("style-tab")&&(e.$el.closest(".date-picker-replacer").addClass("tab expanded"),$("#ui-datepicker-div").addClass("under-style-tab")),{})})}}),n.uiDateTime=n.uiDate.extend({className:"bbf-jui-datetime",template:i("<select>{{hours}}</select>: <select>{{mins}}</select>"),render:function(){function e(e){return e<10?"0"+e:e}n.uiDate.prototype.render.call(this);var t=_.range(0,24),a=[];_.each(t,function(t){a.push('<option value="'+t+'">'+e(t)+"</option>")});var i=this.schema.minsInterval||15,s=_.range(0,60,i),r=[];return _.each(s,function(t){r.push('<option value="'+t+'">'+e(t)+"</option>")}),this.$el.append(this.template({hours:a.join(),mins:r.join()})),this._observeDatepickerEvents(),this.$hours=$("select:eq(0)",this.el),this.$mins=$("select:eq(1)",this.el),this.setValue(this.value),this},getValue:function(){var e=$("input",this.el),t=e.datepicker("getDate");return t.setHours(this.$hours.val()),t.setMinutes(this.$mins.val()),t.setMilliseconds(0),t},setValue:function(e){n.uiDate.prototype.setValue.call(this,e),this.$hours.val(e.getHours()),this.$mins.val(e.getMinutes())}}),n["jqueryui.List"]=a.extend({className:"bbf-jui-list",template:i('      <ul></ul>      <div><button class="bbf-list-add">Add</div>    '),itemTemplate:i('      <li rel="{{id}}">        <span class="bbf-list-text">{{text}}</span>        <div class="bbf-list-actions">          <button class="bbf-list-edit">Edit</button>          <button class="bbf-list-del">Delete</button>        </div>      </li>    '),editorTemplate:i('      <div class="bbf-field">          <div class="bbf-list-editor"></div>      </div>    '),events:{"click .bbf-list-add":"addNewItem","click .bbf-list-edit":"editItem","click .bbf-list-del":"deleteItem"},initialize:function(e){if(a.prototype.initialize.call(this,e),!this.schema)throw"Missing required option 'schema'";if(this.schema.listType=this.schema.listType||"Text","NestedModel"==this.schema.listType&&!this.schema.model)throw"Missing required option 'schema.model'"},render:function(){var e=this.$el;e.html(this.template());var t=this,a=this.value||[],i=this.schema,s=this.itemToString,n=this.itemTemplate,r=$("ul",e);return _.each(a,function(e){var a=s.call(t,e),i=$(n({id:e.id||"",text:a}));$.data(i[0],"data",e),r.append(i)}),!1!==i.sortable&&(r.sortable({axis:"y",cursor:"move",containment:"parent"}),e.addClass("bbf-list-sortable")),$("button.bbf-list-add",e).button({text:!1,icons:{primary:"ui-icon-plus"}}),$("button.bbf-list-edit",e).button({text:!1,icons:{primary:"ui-icon-pencil"}}),$("button.bbf-list-del",e).button({text:!1,icons:{primary:"ui-icon-trash"}}),this.hasFocus&&this.trigger("blur",this),this},itemToString:function(e){if(!e)return e;var t=this.schema;if(t.itemToString)return t.itemToString(e);if("NestedModel"==this.schema.listType){return new this.schema.model(e).toString()}return e},addNewItem:function(e){e&&e.preventDefault();var t=this;this.openEditor(null,function(e,a){s(t,"addItem",[e,a],function(){var i=t.itemToString(e),s=$(t.itemTemplate({id:e.id||"",text:i}));$.data(s[0],"data",e),$("ul",t.el).append(s),$("button.bbf-list-edit",this.el).button({text:!1,icons:{primary:"ui-icon-pencil"}}),$("button.bbf-list-del",this.el).button({text:!1,icons:{primary:"ui-icon-trash"}}),t.trigger("add",t,e),t.trigger("item:change",t,a),t.trigger("change",t)})})},editItem:function(e){e.preventDefault();var t=this,a=$(e.target).closest("li"),i=$.data(a[0],"data");this.openEditor(i,function(e,i){s(t,"editItem",[e,i],function(){$(".bbf-list-text",a).html(t.itemToString(e)),$.data(a[0],"data",e),t.trigger("item:change",t,i),t.trigger("change",t)})})},deleteItem:function(e){function t(){s(a,"removeItem",[n],function(){i.remove(),a.trigger("remove",a,n),a.trigger("change",a)})}e.preventDefault();var a=this,i=$(e.target).closest("li"),n=$.data(i[0],"data"),r=(!!this.schema.confirmDelete&&this.schema.confirmDelete,this.schema.confirmDeleteMsg||"Are you sure?");this.schema.confirmDelete?confirm(r)&&t():t()},openEditor:function(e,a){var i=this,s=this.schema,n=s.listType||"Text",r=t.helpers.createEditor(n,{key:"",schema:s,value:e}).render(),d=this.editorContainer=$(this.editorTemplate());$(".bbf-list-editor",d).html(r.el);var l=function(){r.validate()||(a(r.getValue(),r),d.dialog("close"))},o=function(e){13==e.keyCode&&l()};$(d).dialog({resizable:!1,modal:!0,width:500,title:e?"Edit item":"New item",buttons:{OK:l,Cancel:function(){d.dialog("close")}},close:function(){i.editorContainer=null,$(document).unbind("keydown",o),r.remove(),d.remove(),i.trigger("item:close",i,r),i.trigger("item:blur",i,r),i.trigger("blur",i)}}),this.trigger("item:open",this,r),this.trigger("item:focus",this,r),this.trigger("focus",this),$(document).bind("keydown",o)},getValue:function(){var e=[];return $("li",this.el).each(function(t,a){e.push($.data(a,"data"))}),e},setValue:function(e){this.value=e,this.render()},focus:function(){if(!this.hasFocus){var e=this.$("li .bbf-list-edit").first();e.length>0?e.click():this.addNewItem()}},blur:function(){this.hasFocus&&this.editorContainer&&this.editorContainer.dialog("close")}}),n.uiDateRepeatable=n.uiDate.extend({className:"bbf-jui-date-repeatable",getValue:function(){var e=this.$el,t=$(".date-container-from",e),a=$(".date-container-to",e);return{dateFrom:t.datepicker("getDate"),dateTo:a.datepicker("getDate")}},setValue:function(e){this.value={dateFrom:e.dateFrom,dateTo:e.dateTo}},initialize:function(e){a.prototype.initialize.call(this,e),this.value&&(_.isDate(this.value.dateFrom)||(this.value.dateFrom=new Date(this.value.dateFrom)),_.isDate(this.value.dateTo)||(this.value.dateTo=new Date(this.value.dateTo)))},render:function(){function t(e){return ymd=e.getFullYear()+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2),day=new Date(ymd).getDay(),$.inArray(ymd,l)<0&&$.inArray(o[day],c)<0?[!0,"",""]:[!0,"ui-state-disabled",""]}var a,i;this.value&&this.value.dateFrom&&this.value.dateTo&&this.setValue(this.value),this.value&&(a=this.value.dateFrom?this.value.dateFrom:new Date,i=this.value.dateTo?this.value.dateTo:new Date);var s=this.$el,n=this;s.html('<div class="date-container-from"></div><div class="date-container-to"></div>');var r=$(".date-container-from",s),d=$(".date-container-to",s),l=[],o=this.schema.days,c=this.schema.unavailableDays;_.each(this.schema.unavailableDates,function(e){l.push(_.isDate(e)?$.datepicker.formatDate("yy/mm/dd",e):$.datepicker.formatDate("yy/mm/dd",new Date(e)))}),r.datepicker({showOtherMonths:!0,selectOtherMonths:!0,firstDay:1,minDate:this.schema.minDate,maxDate:this.schema.maxDate,dateFormat:"dd.mm.yy",monthNames:this.schema.monthNames,dayNamesMin:this.schema.dayNamesMin,beforeShowDay:t,defaultDate:a,onSelect:function(t,a){d.datepicker("option","minDate",e(r.datepicker("getDate"))),d.find("input").val($.datepicker.formatDate("dd.mm.yy",d.datepicker("getDate"))),r.find("input").val($.datepicker.formatDate("dd.mm.yy",r.datepicker("getDate"))),n.setValue({dateFrom:r.datepicker("getDate"),dateTo:d.datepicker("getDate")}),n.trigger("change",a)}});var h='<span class="accessible-not-visible"> (format daty to dd.mm.rrrr np. 24.12.2001) </span>';return r.append('<div class="head"><label for="date-container-from">'+h+'od:</label> <input type="text" name="dateFrom" id="date-container-from" value=""/></div>'),r.find("input").val($.datepicker.formatDate("dd.mm.yy",r.datepicker("getDate"))),r.find("input").blur(function(){r.datepicker("setDate",$(this).val()),r.find("input").val($.datepicker.formatDate("dd.mm.yy",r.datepicker("getDate"))),d.datepicker("option","minDate",e(r.datepicker("getDate")))}),r.find(".ui-datepicker-inline").attr("role","presentation").attr("aria-hidden","true"),d.datepicker({showOtherMonths:!0,selectOtherMonths:!0,firstDay:1,minDate:e(this.schema.minDate),maxDate:this.schema.maxDate,dateFormat:"dd.mm.yy",monthNames:this.schema.monthNames,dayNamesMin:this.schema.dayNamesMin,beforeShowDay:t,disabled:!0,defaultDate:i,onSelect:function(e,t){d.find("input").val($.datepicker.formatDate("dd.mm.yy",d.datepicker("getDate"))),n.setValue({dateFrom:r.datepicker("getDate"),dateTo:d.datepicker("getDate")}),n.trigger("change",t)}}),d.append('<div class="head"><label for="date-container-to">'+h+'do:</label><input type="text" name="dateFrom" id="date-container-to" value="" disabled="disabled" /></div>'),d.find("input").val($.datepicker.formatDate("dd.mm.yy",d.datepicker("getDate"))),d.find("input").blur(function(){d.datepicker("setDate",$(this).val()),d.find("input").val($.datepicker.formatDate("dd.mm.yy",d.datepicker("getDate")))}),d.find(".ui-datepicker-inline").attr("role","presentation").attr("aria-hidden","true"),this}}),_.extend(t.editors,n)}();
!function(){var e=Backbone.Form,t=(e.editors.Base,e.editors),i=e.helpers,a=(e.helpers.createTemplate,e.helpers.triggerCancellableEvent,{});e.Field=e.Field.extend({render:function(){var t=this.schema,a=e.templates,s={form:this.form,key:this.key,schema:t,idPrefix:this.options.idPrefix,id:this.getId()};this.model?s.model=this.model:s.value=this.value;var l=this.editor=i.createEditor(t.type,s),n=$(a[t.template]({key:this.key,title:t.title,id:l.id,type:t.type,editorLabelFor:void 0!==t.editorLabelFor?t.editorLabelFor:void 0!==t.editorAttrs&&void 0!==t.editorAttrs.id?t.editorAttrs.id:l.id,editor:'<b class="bbf-tmp-editor"></b>',help:'<b class="bbf-tmp-help"></b>',_params:t._params||{}}));return n.find(".bbf-tmp-editor").replaceWith(l.render().el),this.$help=$(".bbf-tmp-help",n).parent(),this.$help.empty(),this.schema.help&&this.$help.html(this.schema.help),this.schema.fieldClass&&n.addClass(this.schema.fieldClass),this.schema.fieldAttrs&&n.attr(this.schema.fieldAttrs),this.setElement(n),this}}),t.Text=t.Text.extend({getValue:function(){return this.schema.fieldAttrs&&this.schema.fieldAttrs["data-placeholder"]==this.$el.val()||this.schema.editorAttrs&&this.schema.editorAttrs["data-placeholder"]==this.$el.val()||this.$el.attr("placeholder")==this.$el.val()?"":this.$el.val()}}),t.Checkbox=t.Checkbox.extend({setValue:function(e){e?this.$el.prop("checked",!0):this.$el.prop("checked",!1)}}),t.Radio=t.Radio.extend({events:{"click input[type=radio]:not(:checked)":function(){this.trigger("change",this)},"focus input[type=radio]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=radio]":function(){if(this.hasFocus){var e=this;setTimeout(function(){e.$("input[type=radio]:focus")[0]||e.trigger("blur",e)},0)}},"change input[type=radio]":function(){this.trigger("change",this)}}}),t.DeliveryTimeRadio=t.Radio.extend({tagName:"div",className:"fields",_arrayToHtml:function(e){var t=[],i=this;return _.each(e,function(e,a){var s='<div class="radio-panel one-third">',l=i.id+"-"+a,n=i.id+"Label",r=l+"Label";if(_.isObject(e)){var o=e.val||"",h=e.help||"";e.amount,e.currency;priceStr=e.priceStr||"",commissionsAndFees=e.commissionsAndFees||null,s+='<div class="radio-area"><span class="radio-wrapper">',s+='<input type="radio" name="'+i.id+'" value="'+o+'" id="'+l+'" aria-labelledby="'+n+" "+r+'" />',s+="</span></div>",s+='<label class="radio-label" for="'+l+'" id="'+r+'">',s+='<span class="transfer-type">'+e.label+"</span>",e.tooltip&&(s+='<a href="#" class="tooltip-icon btn-gray-gradient btn-small" rel="tooltip" title="'+I18n.t(e.tooltip)+'">',s+='<i class="icon-question-mark">Pomoc</i>',s+="</a>"),s+='<span class="time">'+h+"</span>",commissionsAndFees&&(s+='<span class="time">'+commissionsAndFees+"</span>"),""!==priceStr&&(s+="<span>"+I18n.t("deliveryTimeRadio.costs")+": "+priceStr+"</span>"),s+="</label>"}else s+='<input type="radio" name="'+i.id+'" value="'+e+'" id="'+l+'" aria-labelledby="'+n+" "+r+'" />',s+='<label for="'+l+'" id="'+r+'">'+e+"</label>";s+="</div>",t.push(s)}),t.join("")}}),t.ZusAccountCheckboxes=t.Checkboxes.extend({tagName:"div",className:"fields",_arrayToHtml:function(e){var t=[],i=this;return _.each(e,function(e,a){var s='<div class="checkbox-panel one-half">';if(_.isObject(e)){var l=e.val?e.val:"",n=e.number?e.number:"",r=e.amount?e.amount:"",o=e.currency?e.currency:"";s+='<div class="checkbox-area"><span class="checkbox-wrapper">',s+='<input type="checkbox" name="'+i.id+'" value="'+l+'" id="'+i.id+"-"+a+'" />',s+="</span></div>",s+='<div class="checkbox-label">',s+='<label for="'+i.id+"-"+a+'">'+e.label+"</label>",s+="<span>"+n+"</span>",s+='<label for="'+i.id+"-"+a+'-text">Kwota</label>',s+='<input type="text" name="'+i.id+"-"+a+'-text" id="'+i.id+"-"+a+'-text" value="'+r+'"/>',s+='<label for="'+i.id+"-"+a+'-text" class="after-input">'+o+"</label>",s+="</div>"}else s+='<input type="checkbox" name="'+i.id+'" value="'+e+'" id="'+i.id+"-"+a+'" />',s+='<label for="'+i.id+"-"+a+'">'+e+"</label>";s+="</div>",t.push(s)}),t.join("")}}),t.AnchorButton=t.Hidden.extend({tagName:"a",render:function(){return this.setValue(this.value),this},setValue:function(e){e&&this.$el.text(e),this.value=e},initialize:function(e){t.Text.prototype.initialize.call(this,e),this.$el.removeAttr("type"),this.$el.text(this.schema.text),this.$el.attr("href","#"+this.schema.text),this.$el.on("click.prevent",function(e){e.preventDefault()}),this.schema.help&&this.$el.attr("title",this.schema.help)}}),t.SimpleTextValue=t.Hidden.extend({tagName:"span",render:function(){return this.setValue(this.value),this},setValue:function(e){e&&this.$el.text(e),this.value=e},initialize:function(e){t.Text.prototype.initialize.call(this,e),this.$el.removeAttr("type"),this.schema.help?(this.$el.prepend('<span class="simple-help">'+this.schema.help+"</span>"),this.$el.append('<span class="simple-value">'+this.value+"</span>")):this.value?this.$el.text(this.value):this.schema.text&&this.$el.text(this.schema.text)}}),t.SimpleDate=t.SimpleTextValue.extend({tagName:"span",setValue:function(e){_.isDate(e)?this.value=e:this.value=new Date(e)},initialize:function(e){t.Text.prototype.initialize.call(this,e),this.$el.removeAttr("type"),this.schema.dateFormat?this.$el.text(I18n.l(this.schema.dateFormat,this.value)):this.$el.text(I18n.l("date.formats.default",this.value))}}),t.dateManual=t.SimpleTextValue.extend({tagName:"span",setValue:function(e){_.isDate(e)?this.value=e:this.value=new Date(e)},initialize:function(e){t.Text.prototype.initialize.call(this,e),this.$el.removeAttr("type"),this.schema.dateFormat?this.$el.text(I18n.l(this.schema.dateFormat,this.value)):this.$el.text(I18n.l("date.formats.default",this.value))}}),t.longDateInput=t.Object.extend({validate:function(){},render:function(){return this}}),t.MultipleFields=t.Object.extend({validate:function(){var e=[],t={};if(this.hasNestedForm&&_.each(this.form.fields,function(t){e.push(t.validate())}),e=_.compact(e),_.each(e,function(e){_.extend(t,e)}),this.$el.closest(".row").toggleClass("validation error",!_.isEmpty(t)),!_.isEmpty(t))return t},render:function(){return this.form=new e({template:"formAsDiv",fieldsetTemplate:"fieldsetAsDiv",fieldTemplate:"nestedField",schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_"}),this._observeFormEvents(),this.$el.html(this.form.render().el),this.hasFocus&&this.trigger("blur",this),this}}),t.MultipleDate=t.Object.extend({validate:function(){var e=[],t={};if(this.hasNestedForm&&_.each(this.form.fields,function(t){e.push(t.validate())}),e=_.compact(e),_.each(e,function(e){_.extend(t,e)}),this.$el.closest(".row").toggleClass("validation error",!_.isEmpty(t)),!_.isEmpty(t))return t},render:function(){function t(){var e=$.datepicker.formatDate("dd.mm.yy",a.datepicker("getDate"));e=e.split("."),s.val(e[0]),l.val(e[1]),n.val(e[2])}this.form=new e({template:"formAsDiv",fieldsetTemplate:"fieldsetAsDiv",fieldTemplate:"nestedField",schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_"}),this._observeFormEvents(),this.$el.html(this.form.render().el),this.hasFocus&&this.trigger("blur",this);var i=this.$el,a=i.find(".date-picker-replacer input"),s=i.find(".field-day input"),l=i.find(".field-month input"),n=i.find(".field-year input");return t(),i.find("input").bind("change",function(){a.datepicker("setDate",s.val()+"."+l.val()+"."+n.val()),t()}),this}}),t.DlList=t.Select.extend({tagName:"dl",_arrayToHtml:function(e){var t=[];return _.each(e,function(e){if(_.isObject(e)){var i=e.val?e.val:"";t.push("<dt>"+e.label+"</dt>"),t.push("<dd>"+i+"</dd>")}else t.push("<dt>"+e.label+"</dt>")}),t.join("")}}),t.Select=t.Select.extend({_arrayToHtml:function(e){var t=[];return _.each(e,function(e){if(_.isObject(e)){var i=e.val?e.val:"",a=e.boldText?e.boldText:"";t.push('<option value="'+i+'" data-bold-text="'+a+'">'+e.label+"</option>")}else t.push("<option>"+e+"</option>")}),t.join("")}}),t.SplitSelect=t.Select.extend({_arrayToHtml:function(e){var t=[];return _.each(e,function(e){if(_.isObject(e)){var i=e.val?e.val:"",a=e.boldText?e.boldText:"";e.isVatCompliant?t.push('<option value="'+i+'" data-bold-text="'+a+'" data-secondary-account-amount="'+e.secondaryAccountLabel+'" data-secondary-account-bold-text="'+e.secondaryAccountBoldText+'" data-use-secondary-account="'+(e.isVatCompliant?"true":"false")+'">'+e.label+"</option>"):t.push('<option value="'+i+'" data-bold-text="'+a+'">'+e.label+"</option>")}else t.push("<option>"+e+"</option>")}),t.join("")}}),t.RadioOneHalf=t.Radio.extend({tagName:"div",className:"radio-panels",_arrayToHtml:function(e){var t=[],i=this;return _.each(e,function(e,a){var s='<div class="radio-panel one-half">',l=i.id+"-"+a,n=i.id+"Label",r=l+"Label";if(_.isObject(e)){var o=e.val?e.val:"",h=e.help?e.help:"",d=e._params&&e._params.tooltip?e._params.tooltip:"";s+='<div class="radio-area"><span class="radio-wrapper">',s+='<input type="radio" name="'+i.id+'" value="'+o+'" id="'+l+'"  aria-labelledby="'+n+" "+r+'" />',s+="</span></div>",s+='<label class="radio-label" for="'+l+'" id="'+r+'">',s+='<span class="text">',s+=e.label,s+="</span>",""!=d&&(s+='<a href="#" class="tooltip-icon btn-gray-gradient-darker btn-small" rel="tooltip" title="'+d+'">',s+='<i class="icon-question-mark">Pomoc</i>',s+="</a>"),""!=h&&(s+='<span class="additional-text">'+h+"</span>"),s+="</label>"}else s+='<input type="radio" name="'+i.id+'" value="'+e+'" id="'+l+'" aria-labelledby="'+n+" "+r+'" />',s+='<label for="'+l+'" id="'+r+'">'+e+"</label>";s+="</div>",t.push(s)}),t.join("")}}),t.CustomRadio=t.Checkbox.extend({tagName:"input",initialize:function(e){t.Text.prototype.initialize.call(this,e),this.$el.attr("type","radio"),this.schema.name&&this.$el.attr("name",this.schema.name),this.value&&this.$el.attr("checked",!0)}}),t.List=t.List.extend({addItem:function(e,i){var a=this;1!=this.schema.fixEditorsCode&&(e=this.value||[]);var s=new t.List.Item({list:this,schema:this.schema,value:e,Editor:this.Editor,key:this.key,index:this.items.length+1}).render(),l=function(){(!s.schema.itemsLimit||a.items.length<s.schema.itemsLimit)&&(s.index=a.items.length+1,a.items.push(s),a.$list.append(s.el)),s.editor.on("all",function(e){"change"!=e&&(args=_.toArray(arguments),args[0]="item:"+e,args.splice(1,0,a),t.List.prototype.trigger.apply(this,args))},a),s.editor.on("change",function(){s.addEventTriggered||(s.addEventTriggered=!0,this.trigger("add",this,s.editor)),this.trigger("item:change",this,s.editor),this.trigger("change",this)},a),s.editor.on("focus",function(){this.hasFocus||this.trigger("focus",this)},a),s.editor.on("blur",function(){if(this.hasFocus){var e=this;setTimeout(function(){_.find(e.items,function(e){return e.editor.hasFocus})},0)}},a),(i||e)&&(s.addEventTriggered=!0),i&&(a.trigger("add",a,s.editor),a.trigger("change",a))};return this.Editor.isAsync?s.editor.on("readyToAdd",l,this):l(),s.schema.itemsLimit&&a.items.length>=s.schema.itemsLimit&&(this.$el.find('[data-action="add"]').hide(),s.editor.$el.focus()),s},removeItem:function(e){if(this.$el.find('[data-action="add"]').not(":visible")&&this.$el.find('[data-action="add"]').show(),this.items.length>1){var t=this.schema.confirmDelete;if(t&&!confirm(t))return;var i=_.indexOf(this.items,e);this.items[i].remove(),this.items.splice(i,1),this.items[i-1].editor.$el.focus(),e.addEventTriggered&&(this.trigger("remove",this,e.editor),this.trigger("change",this)),this.items.length||this.Editor.isAsync||this.addItem()}else this.trigger("lastItemRemoved",this)},render:function(){var t=this,i=this.value||[],a=$(e.templates[this.schema.listTemplate]({items:'<b class="bbf-tmp"></b>'}));return this.$list=a.find(".bbf-tmp").parent().empty(),i.length?_.each(i,function(e,i){t.addItem(e)}):this.Editor.isAsync||this.addItem(void 0,!0),this.setElement(a),this.$el.attr("id",this.id),this.$el.attr("name",this.key),this.hasFocus&&this.trigger("blur",this),t.schema.itemsLimit&&t.items.length==t.schema.itemsLimit&&this.$el.find('[data-action="add"]').hide(),this}}),t.List.Item=t.List.Item.extend({events:{'click [data-action="remove"]':function(e){e.preventDefault(),this.list.removeItem(this)}},render:function(){this.editor=new this.Editor({key:this.key,id:this.key+this.index,schema:this.schema,value:this.value,list:this.list,item:this,index:this.index}).render();var t=$(e.templates[this.schema.listItemTemplate]({editor:'<b class="bbf-tmp"></b>',index:this.index,key:this.key}));return t.find(".bbf-tmp").replaceWith(this.editor.el),this.setElement(t),this.placeholders(t),this},placeholders:function(e){e.find("[data-placeholder]:not(.pl-on)").each(function(){var e=$(this).find("input[type=text]"),t=$(this).attr("data-placeholder");e.length>0&&e.val().length<1&&(e.css({color:"#a3a3a3"}).val(t).addClass("empty"),$(this).addClass("pl-on")),e.off("focus.placeholder, blur.placeholder").on("focus.placeholder",function(){e.val()===t&&e.attr("style","").val("").removeClass("empty")}).on("blur.placeholder",function(){e.val().length||e.css({color:"#a3a3a3"}).val(t).addClass("empty")})})}}),t.HiddenBoolean=t.Hidden.extend({setValue:function(e){this.value="true"===e||"True"===e||!0===e}}),_.extend(e.editors,a)}();
var Ebre=Ebre||{};Ebre.Namespace=function(r){var e=r.split("."),a=Ebre;"Ebre"===e[0]&&(e=e.slice(1));for(var b=0;b<e.length;b+=1)void 0===a[e[b]]&&(a[e[b]]={}),a=a[e[b]];return a};
Ebre.Extensions={pickRandom:function(n){return n[Math.floor(Math.random()*n.length)]},format:function(n){var e=Array.prototype.slice.call(arguments,1);return n.replace(/{(\d+)}/g,function(n,t){return void 0!==e[t]?e[t]:n})},contains:function(n,e){if("string"==typeof e||"number"==typeof e)return-1!=n.indexOf(e);if(e instanceof RegExp)return-1!=n.search(e);throw"Invalid use of String.contains"},endsWith:function(n,e,t){return t=arguments[2]||!1,t?-1!==n.toLowerCase().indexOf(e.toLowerCase(),n.length-e.length):-1!==n.indexOf(e,n.length-e.length)},startsWith:function(n,e,t){return t=arguments[2]||!1,t?n.substr(0,e.length).toLowerCase()==e.toLowerCase():n.substr(0,e.length)==e},isNumberRepresentation:function(n){return/^[\-|\+]?[0-9\s\,\.]+$/.test(n)},toNumberString:function(n,e,t){e=arguments[1]||",",t=arguments[2]||".";var r=n;return r=r.replace(/\s/g,"")," "!=e&&(r=r.replace(new RegExp("\\"+e,"g"),"")),r=r.replace(t,".")},toNumber:function(n,e,t){return new Number(Ebre.Extensions.toNumberString(n,e,t))},getUUID:function(){var n=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}};
function EbreXhrError(e,t,r){try{var n,o=e.responseStatus||r||"Unknown Error";if(/###BEGIN_ERROR_MSG###(.*)###END_ERROR_MSG###/.test(e.responseText)){var a=/###BEGIN_ERROR_MSG###(.*)###END_ERROR_MSG###/.exec(e.responseText)[1];n=$.parseJSON(a)}else n=$.parseJSON(e.responseText);"string"==typeof n&&(n={title:o,message:n}),Ebre.Common.createErrorMessage(n)}catch(t){console.log("Error occured while parsin error message: "+t.message),Ebre.Common.createErrorMessage({title:o,message:e.responseText})}}Ebre.Common={DocumentTitle:{setDocumentTitle:function(){document.title=Ebre.Common.DocumentTitle.getDocumentTitleBy2LevelMenuItem()},getDocumentTitleUsing3LevelMenuItem:function(e){var t=Ebre.Common.DocumentTitle.getDocumentTitleBy2LevelMenuItem();if(0==e.length)return t;var r=e.find(".text:visible");return(r.length>0?r.text():e.text())+" - "+t},getDocumentTitleBy2LevelMenuItem:function(){var e=Ebre.Venezia.Lang.SiteTitle,t=$(".nav-horizontal.first-level > li.active > a").text().trim();return $(".nav-horizontal.second-level .sub-item.active").text().trim()+" - "+t+" - "+e}},Browser:{isMobile:jQuery.browser.mobile,supports:{touch:Modernizr.touch,flash:function(){return!!(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}}},NavigateTo:function(e){var t={url:"",trigger:!0};"string"==typeof e?t={url:arguments[0],trigger:"boolean"!=typeof arguments[1]||arguments[1]}:"object"==typeof e&&(t=$.extend({},t,e)),Ebre.Common.PreviousFragment!=t.url&&(Ebre.Common.PreviousFragment=Backbone.history.fragment),Backbone.history.navigate(t.url,{trigger:t.trigger})},NavigateToRoute:function(e,t,r,n){if(!Ebre.Router)throw new Error("Ebre.Router is not defined");var o={url:"",trigger:!0};if("boolean"==typeof n&&(o.trigger=n),o=Ebre.Router._prepareArgs.apply(o,arguments),o.url=Ebre.Router.match(o),"string"!=typeof o.url)throw new Error("Router does not match any route for specified parameters.");Ebre.Common.NavigateTo(o)},IsNavigable:function(e,t,r){if(e&&"object"==typeof e&&(e=e.Area),!e||"string"!=typeof e)return console.error("Area have to be defined and type of string"),!1;var n=e.toLowerCase();return Ebre.Venezia.AllModules[n]?!!Ebre.Venezia.LoadedModules[n]||(console.error("Module which registered area |"+e+"| was not loaded."),!1):(console.error("Area |"+e+"| is not defined in any Venezia module. There may be a typo in area name, have you forgotten to add area of new module?"),!1)},wasElementClicked:function(e,t){return t.attr&&(t=t.get(0)),e.target===t||jQuery.contains(t,e.target)},SuppressErrorMessages:!1,createErrorMessage:function(e){"string"==typeof e&&(e={title:arguments[0],message:arguments[1]});try{0==Ebre.Common.SuppressErrorMessages&&(e.cssStyle="error-conditional",this.createMessage(this.makeNonduplicable(e)))}finally{var t=Ebre&&Ebre.Venezia&&Ebre.Venezia.JsLogger;t&&e&&t.uiNotificationError(e.message,e.title)}},showOperationRejectedMessage:function(){var e="errors.authorization.IMSOperationRejected";Ebre.User.isPB&&(e="errors.authorization.IMSOperationRejectedPb"),this.createErrorMessage({title:I18n.t(e),message:I18n.t("errors.authorization.TelephoneChargeInformation")})},createSuccessMessage:function(e){"string"==typeof e&&(e={title:arguments[0],message:arguments[1]}),e.cssStyle="success-conditional",this.createReplaceableMessage(e)},createInfoMessage:function(e){"string"==typeof e&&(e={title:arguments[0],message:arguments[1]}),e.cssStyle="info-conditional",this.createReplaceableMessage(e)},createTokenCancelMessage:function(e){"string"==typeof e&&(e={title:arguments[0],message:arguments[1]}),e.cssStyle="auth-hub-cancel-conditional",this.createReplaceableMessage(e)},createReplaceableMessage:function(e){e.key="replaceableMessage";var t=e.afterShow;e.afterShow=function(e,r){setTimeout(function(){try{e.fadeOut(450,function(){$(this).remove(),Ebre.Wizard&&Ebre.Wizard.trigger("layout:showPoints")})}catch(e){}},3e4),"function"==typeof t&&t()},this.createMessage(e)},makeNonduplicable:function(e){var t=function(e){if("string"!=typeof e||0==e.length)return 0;var t,r,n=0;for(t=0;t<e.length;++t)r=e.charCodeAt(t),n=(n<<5)-n+r,n&=n;return n};return e=e||{},e.key="",$(["title","message"]).each(function(r,n){e[n]=$.trim(e[n]||""),e.key+="_"+e[n].length+"_"+t(e[n])}),e},createMessage:function(e){"string"==typeof e&&(e={title:arguments[0],message:arguments[1],cssStyle:arguments[2],isMsgHtml:arguments[3]});var t={title:"",message:"",cssStyle:"info-conditional",isMsgHtml:!1,isMsgView:!1,relativeElm:"#header:visible, #settings-space > h2, .settings-inner > header",containerAddingFnName:"after",containerClass:"",containerAttrs:{},key:"",elementEvents:[],afterShow:null,beforeShow:null,afterClose:null,closeOnExternalClick:!1};e=$.extend({},t,e);var r,n=$(e.relativeElm).eq(0);switch(e.containerAddingFnName){case"before":case"after":r=n.parent().children(".message-panel");break;default:r=n.children(".message-panel")}if(!r.length||!r.closest("html").length){r=$("<div></div>").addClass("message-panel").attr("role","alert"),e.containerClass&&r.addClass(e.containerClass);for(x in e.containerAttrs)r.attr(x,e.containerAttrs[x]);$.fn[e.containerAddingFnName].apply(n,[r])}var o=$("<div></div>").addClass("message-body");e.isMsgHtml?o.append(e.message):e.isMsgView?o.append(e.message.el):o.html(e.message);var a=$("<div></div>").addClass("title").html(e.title),i=Ebre.Venezia.Lang.Buttons.Collapse,s=$("<div></div>").addClass("box-wrapper").addClass("message-box").append($('<div class="box box-status"></div>').addClass(e.cssStyle).append(a).append(o).append($("<span></span>").addClass("status-field")).append($('<a href="#" class="close-trigger"><i class="icon-close">'+i+"</i></a>").on("click",function(){$(".ui-tooltip-caller").mytooltip("close");var t=$(this);return t.closest(".box-wrapper").animate({opacity:0,height:0},600,function(){t.closest(".box-wrapper").remove(),e.isMsgView&&e.message.close(),e.afterClose&&e.afterClose(),Ebre.Wizard&&Ebre.Wizard.trigger("layout:showPoints")}),!1})));if(e.elementEvents&&e.elementEvents.length)for(var l=e.elementEvents,c=0;c<l.length;c++){if(!l[c].name||!l[c].fn)throw"Ebre.Common.createMessage: elementEvents option must be an array of objects with a name string property and a fn function property.";var u=l[c].fn;s.on(l[c].name,function(){u(s,r)})}e.key&&s.attr("id",e.key);var d=n.offset().top+n.height();$(window).scrollTop()>d&&$("html, body").animate({scrollTop:d},400),e.beforeShow&&"function"==typeof e.beforeShow&&e.beforeShow(s,r),e.key&&r.children("#"+e.key).length?r.children("#"+e.key).fadeOut(450,function(){$(this).remove(),s.appendTo(r)}):s.appendTo(r),Ebre.Wizard&&Ebre.Wizard.trigger("layout:showPoints"),e.afterShow&&"function"==typeof e.afterShow&&e.afterShow(s,r),e.closeOnExternalClick},closeAllMessages:function(){try{$(".message-panel > .box-wrapper").remove()}catch(e){}},redirectToFullPageError:function(e,t,r){if(parseInt(e)>=400)try{var n=Ebre&&Ebre.Venezia&&Ebre.Venezia.JsLogger;if(n){var o={url:r},a={statusCode:e};n.fullPageError(t,o,a)}Ebre.Common.closeAllMessages();var i=Ebre.Venezia.ErrorMap[e]}finally{i&&(window.location=i)}},preventGlobalErrorHandlerCall:function(e){e.status=519},announceAlert:function(e){var e=document.createTextNode(e),t=document.getElementById("announceContainer");t.appendChild(e),setTimeout(function(){t.style.display="block",setTimeout(function(){for(t.style.display="none";t.hasChildNodes();)t.removeChild(t.lastChild)},1500)},200)},justNumber:function(e,t,r,n,o){if(e=arguments[0]||window.event,0==arguments.length||1==arguments.length)return function(e){var t=Ebre.Common.getLang();return Ebre.Common.justNumber(e,t.number.format.delimiter,t.number.format.separator)}(e);arguments[1],r=arguments[2]||".",arguments[3],o=arguments[4]||!0;var a="number"==typeof e.which?e.which:e.keyCode;if(8==a||0==a||e.ctrlKey&&(120==a||118==a||99==a||97==a))return!0;a=String.fromCharCode(a);var i=$(e.target),s=i.val();return i.hasClass("allow-negative")&&(o=!1),!(-1!=s.search(/[\+\-]/)||(o?"+"!=a:!/[\+\-]/.test(a)))||!!(-1==s.indexOf(r)?new RegExp("[0-9]+|\\"+r+"|\\s"):/[0-9]+|\s/).test(a)},justNumberSimple:function(e){e=arguments[0]||window.event;var t="number"==typeof e.which?e.which:e.keyCode;return!(8!=t&&0!=t&&(!e.ctrlKey||120!=t&&118!=t&&99!=t&&97!=t))||(t=String.fromCharCode(t),!!new RegExp("[0-9]+").test(t))},formatNumber:function(e,t,r,n,o){if(1==arguments.length)return"string"==typeof arguments[0]||"number"==typeof arguments[0]?function(e){var t=Ebre.Common.getLang();return Ebre.Common.formatNumber(e,t.number.format.delimiter,t.number.format.separator)}(e):arguments[0]&&arguments[0].target?function(e){var t=$(e.target);t.val?t.val(Ebre.Common.formatNumber(t.val())):t.text(Ebre.Common.formatNumber(t.text()))}(arguments[0]):"0";t=arguments[1]||",",r=arguments[2]||".",n=arguments[3]||2,o=arguments[4]||!0;var a="";if(/^[\+\-]?\d+\.\d+/.test(e)&&"."!=r&&(a=r,r="."),/^[\+\-]?\d+\,\d+/.test(e)&&","!=r&&(a=r,r=","),!e)return"0"+r+"00";e+="",e=e.replace(/\s/g,""),e=e.replace(/^0+/,""),e=e.replace(new RegExp("/"+t+"/g"),""),Ebre.Extensions.startsWith(e,r)&&(e="0"+e);var i=e.substring(0,1),s=/[\+|\-]/.test(i);e=e.replace(/[\+|\-]/g,"");var l=e.split(r),c=l[0];if(l.length>1&&l[1].length>n){var u=new Number("0."+l[1]).toFixed(n);l[1]=u<1?u.toString().replace("0.",""):"99"}o&&1==l.length&&l.push("00"),o&&l.length>1&&1==l[1].length&&(l[1]=l[1]+"0");var d=""!=a?a:r,m=l.length>1?d+l[1]:"";m==r&&(m+="00");for(var h=/(\d+)(\d{3})/;h.test(c);)c=c.replace(h,"$1"+t+"$2");return(s?i:"")+(c||"0")+m},toNumber:function(e,t,r){return 1==arguments.length?function(e){var t=Ebre.Common.getLang();return Ebre.Common.toNumber(e,t.number.format.delimiter,t.number.format.separator)}(e):Ebre.Extensions.toNumber(e,t,r)},getLang:function(){var e=I18n.translations[I18n.locale];if(void 0===e)throw"I18n: locale language has not been initialized!";if(void 0===e.number)throw"I18n: define number format CultureInfo inside i18n file for: "+I18n.locale;return e},showGlobalPreloader:function(){var e=$("<div></div>").addClass("preloader-mask").append($("<div></div>").addClass("preloader-icon"));$("body").prepend(e)},removeGlobalPreloader:function(){$("body").children(".preloader-mask").remove()},toggleGlobalPreloader:function(){$("body").children(".preloader-mask").length?this.removeGlobalPreloader():this.showGlobalPreloader()},enableScrollBars:function(e){this.setScrollBars(e,"auto")},disableScrollBars:function(e){this.setScrollBars(e,"hidden")},setScrollBars:function(e,t){switch(e.toLowerCase()){case"x":$("html").css({"overflow-x":t});break;case"y":$("html").css({"overflow-y":t});break;default:$("html").css({overflow:t})}},getInternetExplorerVersion:function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e},loadCss:function(e,t){var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t&&$(r).attr("id",t),document.getElementsByTagName("head")[0].appendChild(r)},resizeOmbFrameCommon:function(e){var t=$(".ombframe");t.length&&t.attr("height",e+80+"px")},resizeOmbFrameTo:function(e){var t=document.getElementById("ombframe"),r=$(".settings-view").css("background-color");if(t){var n=t.contentWindow||t.contentDocument.parentWindow;n&&n.document.body&&(n.document.body.style.backgroundColor=r),t.height=e}},notifyOmbFrameShow:function(){$(".ombframe").show()},setBehaviourForAmountInput:function(e,t){_.isNumber(arguments[1])&&(t={precision:arguments[1]}),t=$.extend({},{precision:14,scale:2,subSelector:null},t||{}),t.length&&(t.precision=t.length);var r=function(e){var t=[48,49,50,51,52,53,54,55,56,57];return _.contains(t,e)},n=function(e,t){if(/["'%&\(\)\.,!\?#\^\*\|\[\]\{\}\@~\+\_\/\\\$\<\>\~\`]/.test(String.fromCharCode(t))&&"Left"!=e.key&&"ArrowLeft"!=e.key&&"Left"!=e.key&&"ArrowRight"!=e.key&&"Delete"!=e.key)return!1;var r=[9,37,39];if(e.shiftKey&&_.contains(r,t))return!0;var n=[8,9,13,27,33,34,36,37,38,39,40,46];return!!((!1===Ebre.Entity.isPL()||!1===e.shiftKey)&&_.contains(n,t)||e.ctrlKey&&_.contains([120,118,99,97,88,86,67],t))},o={getNamespace:function(e){return e+".amountbehaviour"},unsetBehaviour:function(e){_.each(["keypress","blur","focus","paste"],function(t){e.off(this.getNamespace(t))},this)},setBevaviourForSelection:function(e,t){return this.unsetBehaviour(e),e.on(this.getNamespace("blur"),t,this.handlers.blur).on(this.getNamespace("focus"),t,this.handlers.focus).on(this.getNamespace("keypress"),t,this.handlers.keypress).on(this.getNamespace("paste"),t,this.handlers.paste),e},setBehaviourForRoot:function(e,t){return this.unsetBehaviour(e),e.on(this.getNamespace("blur"),t.subSelector,t,this.handlers.blur).on(this.getNamespace("focus"),t.subSelector,t,this.handlers.focus).on(this.getNamespace("keypress"),t.subSelector,t,this.handlers.keypress).on(this.getNamespace("paste"),t.subSelector,t,this.handlers.paste),e},handlers:{keypress:function(e){var t,o=e.keyCode?e.keyCode:e.charCode,a=String.fromCharCode(o),i=e.data,s=$(this),l=!!this.value.match(/\-/),c=!!this.value.match(/\.|\,/),u=_.contains(["true","data-allow-negative"],s.attr("data-allow-negative")),d=void 0!==s.attr("data-scale")?s.data("scale"):i.scale,m=new RegExp("[\\.\\,]\\d{"+d+"}$");if("-"===a){if(!u)return!1;if(u&&"-"===a&&this.selectionStart)return!1;if(l&&this.value.substring(this.selectionStart,this.selectionEnd))return!0}if(!1===r(o)&&n(e,o))return!0;if(this.selectionStart===this.selectionEnd&&this.selectionStart>this.value.search(/[\.\,]/)&&this.value.match(m))return!1;if(a.match(/[0-9]/)&&this.selectionEnd===this.selectionStart){var h=s.val();if(c&&this.selectionStart>h.search(/\.|\,/));else{h=c?s.val():s.val()+"."+new Array(d+1).join("0"),precision=s.data("data-precision")||i.precision||12;for(var f;(f=h.match(/[\.\,](\d*)/))&&f[1].length<d;)h+="0";if(h.replace(/[\.\,\s]/g,"").length>=precision)return!1}}return t=l&&c?/[0-9]/:c?/[0-9\-]/:l?/[0-9\,\.]/:/[0-9\-\,\.]/,!!a.match(t)&&void 0},blur:function(e){var t=$(this),r=e.data,n=t.val(),o=n.replace(/\s/g,""),a=void 0!==t.attr("data-scale")?t.data("scale"):r.scale,i=o,s=Ebre.Common.getLang().number.format;if(""!==o&&o.match(/^[-+]?\d*[\.\,]*\d*$/)){if(o.match(/^[-+]?0*[\.\,]*0*$/))return _.contains(["true","data-show-zeros"],t.attr("data-show-zeros"))?t.val("0"+s.separator+new Array(a+1).join("0")):t.val(""),!0;var l=/^[-+]?/.exec(i);i=i.replace(/^[-+]?/,""),i=i.replace(/^[-+]?0+/,""),i=i.replace(/^([\.\,])/,"0$1");var c=new RegExp("\\d*[\\.\\,]\\d{"+(a+1)+",}");i.match(c)&&(i=parseFloat(i.replace(/[\.\,]/,".")).toFixed(a));for(var u=i.split(/[\,\.]/),d=u[0],m=u[1],h=/(\d+)(\d{3})/;h.test(d);)d=d.replace(h,"$1"+s.delimiter+"$2");i=d+"."+(m||""),i.match(/[\.\,]/)||(i=i+"."+new Array(a+1).join("0"));for(var f;(f=i.match(/[\.\,](\d*)/))&&f[1].length<a;)i+="0";i=i.replace(/[\.\,]/,s.separator),l&&(i=l+i),t.val(i)}},focus:function(e){""!==this.value&&_.defer(_.bind(function(){var e,t=this.selectionStart,r=this.selectionEnd,n=$(this),o=n.val(),a=o.substr(0,r),i=0;if(o){var s=Ebre.Common.getLang().number,l=s.format.delimiter;if(o=o.replace(/\s/g,""),i+=(e=a.match(/\s/g))?e.length:0," "!=l){var c=new RegExp($.fn.liveSearch("getSearchPattern",l));o=o.replace(c,""),e=null,i+=(e=a.match(c))?e.length:0}this.value=o,t-=i,r-=i,this.selectionStart=t,this.selectionEnd=r}},this))},paste:function(e){var t=$(this),r=t.val(),n=e.data,o=t.attr("data-scale")?t.data("scale"):n.scale;_.defer(function(){var e=t.val();if(""!==e){var n=e.match(/(-?[\d\s\.\,]+[\d])/);if(n){var a=$.trim(n[0]),i=a.match(/\d{1,}([\.\,\s])+/g);if(i&&i.length>1){var s=_.map(i,function(e){return e.replace(/[\,\.\s]/g,"")}),l=a.match(/[\.\,\s](\d{1,})$/),c=l?l[1]:new Array(o+1).join("0"),u=Ebre.Common.getLang().number.format;c.length>o&&(c=parseFloat("0."+c).toFixed(o).replace("0.","")),a=s.join("")+u.separator+c}return t.val(a)}return e.replace(/\s/g,"").match(/^\d+[\.\,]*\d*$/)?void 0:t.val(r)}})}}};return t.subSelector?o.setBehaviourForRoot(e,t):o.setBevaviourForSelection(e,t)},Gemius_event:function(e){function t(e,t){Object.keys(e).forEach(function(r){t.push(r+"="+e[r])})}if("undefined"!=typeof gemius_event){var r=e.getData?e.getData():$.extend({},e),n={type:r.type||"view",id:r.id||void 0!==window.gemius_identifier?0:Ebre.Gemius.Identifier};delete r.type,delete r.id,delete r.profile,delete r.customerId;var o={profile:function(e){return!0===e?"individual":!1===e?"company":null}(Ebre.Venezia.ProfileContext.IsIndividual),customerId:Ebre.Gemius.CustomerId},a=function(e,r,n){var o=[];return o.push("_"+e.type+"_"),o.push(e.id),t(r,o),t(n,o),o}(n,o,r);try{gemius_event.apply(this,a),Ebre.gemiusDebug&&console.log("Gemius data sent: ",a)}catch(e){console.log("Gemius error occured: ",e)}}},rodoPopUp:{show:function(e){e=function(e){return e=e||{},e.message=e.message||I18n.t("rodo.notification.message"),e.dontShowAgainText=e.dontShowAgainText||I18n.t("rodo.notification.dontShowAgainLinkText"),e.closeButtonDescription=e.closeButtonDescription||I18n.t("rodo.notification.closeButtonDescription"),void 0===e.dontShowAgainButtonEnabled&&(e.dontShowAgainButtonEnabled=!0),e}(e);var t=document.body.querySelector("rodo-notification");t?(Ebre.rodoDebug&&console.warn("RODO popup: showing (unhiding existing instance)"),t.setAttribute("hide-popup",!1)):(Ebre.rodoDebug&&console.warn("RODO popup: showing (creating new instance)"),t=document.createElement("rodo-notification"),t.setAttribute("show-as-pop-up","true"),document.body.appendChild(t)),t.setAttribute("dont-show-again-text",e.dontShowAgainText),t.setAttribute("notification-message",e.message),t.setAttribute("close-button-description",e.closeButtonDescription),t.setAttribute("dont-show-again-button-enabled",e.dontShowAgainButtonEnabled),Ebre.Entity.isOF()&&t.setAttribute("theme","orange")},hide:function(){Ebre.rodoDebug&&console.warn("RODO popup: hiding");var e=document.body.querySelector("rodo-notification");e&&e.setAttribute("hide-popup",!0)},isShown:function(){var e=document.body.querySelector("rodo-notification");return!(!e||Boolean(e.getAttribute("hide-popup"))&&"false"!==e.getAttribute("hide-popup"))}}};
Ebre.Proxy={parseWithDateJSON:function(){var e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(Z)?$/,r=/^\/Date\((d|-|.*)\)[\/|\\]$/;return function(n){return JSON.parse(n,function(n,o){var t;if("string"==typeof o){if("/Date(-30610227600000)/"===o)return"Brak";if(t=e.exec(o))return"Z"===t[7]?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6])):new Date(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6]);if(t=r.exec(o)){var a=t[1].split(/[-+,.]/);return new Date(a[0]?+a[0]:0-+a[1])}}return o})}}(),VeneziaGetJSON:function(e){return e.type="GET",Ebre.Proxy.VeneziaJSON(e)},VeneziaPostJSON:function(e){return e.type="POST",Ebre.Proxy.VeneziaJSON(e)},VeneziaGetData:function(e){return e.type="GET",e.contentType="application/x-www-form-urlencoded; charset=UTF-8",Ebre.Proxy.VeneziaJSON(e)},VeneziaPostData:function(e){return e.type="POST",e.contentType="application/x-www-form-urlencoded; charset=UTF-8",Ebre.Proxy.VeneziaJSON(e)},VeneziaDownload:function(e,r,n,o){r=r||{},n=n||{},o=o||{},$.fileDownload(e,{prepareCallback:function(e){r&&r.fn&&r.fn.call(r.scope,e)},successCallback:function(e){o&&o.fn&&o.fn.call(o.scope,e)},failCallback:function(e,r){n&&n.fn&&n.fn.call(n.scope,e,r);var o={};o.status="404",o.responseText=e,Ebre.Proxy.VeneziaParseError(o)}})},VeneziaDownloadPrintout:function(e,r,n,o){Ebre.Proxy.VeneziaDownload(e,r,n,o)},PendingRequests:{},ClearRequests:function(){this.PendingRequests={}},ValidParams:function(e){if(!e.url)throw"Ebre.Proxy.VeneziaJSON: missing url definition. Action: define the missing service url.";if(e.unique&&!/^firstWins$|^lastWins$/i.test(e.unique))throw"Ebre.Proxy.VeneziaJSON: params.unique property should be one of the following values: [firstWins | lastWins] (case insensitive)."},VeneziaJSON:function(e){var r={contentType:"application/json",dataType:"json",cache:!1,groupName:null,unique:null,showPreloader:!0,loaderParent:null};e=$.extend({},r,e),this.ValidParams(e);var n=e.groupName?e.groupName:e.url;return e.converters={"text json":Ebre.Proxy.parseWithDateJSON},e.triggeredBy="VeneziaJSON",e.unique&&(e.uniqueName=n,e.uniqueStrategy=e.unique),Ebre.Proxy.VeneziaAjax(e)},HandleDefaultError:function(e,r){if(null==r||0!=r.status)if(e){if("string"==typeof e){var n=r?r.statusText+" ("+r.status+")":"Unknown status";e={title:n,message:e}}Ebre.Common.createErrorMessage(e)}else Ebre.Common.createErrorMessage("Error","Unknown error occured!")},HandleUnknownError:function(e){Ebre.Common.createErrorMessage("Unknown Error","Unknown error occured.")},ViewLoadErrorHandler:function(){console.log("[Obsolete]: Function Ebre.Proxy.ViewLoadErrorHandler should not be used, view load failure are responsed with JSON");var e=$("<div></div>").html('<p><span class="ui-icon ui-icon-info" style="margin-right: 0.3em; margin-top:1px; float: left;"></span>Unable to retrieve the page from the server.</p>').dialog({autoOpen:!0,closeOnEscape:!1,title:"[Obsolete]: Function Ebre.Proxy.ViewLoadErrorHandler should not be used, view load failure are responsed with JSON",modal:!0,draggable:!1,resizable:!1,height:200,width:400,zIndex:2e3,dialogClass:"error-loading-view-dialog",buttons:[{text:"Close",class:"w100 btn-red-gradient",click:function(){$(this).dialog("close")}}],close:function(){e.remove()}})},GetViewDefaults:{type:"GET",cache:!1,excludeCompletePages:!0,showPreloader:!0,loaderParent:"body",contentType:"application/x-www-form-urlencoded; charset=UTF-8"},GetView:function(){return function(e,r,n){if(!r||"function"!=typeof r)throw"Ebre.Proxy.GetView: a callback function must be defined to process the view retrieved from the server.";"string"==typeof e&&(e={url:e}),n&&(e.uniqueName=n),e=$.extend({},this.GetViewDefaults,e),e.triggeredBy="GetView",Ebre.Proxy.VeneziaAjax(e).done(function(n){if(e.excludeCompletePages&&/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im.test(n))return void Ebre.Proxy.HandleDefaultError({title:"Ebre.Proxy.GetView: Expecting view not a page",message:"I was looking for a view and I received a whole page instead. Have you forgotten to set params.excludeCompletePages to false?"});var o=$(n);e.done&&e.done(n),r(o)})}}(),preparePreloaderParams:function(e){var r=e;return"string"==typeof r&&(r={showPreloader:!0,loaderParent:r}),r&&r.showPreloader&&r.loaderParent||(r=!1),r},showPreloader:function(e){var r;(e=this.preparePreloaderParams(e))&&(this.hidePreloader(e),r=function(){var e=$("<div>",{class:"preloader-mask"}),r=$("<div>",{class:"preloader-icon"});return e.append(r).hide()}(),$(e.loaderParent).prepend(r),r.fadeIn("fast"))},hidePreloader:function(e){if(e=this.preparePreloaderParams(e)){var r=$(e.loaderParent).children(".preloader-mask");r.fadeOut(500,function(){r.remove()})}},showRetry:function(e,r){var n;this.hidePreloader(e),(e=this.preparePreloaderParams(e))&&(n=function(){var e=$("<div>",{class:"preloader-mask"}),n=$("<div>",{class:"preloader-retry btn-red-gradient"});return n.text(I18n.t("retry")),n.on("click",r.resolve),e.append(n)}(),$(e.loaderParent).prepend(n))},VeneziaParseError:function(e,r,n,o){if("abort"!=r){var t;if(!(t=e.getResponseHeader("X-Error-Significance-Level"))||t!==Ebre.Venezia.ErrorSignificanceLevel.IgnoreAllErrors&&t!==Ebre.Venezia.ErrorSignificanceLevel.IgnoreHandledErrors){try{var a,i=Ebre.Proxy.HandleDefaultError;if(/###BEGIN_ERROR_MSG###(.*)###END_ERROR_MSG###/.test(e.responseText)){var s=/###BEGIN_ERROR_MSG###(.*)###END_ERROR_MSG###/.exec(e.responseText)[1];a=$.parseJSON(s)}else a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im.test(e.responseText)?/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im.exec(e.responseText)[1]:$.parseJSON(e.responseText);o=o||i}catch(r){Ebre.Proxy.HandleUnknownError(e)}o(a,e)}}},VeneziaAjax:function(){function e(e){function r(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())}function r(e,n){for(var o in e)if(e.hasOwnProperty(o)){var t=e[o];_.isObject(t)&&!_.isDate(t)?r(t,n):n(e,o)}}function n(n){r(n,function(r,n){var o=r[n];_.isDate(o)&&(r[n]=e(r[n]))})}function o(e){return!e.url||"string"!=typeof e.url}function t(e,r){return r&&"timeout"===r.statusText&&!!e.loaderParent}function a(e){var r=e.promise();return r.success=function(e){return r.done(e)},r.error=function(e){return r.fail(e)},r.complete=function(e){return r.always(e)},r}function i(e){if(o(e))throw new Error("Ebre.Proxy.VeneziaAjax: a url must be defined for the view to get from the server.");return d(e),e}function s(e){var r=e.error;return e.error=null,r}function u(e,r,n){return function(o,a,i){var s=new $.Deferred;t(e,o)?Ebre.Proxy.showRetry(e,s):s.reject(),s.done(function(){c(e,r,n)}),s.fail(function(){Ebre.Proxy.VeneziaParseError(o,a,i,n),r.reject(o,a,i)})}}function c(e,r,n){var o,t=Ebre.Proxy.PendingRequests,a=e.uniqueName,i=(e.uniqueStrategy||"lastwins").toLowerCase();if(a&&"firstwins"==i&&t[a])throw"Aborted operation.";Ebre.Proxy.showPreloader(e);try{o=$.ajax(e)}catch(r){throw Ebre.Proxy.hidePreloader(e),r}if(a){if("lastwins"==i){var s=t[a];s&&s.abort()}t[a]=o,o.always(function(){t[a]===o&&(t[a]=null)})}o.done(r.resolve),o.fail(u(e,r,n))}var l=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z?/,d=function(e){var r=e.data;if(r){var o=!1;if(_.isString(r)){if(!l.test(r))return;r=Ebre.Proxy.parseWithDateJSON(r),o=!0}else r=$.extend(!0,{},r);n(r),e.data=o?JSON.stringify(r):r}};return function(e){var r=new $.Deferred,n=s(e);return i(e),c(e,r,n),r.always(function(){Ebre.Proxy.hidePreloader(e)}),a(r)}}(),GetFacebookDataById:function(e){var r={facebookId:"",success:null,error:function(){}};if("object"==typeof arguments[0]&&(r=$.extend(r,e)),"string"!=typeof arguments[0]&&"number"!=typeof arguments[0]||(r.facebookId=arguments[0],r.success=arguments[1],r.error=arguments[2]),"string"!=typeof r.facebookId&&"number"!=typeof r.facebookId)throw"Ebre.Proxy.GetFacebookDataById: the first argument must be a string or a number of a Facebook Id, or an object containing a facebookId property.";return $.ajax({url:"https://graph.facebook.com/"+r.facebookId,dataType:"JSONP",type:"GET",cache:!1,error:r.error}).done(function(e){e.error?r.error&&r.error():r.success&&r.success(e)})}};
Ebre.BrowserTabsUtils=function(){var t=function(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null},e=function(){try{window.sessionStorage.setItem("test","testValue"),window.sessionStorage.removeItem("test")}catch(t){return!1}return!0},n=function(){return!(0!==window.sessionStorage.length||!t("mBank_tabId"))};return{getStore:function(){return window.navigator.userAgent.indexOf("Safari")>-1&&!e()||n()?{getItem:function(e){return t("mBank_tabId")},setItem:function(t,e){}}:window.sessionStorage}}}(),Ebre.BrowserTabs=function(t,e){return e.ajaxPrefilter(function(e,n,r){var o=t.getItem("tabId");o?r.setRequestHeader("X-Tab-Id",o):r.setRequestHeader("X-Tab-Id","not-found")}),{setTabId:function(e){t.setItem("tabId",e)}}}(Ebre.BrowserTabsUtils.getStore(),$);
Ebre.Utils=function(){var t={},e=function(e,n){t[e]=n},n=function(e){return t[e]},r=function(){t={}},o=function(e){delete t[e]},i=function(t){try{t.setItem("test","testValue"),t.removeItem("test")}catch(t){return!1}return!0};return{getStore:function(t){return window.navigator.userAgent.indexOf("Safari")>-1&&!i(t)?{getItem:function(t){return n(t)},setItem:function(t,n){e(t,n)},clear:function(){r()},removeItem:function(t){o(t)}}:t}}}(),Ebre.UserSession=function(t){return{set:function(e,n){t.setItem(e,n)},get:function(e){return t.getItem(e)},clear:function(){t.clear()}}}(Ebre.Utils.getStore(window.sessionStorage)),Ebre.LocalStorage=function(t){return{set:function(e,n){t.setItem(e,n)},get:function(e){return t.getItem(e)},clear:function(){t.clear()}}}(Ebre.Utils.getStore(window.localStorage)),Ebre.TempData=function(t){return{set:function(e,n){t.setItem(e,JSON.stringify(n))},get:function(e){var n=t.getItem(e);return t.removeItem(e),JSON.parse(n)}}}(Ebre.Utils.getStore(window.sessionStorage));
Array.prototype.push||(Array.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)this[this.length]=arguments[t];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var t=this[0],e=0,n=this.length-1;e<n;e++)this[e]=this[e+1];return this.length=this.length-1,t}}),Array.prototype.splice||(Array.prototype.splice=function(t,e){var n=this.slice(t+e),r=this.slice(t,t+e);this.length=t;for(var o=[],i=0,a=arguments.length;i<a;i++)o[i]=arguments[i];var s=o.length>2?n=o.slice(2).concat(n):n;for(i=0,a=s.length;i<a;i++)this.push(s[i]);return r});var log4javascript=function(){function isUndefined(t){return void 0===t}function EventSupport(){}function Log4JavaScript(){}function toStr(t){return t&&t.toString?t.toString():String(t)}function getExceptionMessage(t){return t.message?t.message:t.description?t.description:toStr(t)}function getUrlFileName(t){var e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return t.substr(e+1)}function getExceptionStringRep(t){if(t){var e="Exception: "+getExceptionMessage(t);try{t.lineNumber&&(e+=" on line number "+t.lineNumber),t.fileName&&(e+=" in file "+getUrlFileName(t.fileName))}catch(t){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&t.stack&&(e+=newLine+"Stack trace:"+newLine+t.stack),e}return null}function bool(t){return Boolean(t)}function trim(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(t){return t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function array_remove(t,e){for(var n=-1,r=0,o=t.length;r<o;r++)if(t[r]===e){n=r;break}return n>=0&&(t.splice(n,1),!0)}function array_contains(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]==e)return!0;return!1}function extractBooleanFromParam(t,e){return isUndefined(t)?e:bool(t)}function extractStringFromParam(t,e){return isUndefined(t)?e:String(t)}function extractIntFromParam(t,e){if(isUndefined(t))return e;try{var n=parseInt(t,10);return isNaN(n)?e:n}catch(n){return logLog.warn("Invalid int param "+t,n),e}}function extractFunctionFromParam(t,e){return"function"==typeof t?t:e}function isError(t){return t instanceof Error}function getListenersPropertyName(t){return"__log4javascript_listeners__"+t}function addEvent(t,e,n,r,o){if(o=o||window,t.addEventListener)t.addEventListener(e,n,r);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=getListenersPropertyName(e);t[i]||(t[i]=[],t["on"+e]=function(t){t=getEvent(t,o);for(var n,r=getListenersPropertyName(e),i=this[r].concat([]);n=i.shift();)n.call(this,t)}),t[i].push(n)}}function removeEvent(t,e,n,r){if(t.removeEventListener)t.removeEventListener(e,n,r);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var o=getListenersPropertyName(e);t[o]&&array_remove(t[o],n)}}function getEvent(t,e){return e=e||window,t||e.event}function stopEventPropagation(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&(t.cancelBubble=!0),t.returnValue=!1}function handleError(t,e){logLog.error(t,e),log4javascript.dispatchEvent("error",{message:t,exception:e})}function Timer(t,e){this.name=t,this.level=isUndefined(e)?Level.INFO:e,this.start=new Date}function Logger(t){this.name=t,this.parent=null,this.children=[];var e=[],n=null,r=this.name===rootLoggerName,o=this.name===nullLoggerName,i=null,a=!1;this.addChild=function(t){this.children.push(t),t.parent=this,t.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(t){var e=s!=t;s=t,e&&this.invalidateAppenderCache()},this.addAppender=function(t){o?handleError("Logger.addAppender: you may not add an appender to the null logger"):t instanceof log4javascript.Appender?array_contains(e,t)||(e.push(t),t.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(t)+"') is not a subclass of Appender")},this.removeAppender=function(t){array_remove(e,t),t.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var t=e.length;if(t>0){for(var n=0;n<t;n++)e[n].setRemovedFromLogger(this);e.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===i||a){var t=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();i=t.concat(e),a=!1}return i},this.invalidateAppenderCache=function(){a=!0;for(var t=0,e=this.children.length;t<e;t++)this.children[t].invalidateAppenderCache()},this.log=function(t,e){if(enabled&&t.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=e.length-1,o=e[r];e.length>1&&isError(o)&&(n=o,r--);for(var i=[],a=0;a<=r;a++)i[a]=e[a];var s=new LoggingEvent(this,new Date,t,i,n);this.callAppenders(s)}},this.callAppenders=function(t){for(var e=this.getEffectiveAppenders(),n=0,r=e.length;n<r;n++)e[n].doAppend(t)},this.setLevel=function(t){r&&null===t?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):t instanceof Level?n=t:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var t=this;null!==t;t=t.parent){var e=t.getLevel();if(null!==e)return e}},this.group=function(t,e){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,o=n.length;r<o;r++)n[r].group(t,e)},this.groupEnd=function(){if(enabled)for(var t=this.getEffectiveAppenders(),e=0,n=t.length;e<n;e++)t[e].groupEnd()};var l={};this.time=function(t,e){enabled&&(isUndefined(t)?handleError("Logger.time: a name for the timer must be supplied"):!e||e instanceof Level?l[t]=new Timer(t,e):handleError("Logger.time: level supplied to timer "+t+" is not an instance of log4javascript.Level"))},this.timeEnd=function(t){if(enabled)if(isUndefined(t))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(l[t]){var e=l[t],n=e.getElapsedTime();this.log(e.level,["Timer "+toStr(t)+" completed in "+n+"ms"]),delete l[t]}else logLog.warn("Logger.timeEnd: no timer found with name "+t)},this.assert=function(t){if(enabled&&!t){for(var e=[],n=1,r=arguments.length;n<r;n++)e.push(arguments[n]);e=e.length>0?e:["Assertion Failure"],e.push(newLine),e.push(t),this.log(Level.ERROR,e)}},this.toString=function(){return"Logger["+this.name+"]"}}function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(t){this.combineMessages=extractBooleanFromParam(t,!0),this.customFields=[]}function escapeNewLines(t){return t.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(t,e){this.readable=extractBooleanFromParam(t,!1),this.combineMessages=extractBooleanFromParam(e,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(t,e,n){function r(t,e,n){function i(t){for(var e=splitIntoLines(t),r=1,o=e.length;r<o;r++)e[r]=n+e[r];return e.join(newLine)}var a,s,l,c,d,p,h;if(n||(n=""),null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return i(t);if("object"==typeof t&&array_contains(o,t)){try{p=toStr(t)}catch(t){p="Error formatting property. Details: "+getExceptionStringRep(t)}return p+" [already expanded]"}if(t instanceof Array&&e>0){for(o.push(t),p="["+newLine,l=e-1,c=n+"  ",d=[],a=0,s=t.length;a<s;a++)try{h=r(t[a],l,c),d.push(c+h)}catch(t){d.push(c+"Error formatting array member. Details: "+getExceptionStringRep(t))}return p+=d.join(","+newLine)+newLine+n+"]"}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==typeof t&&e>0){o.push(t),p="{"+newLine,l=e-1,c=n+"  ",d=[];for(a in t)try{h=r(t[a],l,c),d.push(c+a+": "+h)}catch(t){d.push(c+a+": Error formatting property. Details: "+getExceptionStringRep(t))}return p+=d.join(","+newLine)+newLine+n+"}"}return i(toStr(t))}var o=[];return r(t,e,n)}function PatternLayout(t){this.pattern=t||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}function isHttpRequestSuccessful(t){return isUndefined(t.status)||0===t.status||t.status>=200&&t.status<300||1223==t.status}function AjaxAppender(t){function e(t){return!A||(handleError("AjaxAppender: configuration option '"+t+"' may not be set after the appender has been initialized"),!1)}function n(){if(h&&enabled){S=!0;var t;if(g)x.length>0?(t=x.shift(),s(o(t),n)):(S=!1,u&&i());else{for(;t=x.shift();)s(o(t));S=!1,u&&i()}}}function r(){var t=!1;if(h&&enabled){for(var e,r=p.getLayout().allowBatching()?m:1,o=[];e=b.shift();)o.push(e),b.length>=r&&(x.push(o),o=[]);o.length>0&&x.push(o),t=x.length>0,g=!1,u=!1,n()}return t}function o(t){for(var e,n=[],r="";e=t.shift();){var o=p.getLayout().format(e);p.getLayout().ignoresThrowable()&&(o+=e.getThrowableStrRep()),n.push(o)}return r=1==t.length?n.join(""):p.getLayout().batchHeader+n.join(p.getLayout().batchSeparator)+p.getLayout().batchFooter,w==p.defaults.contentType&&(r=p.getLayout().returnsPostData?r:urlEncode(E)+"="+urlEncode(r),r.length>0&&(r+="&"),r+="layout="+urlEncode(p.getLayout().toString())),r}function i(){window.setTimeout(n,f)}function a(){var t="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(t),h=!1,y&&y(t)}function s(e,n){try{var r=getXmlHttp(a);if(h){r.overrideMimeType&&r.overrideMimeType(p.getLayout().getContentType()),r.onreadystatechange=function(){if(4==r.readyState){if(isHttpRequestSuccessful(r))v&&v(r),n&&n(r);else{var e="AjaxAppender.append: XMLHttpRequest request to URL "+t+" returned status code "+r.status;handleError(e),y&&y(e)}r.onreadystatechange=emptyFunction,r=null}},r.open("POST",t,d());try{for(var o,i=0;o=T[i++];)r.setRequestHeader(o.name,o.value);r.setRequestHeader("Content-Type",w)}catch(t){var s="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(s),h=!1,void(y&&y(s))}r.send(e)}}catch(e){var l="AjaxAppender.append: error sending log message to "+t;handleError(l,e),h=!1,y&&y(l+". Details: "+getExceptionStringRep(e))}}function l(){if(A=!0,L){var t=window.onbeforeunload;window.onbeforeunload=function(){t&&t(),c()}}u&&i()}function c(){this.pageUnloading=!0,r()}function d(){return!this.pageUnloading}var p=this,h=!0;t||(handleError("AjaxAppender: URL must be specified in constructor"),h=!1);var u=this.defaults.timed,g=this.defaults.waitForResponse,m=this.defaults.batchSize,f=this.defaults.timerInterval,v=this.defaults.requestSuccessCallback,y=this.defaults.failCallback,E=this.defaults.postVarName,L=this.defaults.sendAllOnUnload,w=this.defaults.contentType,C=null,b=[],x=[],T=[],S=!1,A=!1;this.getSessionId=function(){return C},this.setSessionId=function(t){C=extractStringFromParam(t,null),this.layout.setCustomField("sessionid",C)},this.setLayout=function(t){e("layout")&&(this.layout=t,null!==C&&this.setSessionId(C))},this.isTimed=function(){return u},this.setTimed=function(t){e("timed")&&(u=bool(t))},this.getTimerInterval=function(){return f},this.setTimerInterval=function(t){e("timerInterval")&&(f=extractIntFromParam(t,f))},this.isWaitForResponse=function(){return g},this.setWaitForResponse=function(t){e("waitForResponse")&&(g=bool(t))},this.getBatchSize=function(){return m},this.setBatchSize=function(t){e("batchSize")&&(m=extractIntFromParam(t,m))},this.isSendAllOnUnload=function(){return L},this.setSendAllOnUnload=function(t){e("sendAllOnUnload")&&(L=extractBooleanFromParam(t,L))},this.setRequestSuccessCallback=function(t){v=extractFunctionFromParam(t,v)},this.setFailCallback=function(t){y=extractFunctionFromParam(t,y)},this.getPostVarName=function(){return E},this.setPostVarName=function(t){e("postVarName")&&(E=extractStringFromParam(t,E))},this.getHeaders=function(){return T},this.addHeader=function(t,e){"content-type"==t.toLowerCase()?w=e:T.push({name:t,value:e})},this.sendAll=n,this.sendAllRemaining=r,this.append=function(t){if(h){A||l(),b.push(t);var e=this.getLayout().allowBatching()?m:1;if(b.length>=e){for(var r,o=[];r=b.shift();)o.push(r);x.push(o),u||g&&(!g||S)||n()}}}}function setCookie(t,e,n,r){var o;if(r=r?"; path="+r:"",n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()}else o="";document.cookie=escape(t)+"="+escape(e)+o+r}function getCookie(t){for(var e=escape(t)+"=",n=document.cookie.split(";"),r=0,o=n.length;r<o;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return unescape(i.substring(e.length,i.length))}return null}function getBaseUrl(){for(var t=document.getElementsByTagName("script"),e=0,n=t.length;e<n;++e)if(-1!=t[e].src.indexOf("log4javascript")){var r=t[e].src.lastIndexOf("/");return-1==r?"":t[e].src.substr(0,r+1)}return null}function isLoaded(t){try{return bool(t.loaded)}catch(t){return!1}}function padWithSpaces(t,e){if(t.length<e){for(var n=[],r=Math.max(0,e-t.length),o=0;o<r;o++)n[o]=" ";t+=n.join("")}return t}EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(t){if(t instanceof Array){this.eventTypes=t,this.eventListeners={};for(var e=0,n=this.eventTypes.length;e<n;e++)this.eventListeners[this.eventTypes[e]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(t,e){"function"==typeof e?(array_contains(this.eventTypes,t)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+t+"'"),this.eventListeners[t].push(e)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(t,e){"function"==typeof e?(array_contains(this.eventTypes,t)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+t+"'"),array_remove(this.eventListeners[t],e)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(t,e){if(array_contains(this.eventTypes,t))for(var n=this.eventListeners[t],r=0,o=n.length;r<o;r++)n[r](this,t,e);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+t+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;Log4JavaScript.prototype=new EventSupport,log4javascript=new Log4JavaScript,log4javascript.version="1.4.6",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(t){return encodeURIComponent(t)}:function(t){return escape(t).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")},urlDecode=void 0!==window.decodeURIComponent?function(t){return decodeURIComponent(t)}:function(t){return unescape(t).replace(/%2B/g,"+").replace(/%22/g,'"').replace(/%27/g,"'").replace(/%2F/g,"/").replace(/%3D/g,"=")};Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(t){for(var e=[],n=1,r=arguments.length;n<r;n++)e[n-1]=arguments[n];return this.apply(t,e)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(t){this.quietMode=bool(t)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(t){this.alertAllErrors=t},debug:function(t){this.debugMessages.push(t)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(t,e){},error:function(t,e){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+t;e&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(e)),alert(n)}}};log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(t){enabled=bool(t)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(t){useTimeStampsInMilliseconds=bool(t)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(t){showStackTraces=bool(t)};var Level=function(t,e){this.level=t,this.name=e};Level.prototype={toString:function(){return this.name},equals:function(t){return this.level==t.level},isGreaterOrEqual:function(t){return this.level>=t.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(t){return t.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(t){if("string"!=typeof t&&(t="[anonymous]",logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(t)+" supplied, returning anonymous logger")),t==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[t]){var e=new Logger(t);loggers[t]=e,loggerNames.push(t);var n,r=t.lastIndexOf(".");if(r>-1){var o=t.substring(0,r);n=log4javascript.getLogger(o)}else n=rootLogger;n.addChild(e)}return loggers[t]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){if(!defaultLogger){defaultLogger=log4javascript.getLogger("[default]");var t=new log4javascript.PopUpAppender;defaultLogger.addAppender(t)}return defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName),nullLogger.setLevel(Level.OFF)),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(t,e,n,r,o){this.logger=t,this.timeStamp=e,this.timeStampInMilliseconds=e.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.url=window.location.href,this.messages=r,this.exception=o};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(t){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(t)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(t){return this.isTimeStampsInMilliseconds()?t.timeStampInMilliseconds:t.timeStampInSeconds},getDataValues:function(t,e){var n=[[this.loggerKey,t.logger.name],[this.timeStampKey,this.getTimeStampValue(t)],[this.levelKey,t.level.name],[this.urlKey,t.url],[this.messageKey,e?t.getCombinedMessages():t.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,t.milliseconds]),t.exception&&n.push([this.exceptionKey,getExceptionStringRep(t.exception)]),this.hasCustomFields())for(var r=0,o=this.customFields.length;r<o;r++){var i=this.customFields[r].value;"function"==typeof i&&(i=i(this,t)),n.push([this.customFields[r].name,i])}return n},setKeys:function(t,e,n,r,o,i,a){this.loggerKey=extractStringFromParam(t,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(e,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(o,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(i,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(a,this.defaults.millisecondsKey)},setCustomField:function(t,e){for(var n=!1,r=0,o=this.customFields.length;r<o;r++)this.customFields[r].name===t&&(this.customFields[r].value=e,n=!0);n||this.customFields.push({name:t,value:e})},hasCustomFields:function(){return this.customFields.length>0},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){};Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(t){enabled&&t.level.level>=this.threshold.level&&this.append(t)},Appender.prototype.append=function(t){},Appender.prototype.setLayout=function(t){t instanceof Layout?this.layout=t:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(t){t instanceof Level?this.threshold=t:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(t){this.loggers.push(t)},Appender.prototype.setRemovedFromLogger=function(t){array_remove(this.loggers,t)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(t){return t.level.name+" - "+t.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(t){return t.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(t){return t.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(t){function e(t){return t="string"==typeof t?t:toStr(t),"<log4javascript:message><![CDATA["+o.escapeCdata(t)+"]]></log4javascript:message>"}var n,r,o=this,i='<log4javascript:event logger="'+t.logger.name+'" timestamp="'+this.getTimeStampValue(t)+'"';if(this.isTimeStampsInMilliseconds()||(i+=' milliseconds="'+t.milliseconds+'"'),i+=' level="'+t.level.name+'">'+newLine,this.combineMessages)i+=e(t.getCombinedMessages());else{for(i+="<log4javascript:messages>"+newLine,n=0,r=t.messages.length;n<r;n++)i+=e(t.messages[n])+newLine;i+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(n=0,r=this.customFields.length;n<r;n++)i+='<log4javascript:customfield name="'+this.customFields[n].name+'"><![CDATA['+this.customFields[n].value.toString()+"]]></log4javascript:customfield>"+newLine;return t.exception&&(i+="<log4javascript:exception><![CDATA["+getExceptionStringRep(t.exception)+"]]></log4javascript:exception>"+newLine),i+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(t){function e(t,n,r){var i,a=typeof t;if(t instanceof Date)i=String(t.getTime());else if(r&&t instanceof Array){i="["+o.lineBreak;for(var s=0,l=t.length;s<l;s++){var c=n+o.tab;i+=c+e(t[s],c,!1),s<t.length-1&&(i+=","),i+=o.lineBreak}i+=n+"]"}else i="number"!==a&&"boolean"!==a?'"'+escapeNewLines(toStr(t).replace(/\"/g,'\\"'))+'"':t;return i}var n,r,o=this,i=this.getDataValues(t,this.combineMessages),a="{"+this.lineBreak;for(n=0,r=i.length-1;n<=r;n++)a+=this.tab+'"'+i[n][0]+'"'+this.colon+e(i[n][1],this.tab,!0),n<r&&(a+=","),a+=this.lineBreak;return a+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(t){for(var e=this.getDataValues(t),n=[],r=0,o=e.length;r<o;r++){var i=e[r][1]instanceof Date?String(e[r][1].getTime()):e[r][1];n.push(urlEncode(e[r][0])+"="+urlEncode(i))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(t){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout;var SimpleDateFormat;!function(){var t=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},o=function(t,e,n){var r=new Date(t,e,n,0,0,0);return r.setMilliseconds(0),r};Date.prototype.getDifference=function(t){return this.getTime()-t.getTime()},Date.prototype.isBefore=function(t){return this.getTime()<t.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(t){return this.getUTCTime()-t.getUTCTime()},Date.prototype.getPreviousSunday=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),e=new Date(t.getTime()-864e5*this.getDay());return o(e.getFullYear(),e.getMonth(),e.getDate())},Date.prototype.getWeekInYear=function(t){isUndefined(this.minimalDaysInFirstWeek)&&(t=1);var e=this.getPreviousSunday(),n=o(this.getFullYear(),0,1),r=e.isBefore(n)?0:1+Math.floor(e.getTimeSince(n)/6048e5),i=7-n.getDay(),a=r;return i<t&&a--,a},Date.prototype.getWeekInMonth=function(t){isUndefined(this.minimalDaysInFirstWeek)&&(t=1);var e=this.getPreviousSunday(),n=o(this.getFullYear(),this.getMonth(),1),r=e.isBefore(n)?0:1+Math.floor(e.getTimeSince(n)/6048e5),i=7-n.getDay(),a=r;return i>=t&&a++,a},Date.prototype.getDayInYear=function(){var t=o(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(t)/864e5)},SimpleDateFormat=function(t){this.formatString=t},SimpleDateFormat.prototype.setMinimalDaysInFirstWeek=function(t){this.minimalDaysInFirstWeek=t},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var i=function(t,e){for(;t.length<e;)t="0"+t;return t},a=function(t,e,n){return e>=4?t:t.substr(0,Math.max(n,e))},s=function(t,e){return i(""+t,e)};SimpleDateFormat.prototype.format=function(o){for(var l,c="",d=this.formatString;l=t.exec(d);){var p=l[1],h=l[2],u=l[3],g=l[4];if(p)c+="''"==p?"'":p.substring(1,p.length-1);else if(u);else if(g)c+=g;else if(h){var m=h.charAt(0),f=h.length,v="";switch(m){case"G":v="AD";break;case"y":v=o.getFullYear();break;case"M":v=o.getMonth();break;case"w":v=o.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":v=o.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":v=o.getDayInYear();break;case"d":v=o.getDate();break;case"F":v=1+Math.floor((o.getDate()-1)/7);break;case"E":v=n[o.getDay()];break;case"a":v=o.getHours()>=12?"PM":"AM";break;case"H":v=o.getHours();break;case"k":v=o.getHours()||24;break;case"K":v=o.getHours()%12;break;case"h":v=o.getHours()%12||12;break;case"m":v=o.getMinutes();break;case"s":v=o.getSeconds();break;case"S":v=o.getMilliseconds();break;case"Z":v=o.getTimezoneOffset()}switch(r[m]){case 0:c+=a(v,f,2);break;case 1:c+=a(v,f,3);break;case 2:c+=s(v,f);break;case 3:if(f<=3){var y=""+v;c+=y.substr(2,2)}else c+=s(v,f);break;case 4:c+=f>=3?a(e[v],f,f):s(v+1,f);break;case 5:var E=v>0,L=E?"-":"+",w=Math.abs(v),C=""+Math.floor(w/60);C=i(C,2);var b=""+w%60;b=i(b,2),c+=L+C+b}}d=d.substr(l.index+l[0].length)}return c}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(t){for(var e,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",o=this.pattern;e=n.exec(o);){var i=e[0],a=e[1],s=e[2],l=e[3],c=e[5],d=e[6];if(d)r+=""+d;else{var p="";switch(l){case"a":case"m":var h=0;c&&(h=parseInt(c,10),isNaN(h)&&(handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character '"+l+"' - should be a number"),h=0));for(var u="a"===l?t.messages[0]:t.messages,g=0,m=u.length;g<m;g++)g>0&&" "!==p.charAt(p.length-1)&&(p+=" "),p+=0===h?u[g]:formatObjectExpansion(u[g],h);break;case"c":var f=t.logger.name;if(c){var v=parseInt(c,10),y=t.logger.name.split(".");p=v>=y.length?f:y.slice(y.length-v).join(".")}else p=f;break;case"d":var E=PatternLayout.ISO8601_DATEFORMAT;c&&(E=c,"ISO8601"==E?E=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==E?E=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==E&&(E=PatternLayout.DATETIME_DATEFORMAT)),p=new SimpleDateFormat(E).format(t.timeStamp);break;case"f":if(this.hasCustomFields()){var L=0;c&&(L=parseInt(c,10),isNaN(L)?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - should be a number"):0===L?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - must be greater than zero"):L>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - there aren't that many custom fields"):L-=1);var w=this.customFields[L].value;"function"==typeof w&&(w=w(this,t)),p=w}break;case"n":p=newLine;break;case"p":p=t.level.name;break;case"r":p=""+t.timeStamp.getDifference(applicationStartDate);break;case"%":p="%";break;default:p=i}var C;if(s){C=parseInt(s.substr(1),10);var b=p.length;C<b&&(p=p.substring(b-C,b))}if(a)if("-"==a.charAt(0))for(C=parseInt(a.substr(1),10);p.length<C;)p+=" ";else for(C=parseInt(a,10);p.length<C;)p=" "+p;r+=p}o=o.substr(e.index+e[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(t){var e=this.getLayout().format(t);this.getLayout().ignoresThrowable()&&(e+=t.getThrowableStrRep()),alert(e)},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(t){var e=this,n=function(){var n=e.getLayout(),r=n.format(t);return n.ignoresThrowable()&&t.exception&&(r+=t.getThrowableStrRep()),r};if("undefined"!=typeof opera&&opera.postError)opera.postError(n());else if(window.console&&window.console.log){var r=n();window.console.debug&&Level.DEBUG.isGreaterOrEqual(t.level)?window.console.debug(r):window.console.info&&Level.INFO.equals(t.level)?window.console.info(r):window.console.warn&&Level.WARN.equals(t.level)?window.console.warn(r):window.console.error&&t.level.isGreaterOrEqual(Level.ERROR)?window.console.error(r):window.console.log(r)}},BrowserConsoleAppender.prototype.group=function(t){window.console&&window.console.group&&window.console.group(t)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xmlHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],getXmlHttp=function(t){for(var e,n=null,r=0,o=xmlHttpFactories.length;r<o;r++){e=xmlHttpFactories[r];try{return n=e(),getXmlHttp=e,n}catch(t){}}t?t():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")};AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.pageUnloading=!1,AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender;var ConsoleAppender;if(function(){function t(t,e,n,r,o){this.create(!1,null,t,e,n,r,o,this.defaults.focusPopUp)}function e(t,e,n,r,o,i){this.create(!0,t,e,n,r,o,i,!1)}var n=function(){return['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"\t<head>","\t\t<title>log4javascript</title>",'\t\t<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\t\t\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'\t\t<meta http-equiv="X-UA-Compatible" content="IE=7" />','\t\t<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\t\t\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\t\t\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','\t\t<script type="text/javascript">',"\t\t\t//<![CDATA[","\t\t\tvar loggingEnabled = true;","\t\t\tvar logQueuedEventsTimer = null;","\t\t\tvar logEntries = [];","\t\t\tvar logEntriesAndSeparators = [];","\t\t\tvar logItems = [];","\t\t\tvar renderDelay = 100;","\t\t\tvar unrenderedLogItemsExist = false;","\t\t\tvar rootGroup, currentGroup = null;","\t\t\tvar loaded = false;","\t\t\tvar currentLogItem = null;","\t\t\tvar logMainContainer;","","\t\t\tfunction copyProperties(obj, props) {","\t\t\t\tfor (var i in props) {","\t\t\t\t\tobj[i] = props[i];","\t\t\t\t}","\t\t\t}","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogItem() {","\t\t\t}","","\t\t\tLogItem.prototype = {","\t\t\t\tmainContainer: null,","\t\t\t\twrappedContainer: null,","\t\t\t\tunwrappedContainer: null,","\t\t\t\tgroup: null,","","\t\t\t\tappendToLog: function() {","\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\tthis.elementContainers[i].appendToLog();","\t\t\t\t\t}","\t\t\t\t\tthis.group.update();","\t\t\t\t},","","\t\t\t\tdoRemove: function(doUpdate, removeFromGroup) {","\t\t\t\t\tif (this.rendered) {","\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\t\tthis.elementContainers[i].remove();","\t\t\t\t\t\t}","\t\t\t\t\t\tthis.unwrappedElementContainer = null;","\t\t\t\t\t\tthis.wrappedElementContainer = null;","\t\t\t\t\t\tthis.mainElementContainer = null;","\t\t\t\t\t}","\t\t\t\t\tif (this.group && removeFromGroup) {","\t\t\t\t\t\tthis.group.removeChild(this, doUpdate);","\t\t\t\t\t}","\t\t\t\t\tif (this === currentLogItem) {","\t\t\t\t\t\tcurrentLogItem = null;","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tremove: function(doUpdate, removeFromGroup) {","\t\t\t\t\tthis.doRemove(doUpdate, removeFromGroup);","\t\t\t\t},","","\t\t\t\trender: function() {},","","\t\t\t\taccept: function(visitor) {","\t\t\t\t\tvisitor.visit(this);","\t\t\t\t},","","\t\t\t\tgetUnwrappedDomContainer: function() {","\t\t\t\t\treturn this.group.unwrappedElementContainer.contentDiv;","\t\t\t\t},","","\t\t\t\tgetWrappedDomContainer: function() {","\t\t\t\t\treturn this.group.wrappedElementContainer.contentDiv;","\t\t\t\t},","","\t\t\t\tgetMainDomContainer: function() {","\t\t\t\t\treturn this.group.mainElementContainer.contentDiv;","\t\t\t\t}","\t\t\t};","","\t\t\tLogItem.serializedItemKeys = {LOG_ENTRY: 0, GROUP_START: 1, GROUP_END: 2};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogItemContainerElement() {","\t\t\t}","","\t\t\tLogItemContainerElement.prototype = {","\t\t\t\tappendToLog: function() {","\t\t\t\t\tvar insertBeforeFirst = (newestAtTop && this.containerDomNode.hasChildNodes());","\t\t\t\t\tif (insertBeforeFirst) {","\t\t\t\t\t\tthis.containerDomNode.insertBefore(this.mainDiv, this.containerDomNode.firstChild);","\t\t\t\t\t} else {","\t\t\t\t\t\tthis.containerDomNode.appendChild(this.mainDiv);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction SeparatorElementContainer(containerDomNode) {","\t\t\t\tthis.containerDomNode = containerDomNode;",'\t\t\t\tthis.mainDiv = document.createElement("div");','\t\t\t\tthis.mainDiv.className = "separator";','\t\t\t\tthis.mainDiv.innerHTML = "&nbsp;";',"\t\t\t}","","\t\t\tSeparatorElementContainer.prototype = new LogItemContainerElement();","","\t\t\tSeparatorElementContainer.prototype.remove = function() {","\t\t\t\tthis.mainDiv.parentNode.removeChild(this.mainDiv);","\t\t\t\tthis.mainDiv = null;","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction Separator() {","\t\t\t\tthis.rendered = false;","\t\t\t}","","\t\t\tSeparator.prototype = new LogItem();","","\t\t\tcopyProperties(Separator.prototype, {","\t\t\t\trender: function() {","\t\t\t\t\tvar containerDomNode = this.group.contentDiv;","\t\t\t\t\tif (isIe) {","\t\t\t\t\t\tthis.unwrappedElementContainer = new SeparatorElementContainer(this.getUnwrappedDomContainer());","\t\t\t\t\t\tthis.wrappedElementContainer = new SeparatorElementContainer(this.getWrappedDomContainer());","\t\t\t\t\t\tthis.elementContainers = [this.unwrappedElementContainer, this.wrappedElementContainer];","\t\t\t\t\t} else {","\t\t\t\t\t\tthis.mainElementContainer = new SeparatorElementContainer(this.getMainDomContainer());","\t\t\t\t\t\tthis.elementContainers = [this.mainElementContainer];","\t\t\t\t\t}","\t\t\t\t\tthis.content = this.formattedMessage;","\t\t\t\t\tthis.rendered = true;","\t\t\t\t}","\t\t\t});","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction GroupElementContainer(group, containerDomNode, isRoot, isWrapped) {","\t\t\t\tthis.group = group;","\t\t\t\tthis.containerDomNode = containerDomNode;","\t\t\t\tthis.isRoot = isRoot;","\t\t\t\tthis.isWrapped = isWrapped;","\t\t\t\tthis.expandable = false;","","\t\t\t\tif (this.isRoot) {","\t\t\t\t\tif (isIe) {",'\t\t\t\t\t\tthis.contentDiv = logMainContainer.appendChild(document.createElement("div"));','\t\t\t\t\t\tthis.contentDiv.id = this.isWrapped ? "log_wrapped" : "log_unwrapped";',"\t\t\t\t\t} else {","\t\t\t\t\t\tthis.contentDiv = logMainContainer;","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\tvar groupElementContainer = this;","\t\t\t\t\t",'\t\t\t\t\tthis.mainDiv = document.createElement("div");','\t\t\t\t\tthis.mainDiv.className = "group";',"",'\t\t\t\t\tthis.headingDiv = this.mainDiv.appendChild(document.createElement("div"));','\t\t\t\t\tthis.headingDiv.className = "groupheading";',"",'\t\t\t\t\tthis.expander = this.headingDiv.appendChild(document.createElement("span"));','\t\t\t\t\tthis.expander.className = "expander unselectable greyedout";',"\t\t\t\t\tthis.expander.unselectable = true;",'\t\t\t\t\tvar expanderText = this.group.expanded ? "-" : "+";',"\t\t\t\t\tthis.expanderTextNode = this.expander.appendChild(document.createTextNode(expanderText));","\t\t\t\t\t",'\t\t\t\t\tthis.headingDiv.appendChild(document.createTextNode(" " + this.group.name));',"",'\t\t\t\t\tthis.contentDiv = this.mainDiv.appendChild(document.createElement("div"));','\t\t\t\t\tvar contentCssClass = this.group.expanded ? "expanded" : "collapsed";','\t\t\t\t\tthis.contentDiv.className = "groupcontent " + contentCssClass;',"","\t\t\t\t\tthis.expander.onclick = function() {","\t\t\t\t\t\tif (groupElementContainer.group.expandable) {","\t\t\t\t\t\t\tgroupElementContainer.group.toggleExpanded();","\t\t\t\t\t\t}","\t\t\t\t\t};","\t\t\t\t}","\t\t\t}","","\t\t\tGroupElementContainer.prototype = new LogItemContainerElement();","","\t\t\tcopyProperties(GroupElementContainer.prototype, {","\t\t\t\ttoggleExpanded: function() {","\t\t\t\t\tif (!this.isRoot) {","\t\t\t\t\t\tvar oldCssClass, newCssClass, expanderText;","\t\t\t\t\t\tif (this.group.expanded) {",'\t\t\t\t\t\t\tnewCssClass = "expanded";','\t\t\t\t\t\t\toldCssClass = "collapsed";','\t\t\t\t\t\t\texpanderText = "-";',"\t\t\t\t\t\t} else {",'\t\t\t\t\t\t\tnewCssClass = "collapsed";','\t\t\t\t\t\t\toldCssClass = "expanded";','\t\t\t\t\t\t\texpanderText = "+";',"\t\t\t\t\t\t}","\t\t\t\t\t\treplaceClass(this.contentDiv, newCssClass, oldCssClass);","\t\t\t\t\t\tthis.expanderTextNode.nodeValue = expanderText;","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tremove: function() {","\t\t\t\t\tif (!this.isRoot) {","\t\t\t\t\t\tthis.headingDiv = null;","\t\t\t\t\t\tthis.expander.onclick = null;","\t\t\t\t\t\tthis.expander = null;","\t\t\t\t\t\tthis.expanderTextNode = null;","\t\t\t\t\t\tthis.contentDiv = null;","\t\t\t\t\t\tthis.containerDomNode = null;","\t\t\t\t\t\tthis.mainDiv.parentNode.removeChild(this.mainDiv);","\t\t\t\t\t\tthis.mainDiv = null;","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\treverseChildren: function() {","\t\t\t\t\t// Invert the order of the log entries","\t\t\t\t\tvar node = null;","","\t\t\t\t\t// Remove all the log container nodes","\t\t\t\t\tvar childDomNodes = [];","\t\t\t\t\twhile ((node = this.contentDiv.firstChild)) {","\t\t\t\t\t\tthis.contentDiv.removeChild(node);","\t\t\t\t\t\tchildDomNodes.push(node);","\t\t\t\t\t}","","\t\t\t\t\t// Put them all back in reverse order","\t\t\t\t\twhile ((node = childDomNodes.pop())) {","\t\t\t\t\t\tthis.contentDiv.appendChild(node);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tupdate: function() {","\t\t\t\t\tif (!this.isRoot) {","\t\t\t\t\t\tif (this.group.expandable) {",'\t\t\t\t\t\t\tremoveClass(this.expander, "greyedout");',"\t\t\t\t\t\t} else {",'\t\t\t\t\t\t\taddClass(this.expander, "greyedout");',"\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tclear: function() {","\t\t\t\t\tif (this.isRoot) {",'\t\t\t\t\t\tthis.contentDiv.innerHTML = "";',"\t\t\t\t\t}","\t\t\t\t}","\t\t\t});","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction Group(name, isRoot, initiallyExpanded) {","\t\t\t\tthis.name = name;","\t\t\t\tthis.group = null;","\t\t\t\tthis.isRoot = isRoot;","\t\t\t\tthis.initiallyExpanded = initiallyExpanded;","\t\t\t\tthis.elementContainers = [];","\t\t\t\tthis.children = [];","\t\t\t\tthis.expanded = initiallyExpanded;","\t\t\t\tthis.rendered = false;","\t\t\t\tthis.expandable = false;","\t\t\t}","","\t\t\tGroup.prototype = new LogItem();","","\t\t\tcopyProperties(Group.prototype, {","\t\t\t\taddChild: function(logItem) {","\t\t\t\t\tthis.children.push(logItem);","\t\t\t\t\tlogItem.group = this;","\t\t\t\t},","","\t\t\t\trender: function() {","\t\t\t\t\tif (isIe) {","\t\t\t\t\t\tvar unwrappedDomContainer, wrappedDomContainer;","\t\t\t\t\t\tif (this.isRoot) {","\t\t\t\t\t\t\tunwrappedDomContainer = logMainContainer;","\t\t\t\t\t\t\twrappedDomContainer = logMainContainer;","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tunwrappedDomContainer = this.getUnwrappedDomContainer();","\t\t\t\t\t\t\twrappedDomContainer = this.getWrappedDomContainer();","\t\t\t\t\t\t}","\t\t\t\t\t\tthis.unwrappedElementContainer = new GroupElementContainer(this, unwrappedDomContainer, this.isRoot, false);","\t\t\t\t\t\tthis.wrappedElementContainer = new GroupElementContainer(this, wrappedDomContainer, this.isRoot, true);","\t\t\t\t\t\tthis.elementContainers = [this.unwrappedElementContainer, this.wrappedElementContainer];","\t\t\t\t\t} else {","\t\t\t\t\t\tvar mainDomContainer = this.isRoot ? logMainContainer : this.getMainDomContainer();","\t\t\t\t\t\tthis.mainElementContainer = new GroupElementContainer(this, mainDomContainer, this.isRoot, false);","\t\t\t\t\t\tthis.elementContainers = [this.mainElementContainer];","\t\t\t\t\t}","\t\t\t\t\tthis.rendered = true;","\t\t\t\t},","","\t\t\t\ttoggleExpanded: function() {","\t\t\t\t\tthis.expanded = !this.expanded;","\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\tthis.elementContainers[i].toggleExpanded();","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\texpand: function() {","\t\t\t\t\tif (!this.expanded) {","\t\t\t\t\t\tthis.toggleExpanded();","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\taccept: function(visitor) {","\t\t\t\t\tvisitor.visitGroup(this);","\t\t\t\t},","","\t\t\t\treverseChildren: function() {","\t\t\t\t\tif (this.rendered) {","\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\t\tthis.elementContainers[i].reverseChildren();","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tupdate: function() {","\t\t\t\t\tvar previouslyExpandable = this.expandable;","\t\t\t\t\tthis.expandable = (this.children.length !== 0);","\t\t\t\t\tif (this.expandable !== previouslyExpandable) {","\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\t\tthis.elementContainers[i].update();","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tflatten: function() {","\t\t\t\t\tvar visitor = new GroupFlattener();","\t\t\t\t\tthis.accept(visitor);","\t\t\t\t\treturn visitor.logEntriesAndSeparators;","\t\t\t\t},","","\t\t\t\tremoveChild: function(child, doUpdate) {","\t\t\t\t\tarray_remove(this.children, child);","\t\t\t\t\tchild.group = null;","\t\t\t\t\tif (doUpdate) {","\t\t\t\t\t\tthis.update();","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tremove: function(doUpdate, removeFromGroup) {","\t\t\t\t\tfor (var i = 0, len = this.children.length; i < len; i++) {","\t\t\t\t\t\tthis.children[i].remove(false, false);","\t\t\t\t\t}","\t\t\t\t\tthis.children = [];","\t\t\t\t\tthis.update();","\t\t\t\t\tif (this === currentGroup) {","\t\t\t\t\t\tcurrentGroup = this.group;","\t\t\t\t\t}","\t\t\t\t\tthis.doRemove(doUpdate, removeFromGroup);","\t\t\t\t},","","\t\t\t\tserialize: function(items) {","\t\t\t\t\titems.push([LogItem.serializedItemKeys.GROUP_START, this.name]);","\t\t\t\t\tfor (var i = 0, len = this.children.length; i < len; i++) {","\t\t\t\t\t\tthis.children[i].serialize(items);","\t\t\t\t\t}","\t\t\t\t\tif (this !== currentGroup) {","\t\t\t\t\t\titems.push([LogItem.serializedItemKeys.GROUP_END]);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tclear: function() {","\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\tthis.elementContainers[i].clear();","\t\t\t\t\t}","\t\t\t\t}","\t\t\t});","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogEntryElementContainer() {","\t\t\t}","","\t\t\tLogEntryElementContainer.prototype = new LogItemContainerElement();","","\t\t\tcopyProperties(LogEntryElementContainer.prototype, {","\t\t\t\tremove: function() {","\t\t\t\t\tthis.doRemove();","\t\t\t\t},","","\t\t\t\tdoRemove: function() {","\t\t\t\t\tthis.mainDiv.parentNode.removeChild(this.mainDiv);","\t\t\t\t\tthis.mainDiv = null;","\t\t\t\t\tthis.contentElement = null;","\t\t\t\t\tthis.containerDomNode = null;","\t\t\t\t},","","\t\t\t\tsetContent: function(content, wrappedContent) {","\t\t\t\t\tif (content === this.formattedMessage) {",'\t\t\t\t\t\tthis.contentElement.innerHTML = "";',"\t\t\t\t\t\tthis.contentElement.appendChild(document.createTextNode(this.formattedMessage));","\t\t\t\t\t} else {","\t\t\t\t\t\tthis.contentElement.innerHTML = content;","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tsetSearchMatch: function(isMatch) {",'\t\t\t\t\tvar oldCssClass = isMatch ? "searchnonmatch" : "searchmatch";','\t\t\t\t\tvar newCssClass = isMatch ? "searchmatch" : "searchnonmatch";',"\t\t\t\t\treplaceClass(this.mainDiv, newCssClass, oldCssClass);","\t\t\t\t},","","\t\t\t\tclearSearch: function() {",'\t\t\t\t\tremoveClass(this.mainDiv, "searchmatch");','\t\t\t\t\tremoveClass(this.mainDiv, "searchnonmatch");',"\t\t\t\t}","\t\t\t});","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogEntryWrappedElementContainer(logEntry, containerDomNode) {","\t\t\t\tthis.logEntry = logEntry;","\t\t\t\tthis.containerDomNode = containerDomNode;",'\t\t\t\tthis.mainDiv = document.createElement("div");',"\t\t\t\tthis.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));",'\t\t\t\tthis.mainDiv.className = "logentry wrapped " + this.logEntry.level;',"\t\t\t\tthis.contentElement = this.mainDiv;","\t\t\t}","","\t\t\tLogEntryWrappedElementContainer.prototype = new LogEntryElementContainer();","","\t\t\tLogEntryWrappedElementContainer.prototype.setContent = function(content, wrappedContent) {","\t\t\t\tif (content === this.formattedMessage) {",'\t\t\t\t\tthis.contentElement.innerHTML = "";',"\t\t\t\t\tthis.contentElement.appendChild(document.createTextNode(this.formattedMessage));","\t\t\t\t} else {","\t\t\t\t\tthis.contentElement.innerHTML = wrappedContent;","\t\t\t\t}","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogEntryUnwrappedElementContainer(logEntry, containerDomNode) {","\t\t\t\tthis.logEntry = logEntry;","\t\t\t\tthis.containerDomNode = containerDomNode;",'\t\t\t\tthis.mainDiv = document.createElement("div");','\t\t\t\tthis.mainDiv.className = "logentry unwrapped " + this.logEntry.level;','\t\t\t\tthis.pre = this.mainDiv.appendChild(document.createElement("pre"));',"\t\t\t\tthis.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));",'\t\t\t\tthis.pre.className = "unwrapped";',"\t\t\t\tthis.contentElement = this.pre;","\t\t\t}","","\t\t\tLogEntryUnwrappedElementContainer.prototype = new LogEntryElementContainer();","","\t\t\tLogEntryUnwrappedElementContainer.prototype.remove = function() {","\t\t\t\tthis.doRemove();","\t\t\t\tthis.pre = null;","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogEntryMainElementContainer(logEntry, containerDomNode) {","\t\t\t\tthis.logEntry = logEntry;","\t\t\t\tthis.containerDomNode = containerDomNode;",'\t\t\t\tthis.mainDiv = document.createElement("div");','\t\t\t\tthis.mainDiv.className = "logentry nonielogentry " + this.logEntry.level;','\t\t\t\tthis.contentElement = this.mainDiv.appendChild(document.createElement("span"));',"\t\t\t\tthis.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));","\t\t\t}","","\t\t\tLogEntryMainElementContainer.prototype = new LogEntryElementContainer();","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogEntry(level, formattedMessage) {","\t\t\t\tthis.level = level;","\t\t\t\tthis.formattedMessage = formattedMessage;","\t\t\t\tthis.rendered = false;","\t\t\t}","","\t\t\tLogEntry.prototype = new LogItem();","","\t\t\tcopyProperties(LogEntry.prototype, {","\t\t\t\trender: function() {","\t\t\t\t\tvar logEntry = this;","\t\t\t\t\tvar containerDomNode = this.group.contentDiv;","","\t\t\t\t\t// Support for the CSS attribute white-space in IE for Windows is","\t\t\t\t\t// non-existent pre version 6 and slightly odd in 6, so instead","\t\t\t\t\t// use two different HTML elements","\t\t\t\t\tif (isIe) {",'\t\t\t\t\t\tthis.formattedMessage = this.formattedMessage.replace(/\\r\\n/g, "\\r"); // Workaround for IE\'s treatment of white space',"\t\t\t\t\t\tthis.unwrappedElementContainer = new LogEntryUnwrappedElementContainer(this, this.getUnwrappedDomContainer());","\t\t\t\t\t\tthis.wrappedElementContainer = new LogEntryWrappedElementContainer(this, this.getWrappedDomContainer());","\t\t\t\t\t\tthis.elementContainers = [this.unwrappedElementContainer, this.wrappedElementContainer];","\t\t\t\t\t} else {","\t\t\t\t\t\tthis.mainElementContainer = new LogEntryMainElementContainer(this, this.getMainDomContainer());","\t\t\t\t\t\tthis.elementContainers = [this.mainElementContainer];","\t\t\t\t\t}","\t\t\t\t\tthis.content = this.formattedMessage;","\t\t\t\t\tthis.rendered = true;","\t\t\t\t},","","\t\t\t\tsetContent: function(content, wrappedContent) {","\t\t\t\t\tif (content != this.content) {","\t\t\t\t\t\tif (isIe && (content !== this.formattedMessage)) {",'\t\t\t\t\t\t\tcontent = content.replace(/\\r\\n/g, "\\r"); // Workaround for IE\'s treatment of white space',"\t\t\t\t\t\t}","\t\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\t\tthis.elementContainers[i].setContent(content, wrappedContent);","\t\t\t\t\t\t}","\t\t\t\t\t\tthis.content = content;","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tgetSearchMatches: function() {","\t\t\t\t\tvar matches = [];","\t\t\t\t\tvar i, len;","\t\t\t\t\tif (isIe) {",'\t\t\t\t\t\tvar unwrappedEls = getElementsByClass(this.unwrappedElementContainer.mainDiv, "searchterm", "span");','\t\t\t\t\t\tvar wrappedEls = getElementsByClass(this.wrappedElementContainer.mainDiv, "searchterm", "span");',"\t\t\t\t\t\tfor (i = 0, len = unwrappedEls.length; i < len; i++) {","\t\t\t\t\t\t\tmatches[i] = new Match(this.level, null, unwrappedEls[i], wrappedEls[i]);","\t\t\t\t\t\t}","\t\t\t\t\t} else {",'\t\t\t\t\t\tvar els = getElementsByClass(this.mainElementContainer.mainDiv, "searchterm", "span");',"\t\t\t\t\t\tfor (i = 0, len = els.length; i < len; i++) {","\t\t\t\t\t\t\tmatches[i] = new Match(this.level, els[i]);","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\treturn matches;","\t\t\t\t},","","\t\t\t\tsetSearchMatch: function(isMatch) {","\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\tthis.elementContainers[i].setSearchMatch(isMatch);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tclearSearch: function() {","\t\t\t\t\tfor (var i = 0, len = this.elementContainers.length; i < len; i++) {","\t\t\t\t\t\tthis.elementContainers[i].clearSearch();","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\taccept: function(visitor) {","\t\t\t\t\tvisitor.visitLogEntry(this);","\t\t\t\t},","","\t\t\t\tserialize: function(items) {","\t\t\t\t\titems.push([LogItem.serializedItemKeys.LOG_ENTRY, this.level, this.formattedMessage]);","\t\t\t\t}","\t\t\t});","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogItemVisitor() {","\t\t\t}","","\t\t\tLogItemVisitor.prototype = {","\t\t\t\tvisit: function(logItem) {","\t\t\t\t},","","\t\t\t\tvisitParent: function(logItem) {","\t\t\t\t\tif (logItem.group) {","\t\t\t\t\t\tlogItem.group.accept(this);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tvisitChildren: function(logItem) {","\t\t\t\t\tfor (var i = 0, len = logItem.children.length; i < len; i++) {","\t\t\t\t\t\tlogItem.children[i].accept(this);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tvisitLogEntry: function(logEntry) {","\t\t\t\t\tthis.visit(logEntry);","\t\t\t\t},","","\t\t\t\tvisitSeparator: function(separator) {","\t\t\t\t\tthis.visit(separator);","\t\t\t\t},","","\t\t\t\tvisitGroup: function(group) {","\t\t\t\t\tthis.visit(group);","\t\t\t\t}","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction GroupFlattener() {","\t\t\t\tthis.logEntriesAndSeparators = [];","\t\t\t}","","\t\t\tGroupFlattener.prototype = new LogItemVisitor();","","\t\t\tGroupFlattener.prototype.visitGroup = function(group) {","\t\t\t\tthis.visitChildren(group);","\t\t\t};","","\t\t\tGroupFlattener.prototype.visitLogEntry = function(logEntry) {","\t\t\t\tthis.logEntriesAndSeparators.push(logEntry);","\t\t\t};","","\t\t\tGroupFlattener.prototype.visitSeparator = function(separator) {","\t\t\t\tthis.logEntriesAndSeparators.push(separator);","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\twindow.onload = function() {","\t\t\t\t// Sort out document.domain","\t\t\t\tif (location.search) {",'\t\t\t\t\tvar queryBits = unescape(location.search).substr(1).split("&"), nameValueBits;',"\t\t\t\t\tfor (var i = 0, len = queryBits.length; i < len; i++) {",'\t\t\t\t\t\tnameValueBits = queryBits[i].split("=");','\t\t\t\t\t\tif (nameValueBits[0] == "log4javascript_domain") {',"\t\t\t\t\t\t\tdocument.domain = nameValueBits[1];","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t}","","\t\t\t\t// Create DOM objects",'\t\t\t\tlogMainContainer = $("log");',"\t\t\t\tif (isIePre7) {",'\t\t\t\t\taddClass(logMainContainer, "oldIe");',"\t\t\t\t}","",'\t\t\t\trootGroup = new Group("root", true);',"\t\t\t\trootGroup.render();","\t\t\t\tcurrentGroup = rootGroup;","\t\t\t\t","\t\t\t\tsetCommandInputWidth();","\t\t\t\tsetLogContainerHeight();","\t\t\t\ttoggleLoggingEnabled();","\t\t\t\ttoggleSearchEnabled();","\t\t\t\ttoggleSearchFilter();","\t\t\t\ttoggleSearchHighlight();","\t\t\t\tapplyFilters();","\t\t\t\tcheckAllLevels();","\t\t\t\ttoggleWrap();","\t\t\t\ttoggleNewestAtTop();","\t\t\t\ttoggleScrollToLatest();","\t\t\t\trenderQueuedLogItems();","\t\t\t\tloaded = true;",'\t\t\t\t$("command").value = "";','\t\t\t\t$("command").autocomplete = "off";','\t\t\t\t$("command").onkeydown = function(evt) {',"\t\t\t\t\tevt = getEvent(evt);","\t\t\t\t\tif (evt.keyCode == 10 || evt.keyCode == 13) { // Return/Enter","\t\t\t\t\t\tevalCommandLine();","\t\t\t\t\t\tstopPropagation(evt);","\t\t\t\t\t} else if (evt.keyCode == 27) { // Escape",'\t\t\t\t\t\tthis.value = "";',"\t\t\t\t\t\tthis.focus();","\t\t\t\t\t} else if (evt.keyCode == 38 && commandHistory.length > 0) { // Up","\t\t\t\t\t\tcurrentCommandIndex = Math.max(0, currentCommandIndex - 1);","\t\t\t\t\t\tthis.value = commandHistory[currentCommandIndex];","\t\t\t\t\t\tmoveCaretToEnd(this);","\t\t\t\t\t} else if (evt.keyCode == 40 && commandHistory.length > 0) { // Down","\t\t\t\t\t\tcurrentCommandIndex = Math.min(commandHistory.length - 1, currentCommandIndex + 1);","\t\t\t\t\t\tthis.value = commandHistory[currentCommandIndex];","\t\t\t\t\t\tmoveCaretToEnd(this);","\t\t\t\t\t}","\t\t\t\t};","","\t\t\t\t// Prevent the keypress moving the caret in Firefox",'\t\t\t\t$("command").onkeypress = function(evt) {',"\t\t\t\t\tevt = getEvent(evt);","\t\t\t\t\tif (evt.keyCode == 38 && commandHistory.length > 0 && evt.preventDefault) { // Up","\t\t\t\t\t\tevt.preventDefault();","\t\t\t\t\t}","\t\t\t\t};","","\t\t\t\t// Prevent the keyup event blurring the input in Opera",'\t\t\t\t$("command").onkeyup = function(evt) {',"\t\t\t\t\tevt = getEvent(evt);","\t\t\t\t\tif (evt.keyCode == 27 && evt.preventDefault) { // Up","\t\t\t\t\t\tevt.preventDefault();","\t\t\t\t\t\tthis.focus();","\t\t\t\t\t}","\t\t\t\t};","","\t\t\t\t// Add document keyboard shortcuts","\t\t\t\tdocument.onkeydown = function keyEventHandler(evt) {","\t\t\t\t\tevt = getEvent(evt);","\t\t\t\t\tswitch (evt.keyCode) {","\t\t\t\t\t\tcase 69: // Ctrl + shift + E: re-execute last command","\t\t\t\t\t\t\tif (evt.shiftKey && (evt.ctrlKey || evt.metaKey)) {","\t\t\t\t\t\t\t\tevalLastCommand();","\t\t\t\t\t\t\t\tcancelKeyEvent(evt);","\t\t\t\t\t\t\t\treturn false;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\tcase 75: // Ctrl + shift + K: focus search","\t\t\t\t\t\t\tif (evt.shiftKey && (evt.ctrlKey || evt.metaKey)) {","\t\t\t\t\t\t\t\tfocusSearch();","\t\t\t\t\t\t\t\tcancelKeyEvent(evt);","\t\t\t\t\t\t\t\treturn false;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\tcase 40: // Ctrl + shift + down arrow: focus command line","\t\t\t\t\t\tcase 76: // Ctrl + shift + L: focus command line","\t\t\t\t\t\t\tif (evt.shiftKey && (evt.ctrlKey || evt.metaKey)) {","\t\t\t\t\t\t\t\tfocusCommandLine();","\t\t\t\t\t\t\t\tcancelKeyEvent(evt);","\t\t\t\t\t\t\t\treturn false;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t}","\t\t\t\t};","","\t\t\t\t// Workaround to make sure log div starts at the correct size","\t\t\t\tsetTimeout(setLogContainerHeight, 20);","","\t\t\t\tsetShowCommandLine(showCommandLine);","\t\t\t\tdoSearch();","\t\t\t};","","\t\t\twindow.onunload = function() {","\t\t\t\tif (mainWindowExists()) {","\t\t\t\t\tappender.unload();","\t\t\t\t}","\t\t\t\tappender = null;","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction toggleLoggingEnabled() {",'\t\t\t\tsetLoggingEnabled($("enableLogging").checked);',"\t\t\t}","","\t\t\tfunction setLoggingEnabled(enable) {","\t\t\t\tloggingEnabled = enable;","\t\t\t}","","\t\t\tvar appender = null;","","\t\t\tfunction setAppender(appenderParam) {","\t\t\t\tappender = appenderParam;","\t\t\t}","","\t\t\tfunction setShowCloseButton(showCloseButton) {",'\t\t\t\t$("closeButton").style.display = showCloseButton ? "inline" : "none";',"\t\t\t}","","\t\t\tfunction setShowHideButton(showHideButton) {",'\t\t\t\t$("hideButton").style.display = showHideButton ? "inline" : "none";',"\t\t\t}","","\t\t\tvar newestAtTop = false;","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction LogItemContentReverser() {","\t\t\t}","\t\t\t","\t\t\tLogItemContentReverser.prototype = new LogItemVisitor();","\t\t\t","\t\t\tLogItemContentReverser.prototype.visitGroup = function(group) {","\t\t\t\tgroup.reverseChildren();","\t\t\t\tthis.visitChildren(group);","\t\t\t};","","\t\t\t/*----------------------------------------------------------------*/","","\t\t\tfunction setNewestAtTop(isNewestAtTop) {","\t\t\t\tvar oldNewestAtTop = newestAtTop;","\t\t\t\tvar i, iLen, j, jLen;","\t\t\t\tnewestAtTop = Boolean(isNewestAtTop);","\t\t\t\tif (oldNewestAtTop != newestAtTop) {","\t\t\t\t\tvar visitor = new LogItemContentReverser();","\t\t\t\t\trootGroup.accept(visitor);","","\t\t\t\t\t// Reassemble the matches array","\t\t\t\t\tif (currentSearch) {","\t\t\t\t\t\tvar currentMatch = currentSearch.matches[currentMatchIndex];","\t\t\t\t\t\tvar matchIndex = 0;","\t\t\t\t\t\tvar matches = [];","\t\t\t\t\t\tvar actOnLogEntry = function(logEntry) {","\t\t\t\t\t\t\tvar logEntryMatches = logEntry.getSearchMatches();","\t\t\t\t\t\t\tfor (j = 0, jLen = logEntryMatches.length; j < jLen; j++) {","\t\t\t\t\t\t\t\tmatches[matchIndex] = logEntryMatches[j];","\t\t\t\t\t\t\t\tif (currentMatch && logEntryMatches[j].equals(currentMatch)) {","\t\t\t\t\t\t\t\t\tcurrentMatchIndex = matchIndex;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\tmatchIndex++;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t};","\t\t\t\t\t\tif (newestAtTop) {","\t\t\t\t\t\t\tfor (i = logEntries.length - 1; i >= 0; i--) {","\t\t\t\t\t\t\t\tactOnLogEntry(logEntries[i]);","\t\t\t\t\t\t\t}","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tfor (i = 0, iLen = logEntries.length; i < iLen; i++) {","\t\t\t\t\t\t\t\tactOnLogEntry(logEntries[i]);","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tcurrentSearch.matches = matches;","\t\t\t\t\t\tif (currentMatch) {","\t\t\t\t\t\t\tcurrentMatch.setCurrent();","\t\t\t\t\t\t}","\t\t\t\t\t} else if (scrollToLatest) {","\t\t\t\t\t\tdoScrollToLatest();","\t\t\t\t\t}","\t\t\t\t}",'\t\t\t\t$("newestAtTop").checked = isNewestAtTop;',"\t\t\t}","","\t\t\tfunction toggleNewestAtTop() {",'\t\t\t\tvar isNewestAtTop = $("newestAtTop").checked;',"\t\t\t\tsetNewestAtTop(isNewestAtTop);","\t\t\t}","","\t\t\tvar scrollToLatest = true;","","\t\t\tfunction setScrollToLatest(isScrollToLatest) {","\t\t\t\tscrollToLatest = isScrollToLatest;","\t\t\t\tif (scrollToLatest) {","\t\t\t\t\tdoScrollToLatest();","\t\t\t\t}",'\t\t\t\t$("scrollToLatest").checked = isScrollToLatest;',"\t\t\t}","","\t\t\tfunction toggleScrollToLatest() {",'\t\t\t\tvar isScrollToLatest = $("scrollToLatest").checked;',"\t\t\t\tsetScrollToLatest(isScrollToLatest);","\t\t\t}","","\t\t\tfunction doScrollToLatest() {","\t\t\t\tvar l = logMainContainer;",'\t\t\t\tif (typeof l.scrollTop != "undefined") {',"\t\t\t\t\tif (newestAtTop) {","\t\t\t\t\t\tl.scrollTop = 0;","\t\t\t\t\t} else {","\t\t\t\t\t\tvar latestLogEntry = l.lastChild;","\t\t\t\t\t\tif (latestLogEntry) {","\t\t\t\t\t\t\tl.scrollTop = l.scrollHeight;","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tvar closeIfOpenerCloses = true;","","\t\t\tfunction setCloseIfOpenerCloses(isCloseIfOpenerCloses) {","\t\t\t\tcloseIfOpenerCloses = isCloseIfOpenerCloses;","\t\t\t}","","\t\t\tvar maxMessages = null;","","\t\t\tfunction setMaxMessages(max) {","\t\t\t\tmaxMessages = max;","\t\t\t\tpruneLogEntries();","\t\t\t}","","\t\t\tvar showCommandLine = false;","","\t\t\tfunction setShowCommandLine(isShowCommandLine) {","\t\t\t\tshowCommandLine = isShowCommandLine;","\t\t\t\tif (loaded) {",'\t\t\t\t\t$("commandLine").style.display = showCommandLine ? "block" : "none";',"\t\t\t\t\tsetCommandInputWidth();","\t\t\t\t\tsetLogContainerHeight();","\t\t\t\t}","\t\t\t}","","\t\t\tfunction focusCommandLine() {","\t\t\t\tif (loaded) {",'\t\t\t\t\t$("command").focus();',"\t\t\t\t}","\t\t\t}","","\t\t\tfunction focusSearch() {","\t\t\t\tif (loaded) {",'\t\t\t\t\t$("searchBox").focus();',"\t\t\t\t}","\t\t\t}","","\t\t\tfunction getLogItems() {","\t\t\t\tvar items = [];","\t\t\t\tfor (var i = 0, len = logItems.length; i < len; i++) {","\t\t\t\t\tlogItems[i].serialize(items);","\t\t\t\t}","\t\t\t\treturn items;","\t\t\t}","","\t\t\tfunction setLogItems(items) {","\t\t\t\tvar loggingReallyEnabled = loggingEnabled;","\t\t\t\t// Temporarily turn logging on","\t\t\t\tloggingEnabled = true;","\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {","\t\t\t\t\tswitch (items[i][0]) {","\t\t\t\t\t\tcase LogItem.serializedItemKeys.LOG_ENTRY:","\t\t\t\t\t\t\tlog(items[i][1], items[i][2]);","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\tcase LogItem.serializedItemKeys.GROUP_START:","\t\t\t\t\t\t\tgroup(items[i][1]);","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\tcase LogItem.serializedItemKeys.GROUP_END:","\t\t\t\t\t\t\tgroupEnd();","\t\t\t\t\t\t\tbreak;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tloggingEnabled = loggingReallyEnabled;","\t\t\t}","","\t\t\tfunction log(logLevel, formattedMessage) {","\t\t\t\tif (loggingEnabled) {","\t\t\t\t\tvar logEntry = new LogEntry(logLevel, formattedMessage);","\t\t\t\t\tlogEntries.push(logEntry);","\t\t\t\t\tlogEntriesAndSeparators.push(logEntry);","\t\t\t\t\tlogItems.push(logEntry);","\t\t\t\t\tcurrentGroup.addChild(logEntry);","\t\t\t\t\tif (loaded) {","\t\t\t\t\t\tif (logQueuedEventsTimer !== null) {","\t\t\t\t\t\t\tclearTimeout(logQueuedEventsTimer);","\t\t\t\t\t\t}","\t\t\t\t\t\tlogQueuedEventsTimer = setTimeout(renderQueuedLogItems, renderDelay);","\t\t\t\t\t\tunrenderedLogItemsExist = true;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction renderQueuedLogItems() {","\t\t\t\tlogQueuedEventsTimer = null;","\t\t\t\tvar pruned = pruneLogEntries();","","\t\t\t\t// Render any unrendered log entries and apply the current search to them","\t\t\t\tvar initiallyHasMatches = currentSearch ? currentSearch.hasMatches() : false;","\t\t\t\tfor (var i = 0, len = logItems.length; i < len; i++) {","\t\t\t\t\tif (!logItems[i].rendered) {","\t\t\t\t\t\tlogItems[i].render();","\t\t\t\t\t\tlogItems[i].appendToLog();","\t\t\t\t\t\tif (currentSearch && (logItems[i] instanceof LogEntry)) {","\t\t\t\t\t\t\tcurrentSearch.applyTo(logItems[i]);","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tif (currentSearch) {","\t\t\t\t\tif (pruned) {","\t\t\t\t\t\tif (currentSearch.hasVisibleMatches()) {","\t\t\t\t\t\t\tif (currentMatchIndex === null) {","\t\t\t\t\t\t\t\tsetCurrentMatchIndex(0);","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tdisplayMatches();","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tdisplayNoMatches();","\t\t\t\t\t\t}","\t\t\t\t\t} else if (!initiallyHasMatches && currentSearch.hasVisibleMatches()) {","\t\t\t\t\t\tsetCurrentMatchIndex(0);","\t\t\t\t\t\tdisplayMatches();","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tif (scrollToLatest) {","\t\t\t\t\tdoScrollToLatest();","\t\t\t\t}","\t\t\t\tunrenderedLogItemsExist = false;","\t\t\t}","","\t\t\tfunction pruneLogEntries() {","\t\t\t\tif ((maxMessages !== null) && (logEntriesAndSeparators.length > maxMessages)) {","\t\t\t\t\tvar numberToDelete = logEntriesAndSeparators.length - maxMessages;","\t\t\t\t\tvar prunedLogEntries = logEntriesAndSeparators.slice(0, numberToDelete);","\t\t\t\t\tif (currentSearch) {","\t\t\t\t\t\tcurrentSearch.removeMatches(prunedLogEntries);","\t\t\t\t\t}","\t\t\t\t\tvar group;","\t\t\t\t\tfor (var i = 0; i < numberToDelete; i++) {","\t\t\t\t\t\tgroup = logEntriesAndSeparators[i].group;","\t\t\t\t\t\tarray_remove(logItems, logEntriesAndSeparators[i]);","\t\t\t\t\t\tarray_remove(logEntries, logEntriesAndSeparators[i]);","\t\t\t\t\t\tlogEntriesAndSeparators[i].remove(true, true);","\t\t\t\t\t\tif (group.children.length === 0 && group !== currentGroup && group !== rootGroup) {","\t\t\t\t\t\t\tarray_remove(logItems, group);","\t\t\t\t\t\t\tgroup.remove(true, true);","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\tlogEntriesAndSeparators = array_removeFromStart(logEntriesAndSeparators, numberToDelete);","\t\t\t\t\treturn true;","\t\t\t\t}","\t\t\t\treturn false;","\t\t\t}","","\t\t\tfunction group(name, startExpanded) {","\t\t\t\tif (loggingEnabled) {",'\t\t\t\t\tinitiallyExpanded = (typeof startExpanded === "undefined") ? true : Boolean(startExpanded);',"\t\t\t\t\tvar newGroup = new Group(name, false, initiallyExpanded);","\t\t\t\t\tcurrentGroup.addChild(newGroup);","\t\t\t\t\tcurrentGroup = newGroup;","\t\t\t\t\tlogItems.push(newGroup);","\t\t\t\t\tif (loaded) {","\t\t\t\t\t\tif (logQueuedEventsTimer !== null) {","\t\t\t\t\t\t\tclearTimeout(logQueuedEventsTimer);","\t\t\t\t\t\t}","\t\t\t\t\t\tlogQueuedEventsTimer = setTimeout(renderQueuedLogItems, renderDelay);","\t\t\t\t\t\tunrenderedLogItemsExist = true;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction groupEnd() {","\t\t\t\tcurrentGroup = (currentGroup === rootGroup) ? rootGroup : currentGroup.group;","\t\t\t}","","\t\t\tfunction mainPageReloaded() {","\t\t\t\tcurrentGroup = rootGroup;","\t\t\t\tvar separator = new Separator();","\t\t\t\tlogEntriesAndSeparators.push(separator);","\t\t\t\tlogItems.push(separator);","\t\t\t\tcurrentGroup.addChild(separator);","\t\t\t}","","\t\t\tfunction closeWindow() {","\t\t\t\tif (appender && mainWindowExists()) {","\t\t\t\t\tappender.close(true);","\t\t\t\t} else {","\t\t\t\t\twindow.close();","\t\t\t\t}","\t\t\t}","","\t\t\tfunction hide() {","\t\t\t\tif (appender && mainWindowExists()) {","\t\t\t\t\tappender.hide();","\t\t\t\t}","\t\t\t}","","\t\t\tvar mainWindow = window;",'\t\t\tvar windowId = "log4javascriptConsoleWindow_" + new Date().getTime() + "_" + ("" + Math.random()).substr(2);',"","\t\t\tfunction setMainWindow(win) {","\t\t\t\tmainWindow = win;","\t\t\t\tmainWindow[windowId] = window;","\t\t\t\t// If this is a pop-up, poll the opener to see if it's closed","\t\t\t\tif (opener && closeIfOpenerCloses) {","\t\t\t\t\tpollOpener();","\t\t\t\t}","\t\t\t}","","\t\t\tfunction pollOpener() {","\t\t\t\tif (closeIfOpenerCloses) {","\t\t\t\t\tif (mainWindowExists()) {","\t\t\t\t\t\tsetTimeout(pollOpener, 500);","\t\t\t\t\t} else {","\t\t\t\t\t\tcloseWindow();","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction mainWindowExists() {","\t\t\t\ttry {","\t\t\t\t\treturn (mainWindow && !mainWindow.closed &&","\t\t\t\t\t\tmainWindow[windowId] == window);","\t\t\t\t} catch (ex) {}","\t\t\t\treturn false;","\t\t\t}","",'\t\t\tvar logLevels = ["TRACE", "DEBUG", "INFO", "WARN", "ERROR", "FATAL"];',"","\t\t\tfunction getCheckBox(logLevel) {",'\t\t\t\treturn $("switch_" + logLevel);',"\t\t\t}","","\t\t\tfunction getIeWrappedLogContainer() {",'\t\t\t\treturn $("log_wrapped");',"\t\t\t}","","\t\t\tfunction getIeUnwrappedLogContainer() {",'\t\t\t\treturn $("log_unwrapped");',"\t\t\t}","","\t\t\tfunction applyFilters() {","\t\t\t\tfor (var i = 0; i < logLevels.length; i++) {","\t\t\t\t\tif (getCheckBox(logLevels[i]).checked) {","\t\t\t\t\t\taddClass(logMainContainer, logLevels[i]);","\t\t\t\t\t} else {","\t\t\t\t\t\tremoveClass(logMainContainer, logLevels[i]);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tupdateSearchFromFilters();","\t\t\t}","","\t\t\tfunction toggleAllLevels() {",'\t\t\t\tvar turnOn = $("switch_ALL").checked;',"\t\t\t\tfor (var i = 0; i < logLevels.length; i++) {","\t\t\t\t\tgetCheckBox(logLevels[i]).checked = turnOn;","\t\t\t\t\tif (turnOn) {","\t\t\t\t\t\taddClass(logMainContainer, logLevels[i]);","\t\t\t\t\t} else {","\t\t\t\t\t\tremoveClass(logMainContainer, logLevels[i]);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction checkAllLevels() {","\t\t\t\tfor (var i = 0; i < logLevels.length; i++) {","\t\t\t\t\tif (!getCheckBox(logLevels[i]).checked) {",'\t\t\t\t\t\tgetCheckBox("ALL").checked = false;',"\t\t\t\t\t\treturn;","\t\t\t\t\t}","\t\t\t\t}",'\t\t\t\tgetCheckBox("ALL").checked = true;',"\t\t\t}","","\t\t\tfunction clearLog() {","\t\t\t\trootGroup.clear();","\t\t\t\tcurrentGroup = rootGroup;","\t\t\t\tlogEntries = [];","\t\t\t\tlogItems = [];","\t\t\t\tlogEntriesAndSeparators = [];"," \t\t\t\tdoSearch();","\t\t\t}","","\t\t\tfunction toggleWrap() {",'\t\t\t\tvar enable = $("wrap").checked;',"\t\t\t\tif (enable) {",'\t\t\t\t\taddClass(logMainContainer, "wrap");',"\t\t\t\t} else {",'\t\t\t\t\tremoveClass(logMainContainer, "wrap");',"\t\t\t\t}","\t\t\t\trefreshCurrentMatch();","\t\t\t}","","\t\t\t/* ------------------------------------------------------------------- */","","\t\t\t// Search","","\t\t\tvar searchTimer = null;","","\t\t\tfunction scheduleSearch() {","\t\t\t\ttry {","\t\t\t\t\tclearTimeout(searchTimer);","\t\t\t\t} catch (ex) {","\t\t\t\t\t// Do nothing","\t\t\t\t}","\t\t\t\tsearchTimer = setTimeout(doSearch, 500);","\t\t\t}","","\t\t\tfunction Search(searchTerm, isRegex, searchRegex, isCaseSensitive) {","\t\t\t\tthis.searchTerm = searchTerm;","\t\t\t\tthis.isRegex = isRegex;","\t\t\t\tthis.searchRegex = searchRegex;","\t\t\t\tthis.isCaseSensitive = isCaseSensitive;","\t\t\t\tthis.matches = [];","\t\t\t}","","\t\t\tSearch.prototype = {","\t\t\t\thasMatches: function() {","\t\t\t\t\treturn this.matches.length > 0;","\t\t\t\t},","","\t\t\t\thasVisibleMatches: function() {","\t\t\t\t\tif (this.hasMatches()) {","\t\t\t\t\t\tfor (var i = 0; i < this.matches.length; i++) {","\t\t\t\t\t\t\tif (this.matches[i].isVisible()) {","\t\t\t\t\t\t\t\treturn true;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\treturn false;","\t\t\t\t},","","\t\t\t\tmatch: function(logEntry) {","\t\t\t\t\tvar entryText = String(logEntry.formattedMessage);","\t\t\t\t\tvar matchesSearch = false;","\t\t\t\t\tif (this.isRegex) {","\t\t\t\t\t\tmatchesSearch = this.searchRegex.test(entryText);","\t\t\t\t\t} else if (this.isCaseSensitive) {","\t\t\t\t\t\tmatchesSearch = (entryText.indexOf(this.searchTerm) > -1);","\t\t\t\t\t} else {","\t\t\t\t\t\tmatchesSearch = (entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1);","\t\t\t\t\t}","\t\t\t\t\treturn matchesSearch;","\t\t\t\t},","","\t\t\t\tgetNextVisibleMatchIndex: function() {","\t\t\t\t\tfor (var i = currentMatchIndex + 1; i < this.matches.length; i++) {","\t\t\t\t\t\tif (this.matches[i].isVisible()) {","\t\t\t\t\t\t\treturn i;","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\t// Start again from the first match","\t\t\t\t\tfor (i = 0; i <= currentMatchIndex; i++) {","\t\t\t\t\t\tif (this.matches[i].isVisible()) {","\t\t\t\t\t\t\treturn i;","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\treturn -1;","\t\t\t\t},","","\t\t\t\tgetPreviousVisibleMatchIndex: function() {","\t\t\t\t\tfor (var i = currentMatchIndex - 1; i >= 0; i--) {","\t\t\t\t\t\tif (this.matches[i].isVisible()) {","\t\t\t\t\t\t\treturn i;","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\t// Start again from the last match","\t\t\t\t\tfor (var i = this.matches.length - 1; i >= currentMatchIndex; i--) {","\t\t\t\t\t\tif (this.matches[i].isVisible()) {","\t\t\t\t\t\t\treturn i;","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t\treturn -1;","\t\t\t\t},","","\t\t\t\tapplyTo: function(logEntry) {","\t\t\t\t\tvar doesMatch = this.match(logEntry);","\t\t\t\t\tif (doesMatch) {","\t\t\t\t\t\tlogEntry.group.expand();","\t\t\t\t\t\tlogEntry.setSearchMatch(true);","\t\t\t\t\t\tvar logEntryContent;","\t\t\t\t\t\tvar wrappedLogEntryContent;",'\t\t\t\t\t\tvar searchTermReplacementStartTag = "<span class=\\"searchterm\\">";','\t\t\t\t\t\tvar searchTermReplacementEndTag = "<" + "/span>";','\t\t\t\t\t\tvar preTagName = isIe ? "pre" : "span";','\t\t\t\t\t\tvar preStartTag = "<" + preTagName + " class=\\"pre\\">";','\t\t\t\t\t\tvar preEndTag = "<" + "/" + preTagName + ">";',"\t\t\t\t\t\tvar startIndex = 0;","\t\t\t\t\t\tvar searchIndex, matchedText, textBeforeMatch;","\t\t\t\t\t\tif (this.isRegex) {",'\t\t\t\t\t\t\tvar flags = this.isCaseSensitive ? "g" : "gi";','\t\t\t\t\t\t\tvar capturingRegex = new RegExp("(" + this.searchRegex.source + ")", flags);',"","\t\t\t\t\t\t\t// Replace the search term with temporary tokens for the start and end tags",'\t\t\t\t\t\t\tvar rnd = ("" + Math.random()).substr(2);','\t\t\t\t\t\t\tvar startToken = "%%s" + rnd + "%%";','\t\t\t\t\t\t\tvar endToken = "%%e" + rnd + "%%";','\t\t\t\t\t\t\tlogEntryContent = logEntry.formattedMessage.replace(capturingRegex, startToken + "$1" + endToken);',"","\t\t\t\t\t\t\t// Escape the HTML to get rid of angle brackets","\t\t\t\t\t\t\tlogEntryContent = escapeHtml(logEntryContent);","","\t\t\t\t\t\t\t// Substitute the proper HTML back in for the search match","\t\t\t\t\t\t\tvar result;","\t\t\t\t\t\t\tvar searchString = logEntryContent;",'\t\t\t\t\t\t\tlogEntryContent = "";','\t\t\t\t\t\t\twrappedLogEntryContent = "";',"\t\t\t\t\t\t\twhile ((searchIndex = searchString.indexOf(startToken, startIndex)) > -1) {","\t\t\t\t\t\t\t\tvar endTokenIndex = searchString.indexOf(endToken, searchIndex);","\t\t\t\t\t\t\t\tmatchedText = searchString.substring(searchIndex + startToken.length, endTokenIndex);","\t\t\t\t\t\t\t\ttextBeforeMatch = searchString.substring(startIndex, searchIndex);","\t\t\t\t\t\t\t\tlogEntryContent += preStartTag + textBeforeMatch + preEndTag;","\t\t\t\t\t\t\t\tlogEntryContent += searchTermReplacementStartTag + preStartTag + matchedText +","\t\t\t\t\t\t\t\t\tpreEndTag + searchTermReplacementEndTag;","\t\t\t\t\t\t\t\tif (isIe) {","\t\t\t\t\t\t\t\t\twrappedLogEntryContent += textBeforeMatch + searchTermReplacementStartTag +","\t\t\t\t\t\t\t\t\t\tmatchedText + searchTermReplacementEndTag;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\tstartIndex = endTokenIndex + endToken.length;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tlogEntryContent += preStartTag + searchString.substr(startIndex) + preEndTag;","\t\t\t\t\t\t\tif (isIe) {","\t\t\t\t\t\t\t\twrappedLogEntryContent += searchString.substr(startIndex);","\t\t\t\t\t\t\t}","\t\t\t\t\t\t} else {",'\t\t\t\t\t\t\tlogEntryContent = "";','\t\t\t\t\t\t\twrappedLogEntryContent = "";',"\t\t\t\t\t\t\tvar searchTermReplacementLength = searchTermReplacementStartTag.length +","\t\t\t\t\t\t\t\tthis.searchTerm.length + searchTermReplacementEndTag.length;","\t\t\t\t\t\t\tvar searchTermLength = this.searchTerm.length;","\t\t\t\t\t\t\tvar searchTermLowerCase = this.searchTerm.toLowerCase();","\t\t\t\t\t\t\tvar logTextLowerCase = logEntry.formattedMessage.toLowerCase();","\t\t\t\t\t\t\twhile ((searchIndex = logTextLowerCase.indexOf(searchTermLowerCase, startIndex)) > -1) {","\t\t\t\t\t\t\t\tmatchedText = escapeHtml(logEntry.formattedMessage.substr(searchIndex, this.searchTerm.length));","\t\t\t\t\t\t\t\ttextBeforeMatch = escapeHtml(logEntry.formattedMessage.substring(startIndex, searchIndex));","\t\t\t\t\t\t\t\tvar searchTermReplacement = searchTermReplacementStartTag +","\t\t\t\t\t\t\t\t\tpreStartTag + matchedText + preEndTag + searchTermReplacementEndTag;","\t\t\t\t\t\t\t\tlogEntryContent += preStartTag + textBeforeMatch + preEndTag + searchTermReplacement;","\t\t\t\t\t\t\t\tif (isIe) {","\t\t\t\t\t\t\t\t\twrappedLogEntryContent += textBeforeMatch + searchTermReplacementStartTag +","\t\t\t\t\t\t\t\t\t\tmatchedText + searchTermReplacementEndTag;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\tstartIndex = searchIndex + searchTermLength;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tvar textAfterLastMatch = escapeHtml(logEntry.formattedMessage.substr(startIndex));","\t\t\t\t\t\t\tlogEntryContent += preStartTag + textAfterLastMatch + preEndTag;","\t\t\t\t\t\t\tif (isIe) {","\t\t\t\t\t\t\t\twrappedLogEntryContent += textAfterLastMatch;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tlogEntry.setContent(logEntryContent, wrappedLogEntryContent);","\t\t\t\t\t\tvar logEntryMatches = logEntry.getSearchMatches();","\t\t\t\t\t\tthis.matches = this.matches.concat(logEntryMatches);","\t\t\t\t\t} else {","\t\t\t\t\t\tlogEntry.setSearchMatch(false);","\t\t\t\t\t\tlogEntry.setContent(logEntry.formattedMessage, logEntry.formattedMessage);","\t\t\t\t\t}","\t\t\t\t\treturn doesMatch;","\t\t\t\t},","","\t\t\t\tremoveMatches: function(logEntries) {","\t\t\t\t\tvar matchesToRemoveCount = 0;","\t\t\t\t\tvar currentMatchRemoved = false;","\t\t\t\t\tvar matchesToRemove = [];","\t\t\t\t\tvar i, iLen, j, jLen;","","\t\t\t\t\t// Establish the list of matches to be removed","\t\t\t\t\tfor (i = 0, iLen = this.matches.length; i < iLen; i++) {","\t\t\t\t\t\tfor (j = 0, jLen = logEntries.length; j < jLen; j++) {","\t\t\t\t\t\t\tif (this.matches[i].belongsTo(logEntries[j])) {","\t\t\t\t\t\t\t\tmatchesToRemove.push(this.matches[i]);","\t\t\t\t\t\t\t\tif (i === currentMatchIndex) {","\t\t\t\t\t\t\t\t\tcurrentMatchRemoved = true;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t}","","\t\t\t\t\t// Set the new current match index if the current match has been deleted","\t\t\t\t\t// This will be the first match that appears after the first log entry being","\t\t\t\t\t// deleted, if one exists; otherwise, it's the first match overall","\t\t\t\t\tvar newMatch = currentMatchRemoved ? null : this.matches[currentMatchIndex];","\t\t\t\t\tif (currentMatchRemoved) {","\t\t\t\t\t\tfor (i = currentMatchIndex, iLen = this.matches.length; i < iLen; i++) {","\t\t\t\t\t\t\tif (this.matches[i].isVisible() && !array_contains(matchesToRemove, this.matches[i])) {","\t\t\t\t\t\t\t\tnewMatch = this.matches[i];","\t\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t}","","\t\t\t\t\t// Remove the matches","\t\t\t\t\tfor (i = 0, iLen = matchesToRemove.length; i < iLen; i++) {","\t\t\t\t\t\tarray_remove(this.matches, matchesToRemove[i]);","\t\t\t\t\t\tmatchesToRemove[i].remove();","\t\t\t\t\t}","","\t\t\t\t\t// Set the new match, if one exists","\t\t\t\t\tif (this.hasVisibleMatches()) {","\t\t\t\t\t\tif (newMatch === null) {","\t\t\t\t\t\t\tsetCurrentMatchIndex(0);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t// Get the index of the new match","\t\t\t\t\t\t\tvar newMatchIndex = 0;","\t\t\t\t\t\t\tfor (i = 0, iLen = this.matches.length; i < iLen; i++) {","\t\t\t\t\t\t\t\tif (newMatch === this.matches[i]) {","\t\t\t\t\t\t\t\t\tnewMatchIndex = i;","\t\t\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t}","\t\t\t\t\t\t\tsetCurrentMatchIndex(newMatchIndex);","\t\t\t\t\t\t}","\t\t\t\t\t} else {","\t\t\t\t\t\tcurrentMatchIndex = null;","\t\t\t\t\t\tdisplayNoMatches();","\t\t\t\t\t}","\t\t\t\t}","\t\t\t};","","\t\t\tfunction getPageOffsetTop(el, container) {","\t\t\t\tvar currentEl = el;","\t\t\t\tvar y = 0;","\t\t\t\twhile (currentEl && currentEl != container) {","\t\t\t\t\ty += currentEl.offsetTop;","\t\t\t\t\tcurrentEl = currentEl.offsetParent;","\t\t\t\t}","\t\t\t\treturn y;","\t\t\t}","","\t\t\tfunction scrollIntoView(el) {","\t\t\t\tvar logContainer = logMainContainer;","\t\t\t\t// Check if the whole width of the element is visible and centre if not",'\t\t\t\tif (!$("wrap").checked) {',"\t\t\t\t\tvar logContainerLeft = logContainer.scrollLeft;","\t\t\t\t\tvar logContainerRight = logContainerLeft  + logContainer.offsetWidth;","\t\t\t\t\tvar elLeft = el.offsetLeft;","\t\t\t\t\tvar elRight = elLeft + el.offsetWidth;","\t\t\t\t\tif (elLeft < logContainerLeft || elRight > logContainerRight) {","\t\t\t\t\t\tlogContainer.scrollLeft = elLeft - (logContainer.offsetWidth - el.offsetWidth) / 2;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t// Check if the whole height of the element is visible and centre if not","\t\t\t\tvar logContainerTop = logContainer.scrollTop;","\t\t\t\tvar logContainerBottom = logContainerTop  + logContainer.offsetHeight;","\t\t\t\tvar elTop = getPageOffsetTop(el) - getToolBarsHeight();","\t\t\t\tvar elBottom = elTop + el.offsetHeight;","\t\t\t\tif (elTop < logContainerTop || elBottom > logContainerBottom) {","\t\t\t\t\tlogContainer.scrollTop = elTop - (logContainer.offsetHeight - el.offsetHeight) / 2;","\t\t\t\t}","\t\t\t}","","\t\t\tfunction Match(logEntryLevel, spanInMainDiv, spanInUnwrappedPre, spanInWrappedDiv) {","\t\t\t\tthis.logEntryLevel = logEntryLevel;","\t\t\t\tthis.spanInMainDiv = spanInMainDiv;","\t\t\t\tif (isIe) {","\t\t\t\t\tthis.spanInUnwrappedPre = spanInUnwrappedPre;","\t\t\t\t\tthis.spanInWrappedDiv = spanInWrappedDiv;","\t\t\t\t}","\t\t\t\tthis.mainSpan = isIe ? spanInUnwrappedPre : spanInMainDiv;","\t\t\t}","","\t\t\tMatch.prototype = {","\t\t\t\tequals: function(match) {","\t\t\t\t\treturn this.mainSpan === match.mainSpan;","\t\t\t\t},","","\t\t\t\tsetCurrent: function() {","\t\t\t\t\tif (isIe) {",'\t\t\t\t\t\taddClass(this.spanInUnwrappedPre, "currentmatch");','\t\t\t\t\t\taddClass(this.spanInWrappedDiv, "currentmatch");',"\t\t\t\t\t\t// Scroll the visible one into view",'\t\t\t\t\t\tvar elementToScroll = $("wrap").checked ? this.spanInWrappedDiv : this.spanInUnwrappedPre;',"\t\t\t\t\t\tscrollIntoView(elementToScroll);","\t\t\t\t\t} else {",'\t\t\t\t\t\taddClass(this.spanInMainDiv, "currentmatch");',"\t\t\t\t\t\tscrollIntoView(this.spanInMainDiv);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tbelongsTo: function(logEntry) {","\t\t\t\t\tif (isIe) {","\t\t\t\t\t\treturn isDescendant(this.spanInUnwrappedPre, logEntry.unwrappedPre);","\t\t\t\t\t} else {","\t\t\t\t\t\treturn isDescendant(this.spanInMainDiv, logEntry.mainDiv);","\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tsetNotCurrent: function() {","\t\t\t\t\tif (isIe) {",'\t\t\t\t\t\tremoveClass(this.spanInUnwrappedPre, "currentmatch");','\t\t\t\t\t\tremoveClass(this.spanInWrappedDiv, "currentmatch");',"\t\t\t\t\t} else {",'\t\t\t\t\t\tremoveClass(this.spanInMainDiv, "currentmatch");',"\t\t\t\t\t}","\t\t\t\t},","","\t\t\t\tisOrphan: function() {","\t\t\t\t\treturn isOrphan(this.mainSpan);","\t\t\t\t},","","\t\t\t\tisVisible: function() {","\t\t\t\t\treturn getCheckBox(this.logEntryLevel).checked;","\t\t\t\t},","","\t\t\t\tremove: function() {","\t\t\t\t\tif (isIe) {","\t\t\t\t\t\tthis.spanInUnwrappedPre = null;","\t\t\t\t\t\tthis.spanInWrappedDiv = null;","\t\t\t\t\t} else {","\t\t\t\t\t\tthis.spanInMainDiv = null;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t};","","\t\t\tvar currentSearch = null;","\t\t\tvar currentMatchIndex = null;","","\t\t\tfunction doSearch() {",'\t\t\t\tvar searchBox = $("searchBox");',"\t\t\t\tvar searchTerm = searchBox.value;",'\t\t\t\tvar isRegex = $("searchRegex").checked;','\t\t\t\tvar isCaseSensitive = $("searchCaseSensitive").checked;',"\t\t\t\tvar i;","",'\t\t\t\tif (searchTerm === "") {','\t\t\t\t\t$("searchReset").disabled = true;','\t\t\t\t\t$("searchNav").style.display = "none";','\t\t\t\t\tremoveClass(document.body, "searching");','\t\t\t\t\tremoveClass(searchBox, "hasmatches");','\t\t\t\t\tremoveClass(searchBox, "nomatches");',"\t\t\t\t\tfor (i = 0; i < logEntries.length; i++) {","\t\t\t\t\t\tlogEntries[i].clearSearch();","\t\t\t\t\t\tlogEntries[i].setContent(logEntries[i].formattedMessage, logEntries[i].formattedMessage);","\t\t\t\t\t}","\t\t\t\t\tcurrentSearch = null;","\t\t\t\t\tsetLogContainerHeight();","\t\t\t\t} else {",'\t\t\t\t\t$("searchReset").disabled = false;','\t\t\t\t\t$("searchNav").style.display = "block";',"\t\t\t\t\tvar searchRegex;","\t\t\t\t\tvar regexValid;","\t\t\t\t\tif (isRegex) {","\t\t\t\t\t\ttry {",'\t\t\t\t\t\t\tsearchRegex = isCaseSensitive ? new RegExp(searchTerm, "g") : new RegExp(searchTerm, "gi");',"\t\t\t\t\t\t\tregexValid = true;",'\t\t\t\t\t\t\treplaceClass(searchBox, "validregex", "invalidregex");','\t\t\t\t\t\t\tsearchBox.title = "Valid regex";',"\t\t\t\t\t\t} catch (ex) {","\t\t\t\t\t\t\tregexValid = false;",'\t\t\t\t\t\t\treplaceClass(searchBox, "invalidregex", "validregex");','\t\t\t\t\t\t\tsearchBox.title = "Invalid regex: " + (ex.message ? ex.message : (ex.description ? ex.description : "unknown error"));',"\t\t\t\t\t\t\treturn;","\t\t\t\t\t\t}","\t\t\t\t\t} else {",'\t\t\t\t\t\tsearchBox.title = "";','\t\t\t\t\t\tremoveClass(searchBox, "validregex");','\t\t\t\t\t\tremoveClass(searchBox, "invalidregex");',"\t\t\t\t\t}",'\t\t\t\t\taddClass(document.body, "searching");',"\t\t\t\t\tcurrentSearch = new Search(searchTerm, isRegex, searchRegex, isCaseSensitive);","\t\t\t\t\tfor (i = 0; i < logEntries.length; i++) {","\t\t\t\t\t\tcurrentSearch.applyTo(logEntries[i]);","\t\t\t\t\t}","\t\t\t\t\tsetLogContainerHeight();","","\t\t\t\t\t// Highlight the first search match","\t\t\t\t\tif (currentSearch.hasVisibleMatches()) {","\t\t\t\t\t\tsetCurrentMatchIndex(0);","\t\t\t\t\t\tdisplayMatches();","\t\t\t\t\t} else {","\t\t\t\t\t\tdisplayNoMatches();","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction updateSearchFromFilters() {","\t\t\t\tif (currentSearch) {","\t\t\t\t\tif (currentSearch.hasMatches()) {","\t\t\t\t\t\tif (currentMatchIndex === null) {","\t\t\t\t\t\t\tcurrentMatchIndex = 0;","\t\t\t\t\t\t}","\t\t\t\t\t\tvar currentMatch = currentSearch.matches[currentMatchIndex];","\t\t\t\t\t\tif (currentMatch.isVisible()) {","\t\t\t\t\t\t\tdisplayMatches();","\t\t\t\t\t\t\tsetCurrentMatchIndex(currentMatchIndex);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tcurrentMatch.setNotCurrent();","\t\t\t\t\t\t\t// Find the next visible match, if one exists","\t\t\t\t\t\t\tvar nextVisibleMatchIndex = currentSearch.getNextVisibleMatchIndex();","\t\t\t\t\t\t\tif (nextVisibleMatchIndex > -1) {","\t\t\t\t\t\t\t\tsetCurrentMatchIndex(nextVisibleMatchIndex);","\t\t\t\t\t\t\t\tdisplayMatches();","\t\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t\tdisplayNoMatches();","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t} else {","\t\t\t\t\t\tdisplayNoMatches();","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction refreshCurrentMatch() {","\t\t\t\tif (currentSearch && currentSearch.hasVisibleMatches()) {","\t\t\t\t\tsetCurrentMatchIndex(currentMatchIndex);","\t\t\t\t}","\t\t\t}","","\t\t\tfunction displayMatches() {",'\t\t\t\treplaceClass($("searchBox"), "hasmatches", "nomatches");','\t\t\t\t$("searchBox").title = "" + currentSearch.matches.length + " matches found";','\t\t\t\t$("searchNav").style.display = "block";',"\t\t\t\tsetLogContainerHeight();","\t\t\t}","","\t\t\tfunction displayNoMatches() {",'\t\t\t\treplaceClass($("searchBox"), "nomatches", "hasmatches");','\t\t\t\t$("searchBox").title = "No matches found";','\t\t\t\t$("searchNav").style.display = "none";',"\t\t\t\tsetLogContainerHeight();","\t\t\t}","","\t\t\tfunction toggleSearchEnabled(enable) {",'\t\t\t\tenable = (typeof enable == "undefined") ? !$("searchDisable").checked : enable;','\t\t\t\t$("searchBox").disabled = !enable;','\t\t\t\t$("searchReset").disabled = !enable;','\t\t\t\t$("searchRegex").disabled = !enable;','\t\t\t\t$("searchNext").disabled = !enable;','\t\t\t\t$("searchPrevious").disabled = !enable;','\t\t\t\t$("searchCaseSensitive").disabled = !enable;','\t\t\t\t$("searchNav").style.display = (enable && ($("searchBox").value !== "") &&',"\t\t\t\t\t\tcurrentSearch && currentSearch.hasVisibleMatches()) ?",'\t\t\t\t\t"block" : "none";',"\t\t\t\tif (enable) {",'\t\t\t\t\tremoveClass($("search"), "greyedout");','\t\t\t\t\taddClass(document.body, "searching");','\t\t\t\t\tif ($("searchHighlight").checked) {','\t\t\t\t\t\taddClass(logMainContainer, "searchhighlight");',"\t\t\t\t\t} else {",'\t\t\t\t\t\tremoveClass(logMainContainer, "searchhighlight");',"\t\t\t\t\t}",'\t\t\t\t\tif ($("searchFilter").checked) {','\t\t\t\t\t\taddClass(logMainContainer, "searchfilter");',"\t\t\t\t\t} else {",'\t\t\t\t\t\tremoveClass(logMainContainer, "searchfilter");',"\t\t\t\t\t}",'\t\t\t\t\t$("searchDisable").checked = !enable;',"\t\t\t\t} else {",'\t\t\t\t\taddClass($("search"), "greyedout");','\t\t\t\t\tremoveClass(document.body, "searching");','\t\t\t\t\tremoveClass(logMainContainer, "searchhighlight");','\t\t\t\t\tremoveClass(logMainContainer, "searchfilter");',"\t\t\t\t}","\t\t\t\tsetLogContainerHeight();","\t\t\t}","","\t\t\tfunction toggleSearchFilter() {",'\t\t\t\tvar enable = $("searchFilter").checked;',"\t\t\t\tif (enable) {",'\t\t\t\t\taddClass(logMainContainer, "searchfilter");',"\t\t\t\t} else {",'\t\t\t\t\tremoveClass(logMainContainer, "searchfilter");',"\t\t\t\t}","\t\t\t\trefreshCurrentMatch();","\t\t\t}","","\t\t\tfunction toggleSearchHighlight() {",'\t\t\t\tvar enable = $("searchHighlight").checked;',"\t\t\t\tif (enable) {",'\t\t\t\t\taddClass(logMainContainer, "searchhighlight");',"\t\t\t\t} else {",'\t\t\t\t\tremoveClass(logMainContainer, "searchhighlight");',"\t\t\t\t}","\t\t\t}","","\t\t\tfunction clearSearch() {",'\t\t\t\t$("searchBox").value = "";',"\t\t\t\tdoSearch();","\t\t\t}","","\t\t\tfunction searchNext() {","\t\t\t\tif (currentSearch !== null && currentMatchIndex !== null) {","\t\t\t\t\tcurrentSearch.matches[currentMatchIndex].setNotCurrent();","\t\t\t\t\tvar nextMatchIndex = currentSearch.getNextVisibleMatchIndex();",'\t\t\t\t\tif (nextMatchIndex > currentMatchIndex || confirm("Reached the end of the page. Start from the top?")) {',"\t\t\t\t\t\tsetCurrentMatchIndex(nextMatchIndex);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction searchPrevious() {","\t\t\t\tif (currentSearch !== null && currentMatchIndex !== null) {","\t\t\t\t\tcurrentSearch.matches[currentMatchIndex].setNotCurrent();","\t\t\t\t\tvar previousMatchIndex = currentSearch.getPreviousVisibleMatchIndex();",'\t\t\t\t\tif (previousMatchIndex < currentMatchIndex || confirm("Reached the start of the page. Continue from the bottom?")) {',"\t\t\t\t\t\tsetCurrentMatchIndex(previousMatchIndex);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction setCurrentMatchIndex(index) {","\t\t\t\tcurrentMatchIndex = index;","\t\t\t\tcurrentSearch.matches[currentMatchIndex].setCurrent();","\t\t\t}","","\t\t\t/* ------------------------------------------------------------------------- */","","\t\t\t// CSS Utilities","","\t\t\tfunction addClass(el, cssClass) {","\t\t\t\tif (!hasClass(el, cssClass)) {","\t\t\t\t\tif (el.className) {",'\t\t\t\t\t\tel.className += " " + cssClass;',"\t\t\t\t\t} else {","\t\t\t\t\t\tel.className = cssClass;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction hasClass(el, cssClass) {","\t\t\t\tif (el.className) {",'\t\t\t\t\tvar classNames = el.className.split(" ");',"\t\t\t\t\treturn array_contains(classNames, cssClass);","\t\t\t\t}","\t\t\t\treturn false;","\t\t\t}","","\t\t\tfunction removeClass(el, cssClass) {","\t\t\t\tif (hasClass(el, cssClass)) {","\t\t\t\t\t// Rebuild the className property",'\t\t\t\t\tvar existingClasses = el.className.split(" ");',"\t\t\t\t\tvar newClasses = [];","\t\t\t\t\tfor (var i = 0, len = existingClasses.length; i < len; i++) {","\t\t\t\t\t\tif (existingClasses[i] != cssClass) {","\t\t\t\t\t\t\tnewClasses[newClasses.length] = existingClasses[i];","\t\t\t\t\t\t}","\t\t\t\t\t}",'\t\t\t\t\tel.className = newClasses.join(" ");',"\t\t\t\t}","\t\t\t}","","\t\t\tfunction replaceClass(el, newCssClass, oldCssClass) {","\t\t\t\tremoveClass(el, oldCssClass);","\t\t\t\taddClass(el, newCssClass);","\t\t\t}","","\t\t\t/* ------------------------------------------------------------------------- */","","\t\t\t// Other utility functions","","\t\t\tfunction getElementsByClass(el, cssClass, tagName) {","\t\t\t\tvar elements = el.getElementsByTagName(tagName);","\t\t\t\tvar matches = [];","\t\t\t\tfor (var i = 0, len = elements.length; i < len; i++) {","\t\t\t\t\tif (hasClass(elements[i], cssClass)) {","\t\t\t\t\t\tmatches.push(elements[i]);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\treturn matches;","\t\t\t}","","\t\t\t// Syntax borrowed from Prototype library","\t\t\tfunction $(id) {","\t\t\t\treturn document.getElementById(id);","\t\t\t}","","\t\t\tfunction isDescendant(node, ancestorNode) {","\t\t\t\twhile (node != null) {","\t\t\t\t\tif (node === ancestorNode) {","\t\t\t\t\t\treturn true;","\t\t\t\t\t}","\t\t\t\t\tnode = node.parentNode;","\t\t\t\t}","\t\t\t\treturn false;","\t\t\t}","","\t\t\tfunction isOrphan(node) {","\t\t\t\tvar currentNode = node;","\t\t\t\twhile (currentNode) {","\t\t\t\t\tif (currentNode == document.body) {","\t\t\t\t\t\treturn false;","\t\t\t\t\t}","\t\t\t\t\tcurrentNode = currentNode.parentNode;","\t\t\t\t}","\t\t\t\treturn true;","\t\t\t}","","\t\t\tfunction escapeHtml(str) {",'\t\t\t\treturn str.replace(/&/g, "&amp;").replace(/[<]/g, "&lt;").replace(/>/g, "&gt;");',"\t\t\t}","","\t\t\tfunction getWindowWidth() {","\t\t\t\tif (window.innerWidth) {","\t\t\t\t\treturn window.innerWidth;","\t\t\t\t} else if (document.documentElement && document.documentElement.clientWidth) {","\t\t\t\t\treturn document.documentElement.clientWidth;","\t\t\t\t} else if (document.body) {","\t\t\t\t\treturn document.body.clientWidth;","\t\t\t\t}","\t\t\t\treturn 0;","\t\t\t}","","\t\t\tfunction getWindowHeight() {","\t\t\t\tif (window.innerHeight) {","\t\t\t\t\treturn window.innerHeight;","\t\t\t\t} else if (document.documentElement && document.documentElement.clientHeight) {","\t\t\t\t\treturn document.documentElement.clientHeight;","\t\t\t\t} else if (document.body) {","\t\t\t\t\treturn document.body.clientHeight;","\t\t\t\t}","\t\t\t\treturn 0;","\t\t\t}","","\t\t\tfunction getToolBarsHeight() {",'\t\t\t\treturn $("switches").offsetHeight;',"\t\t\t}","","\t\t\tfunction getChromeHeight() {","\t\t\t\tvar height = getToolBarsHeight();","\t\t\t\tif (showCommandLine) {",'\t\t\t\t\theight += $("commandLine").offsetHeight;',"\t\t\t\t}","\t\t\t\treturn height;","\t\t\t}","","\t\t\tfunction setLogContainerHeight() {","\t\t\t\tif (logMainContainer) {","\t\t\t\t\tvar windowHeight = getWindowHeight();",'\t\t\t\t\t$("body").style.height = getWindowHeight() + "px";','\t\t\t\t\tlogMainContainer.style.height = "" +','\t\t\t\t\t\tMath.max(0, windowHeight - getChromeHeight()) + "px";',"\t\t\t\t}","\t\t\t}","","\t\t\tfunction setCommandInputWidth() {","\t\t\t\tif (showCommandLine) {",'\t\t\t\t\t$("command").style.width = "" + Math.max(0, $("commandLineContainer").offsetWidth -','\t\t\t\t\t\t($("evaluateButton").offsetWidth + 13)) + "px";',"\t\t\t\t}","\t\t\t}","","\t\t\twindow.onresize = function() {","\t\t\t\tsetCommandInputWidth();","\t\t\t\tsetLogContainerHeight();","\t\t\t};","","\t\t\tif (!Array.prototype.push) {","\t\t\t\tArray.prototype.push = function() {","\t\t\t        for (var i = 0, len = arguments.length; i < len; i++){","\t\t\t            this[this.length] = arguments[i];","\t\t\t        }","\t\t\t        return this.length;","\t\t\t\t};","\t\t\t}","","\t\t\tif (!Array.prototype.pop) {","\t\t\t\tArray.prototype.pop = function() {","\t\t\t\t\tif (this.length > 0) {","\t\t\t\t\t\tvar val = this[this.length - 1];","\t\t\t\t\t\tthis.length = this.length - 1;","\t\t\t\t\t\treturn val;","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","","\t\t\tif (!Array.prototype.shift) {","\t\t\t\tArray.prototype.shift = function() {","\t\t\t\t\tif (this.length > 0) {","\t\t\t\t\t\tvar firstItem = this[0];","\t\t\t\t\t\tfor (var i = 0, len = this.length - 1; i < len; i++) {","\t\t\t\t\t\t\tthis[i] = this[i + 1];","\t\t\t\t\t\t}","\t\t\t\t\t\tthis.length = this.length - 1;","\t\t\t\t\t\treturn firstItem;","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","","\t\t\tif (!Array.prototype.splice) {","\t\t\t\tArray.prototype.splice = function(startIndex, deleteCount) {","\t\t\t\t\tvar itemsAfterDeleted = this.slice(startIndex + deleteCount);","\t\t\t\t\tvar itemsDeleted = this.slice(startIndex, startIndex + deleteCount);","\t\t\t\t\tthis.length = startIndex;","\t\t\t\t\t// Copy the arguments into a proper Array object","\t\t\t\t\tvar argumentsArray = [];","\t\t\t\t\tfor (var i = 0, len = arguments.length; i < len; i++) {","\t\t\t\t\t\targumentsArray[i] = arguments[i];","\t\t\t\t\t}","\t\t\t\t\tvar itemsToAppend = (argumentsArray.length > 2) ?","\t\t\t\t\t\titemsAfterDeleted = argumentsArray.slice(2).concat(itemsAfterDeleted) : itemsAfterDeleted;","\t\t\t\t\tfor (i = 0, len = itemsToAppend.length; i < len; i++) {","\t\t\t\t\t\tthis.push(itemsToAppend[i]);","\t\t\t\t\t}","\t\t\t\t\treturn itemsDeleted;","\t\t\t\t};","\t\t\t}","","\t\t\tfunction array_remove(arr, val) {","\t\t\t\tvar index = -1;","\t\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {","\t\t\t\t\tif (arr[i] === val) {","\t\t\t\t\t\tindex = i;","\t\t\t\t\t\tbreak;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tif (index >= 0) {","\t\t\t\t\tarr.splice(index, 1);","\t\t\t\t\treturn index;","\t\t\t\t} else {","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t\t}","","\t\t\tfunction array_removeFromStart(array, numberToRemove) {","\t\t\t\tif (Array.prototype.splice) {","\t\t\t\t\tarray.splice(0, numberToRemove);","\t\t\t\t} else {","\t\t\t\t\tfor (var i = numberToRemove, len = array.length; i < len; i++) {","\t\t\t\t\t\tarray[i - numberToRemove] = array[i];","\t\t\t\t\t}","\t\t\t\t\tarray.length = array.length - numberToRemove;","\t\t\t\t}","\t\t\t\treturn array;","\t\t\t}","","\t\t\tfunction array_contains(arr, val) {","\t\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {","\t\t\t\t\tif (arr[i] == val) {","\t\t\t\t\t\treturn true;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\treturn false;","\t\t\t}","","\t\t\tfunction getErrorMessage(ex) {","\t\t\t\tif (ex.message) {","\t\t\t\t\treturn ex.message;","\t\t\t\t} else if (ex.description) {","\t\t\t\t\treturn ex.description;","\t\t\t\t}",'\t\t\t\treturn "" + ex;',"\t\t\t}","","\t\t\tfunction moveCaretToEnd(input) {","\t\t\t\tif (input.setSelectionRange) {","\t\t\t\t\tinput.focus();","\t\t\t\t\tvar length = input.value.length;","\t\t\t\t\tinput.setSelectionRange(length, length);","\t\t\t\t} else if (input.createTextRange) {","\t\t\t\t\tvar range = input.createTextRange();","\t\t\t\t\trange.collapse(false);","\t\t\t\t\trange.select();","\t\t\t\t}","\t\t\t\tinput.focus();","\t\t\t}","","\t\t\tfunction stopPropagation(evt) {","\t\t\t\tif (evt.stopPropagation) {","\t\t\t\t\tevt.stopPropagation();",'\t\t\t\t} else if (typeof evt.cancelBubble != "undefined") {',"\t\t\t\t\tevt.cancelBubble = true;","\t\t\t\t}","\t\t\t}","","\t\t\tfunction getEvent(evt) {","\t\t\t\treturn evt ? evt : event;","\t\t\t}","","\t\t\tfunction getTarget(evt) {","\t\t\t\treturn evt.target ? evt.target : evt.srcElement;","\t\t\t}","","\t\t\tfunction getRelatedTarget(evt) {","\t\t\t\tif (evt.relatedTarget) {","\t\t\t\t\treturn evt.relatedTarget;","\t\t\t\t} else if (evt.srcElement) {","\t\t\t\t\tswitch(evt.type) {",'\t\t\t\t\t\tcase "mouseover":',"\t\t\t\t\t\t\treturn evt.fromElement;",'\t\t\t\t\t\tcase "mouseout":',"\t\t\t\t\t\t\treturn evt.toElement;","\t\t\t\t\t\tdefault:","\t\t\t\t\t\t\treturn evt.srcElement;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tfunction cancelKeyEvent(evt) {","\t\t\t\tevt.returnValue = false;","\t\t\t\tstopPropagation(evt);","\t\t\t}","","\t\t\tfunction evalCommandLine() {",'\t\t\t\tvar expr = $("command").value;',"\t\t\t\tevalCommand(expr);",'\t\t\t\t$("command").value = "";',"\t\t\t}","","\t\t\tfunction evalLastCommand() {","\t\t\t\tif (lastCommand != null) {","\t\t\t\t\tevalCommand(lastCommand);","\t\t\t\t}","\t\t\t}","","\t\t\tvar lastCommand = null;","\t\t\tvar commandHistory = [];","\t\t\tvar currentCommandIndex = 0;","","\t\t\tfunction evalCommand(expr) {","\t\t\t\tif (appender) {","\t\t\t\t\tappender.evalCommandAndAppend(expr);","\t\t\t\t} else {",'\t\t\t\t\tvar prefix = ">>> " + expr + "\\r\\n";',"\t\t\t\t\ttry {",'\t\t\t\t\t\tlog("INFO", prefix + eval(expr));',"\t\t\t\t\t} catch (ex) {",'\t\t\t\t\t\tlog("ERROR", prefix + "Error: " + getErrorMessage(ex));',"\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t// Update command history","\t\t\t\tif (expr != commandHistory[commandHistory.length - 1]) {","\t\t\t\t\tcommandHistory.push(expr);","\t\t\t\t\t// Update the appender","\t\t\t\t\tif (appender) {","\t\t\t\t\t\tappender.storeCommandHistory(commandHistory);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tcurrentCommandIndex = (expr == commandHistory[currentCommandIndex]) ? currentCommandIndex + 1 : commandHistory.length;","\t\t\t\tlastCommand = expr;","\t\t\t}","\t\t\t//]]>","\t\t<\/script>",'\t\t<style type="text/css">',"\t\t\tbody {","\t\t\t\tbackground-color: white;","\t\t\t\tcolor: black;","\t\t\t\tpadding: 0;","\t\t\t\tmargin: 0;","\t\t\t\tfont-family: tahoma, verdana, arial, helvetica, sans-serif;","\t\t\t\toverflow: hidden;","\t\t\t}","","\t\t\tdiv#switchesContainer input {","\t\t\t\tmargin-bottom: 0;","\t\t\t}","","\t\t\tdiv.toolbar {","\t\t\t\tborder-top: solid #ffffff 1px;","\t\t\t\tborder-bottom: solid #aca899 1px;","\t\t\t\tbackground-color: #f1efe7;","\t\t\t\tpadding: 3px 5px;","\t\t\t\tfont-size: 68.75%;","\t\t\t}","","\t\t\tdiv.toolbar, div#search input {","\t\t\t\tfont-family: tahoma, verdana, arial, helvetica, sans-serif;","\t\t\t}","","\t\t\tdiv.toolbar input.button {","\t\t\t\tpadding: 0 5px;","\t\t\t\tfont-size: 100%;","\t\t\t}","","\t\t\tdiv.toolbar input.hidden {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\tdiv#switches input#clearButton {","\t\t\t\tmargin-left: 20px;","\t\t\t}","","\t\t\tdiv#levels label {","\t\t\t\tfont-weight: bold;","\t\t\t}","","\t\t\tdiv#levels label, div#options label {","\t\t\t\tmargin-right: 5px;","\t\t\t}","","\t\t\tdiv#levels label#wrapLabel {","\t\t\t\tfont-weight: normal;","\t\t\t}","","\t\t\tdiv#search label {","\t\t\t\tmargin-right: 10px;","\t\t\t}","","\t\t\tdiv#search label.searchboxlabel {","\t\t\t\tmargin-right: 0;","\t\t\t}","","\t\t\tdiv#search input {","\t\t\t\tfont-size: 100%;","\t\t\t}","","\t\t\tdiv#search input.validregex {","\t\t\t\tcolor: green;","\t\t\t}","","\t\t\tdiv#search input.invalidregex {","\t\t\t\tcolor: red;","\t\t\t}","","\t\t\tdiv#search input.nomatches {","\t\t\t\tcolor: white;","\t\t\t\tbackground-color: #ff6666;","\t\t\t}","","\t\t\tdiv#search input.nomatches {","\t\t\t\tcolor: white;","\t\t\t\tbackground-color: #ff6666;","\t\t\t}","","\t\t\tdiv#searchNav {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\tdiv#commandLine {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\tdiv#commandLine input#command {","\t\t\t\tfont-size: 100%;","\t\t\t\tfont-family: Courier New, Courier;","\t\t\t}","","\t\t\tdiv#commandLine input#evaluateButton {","\t\t\t}","","\t\t\t*.greyedout {","\t\t\t\tcolor: gray !important;","\t\t\t\tborder-color: gray !important;","\t\t\t}","","\t\t\t*.greyedout *.alwaysenabled { color: black; }","","\t\t\t*.unselectable {","\t\t\t\t-khtml-user-select: none;","\t\t\t\t-moz-user-select: none;","\t\t\t\tuser-select: none;","\t\t\t}","","\t\t\tdiv#log {","\t\t\t\tfont-family: Courier New, Courier;","\t\t\t\tfont-size: 75%;","\t\t\t\twidth: 100%;","\t\t\t\toverflow: auto;","\t\t\t\tclear: both;","\t\t\t\tposition: relative;","\t\t\t}","","\t\t\tdiv.group {","\t\t\t\tborder-color: #cccccc;","\t\t\t\tborder-style: solid;","\t\t\t\tborder-width: 1px 0 1px 1px;","\t\t\t\toverflow: visible;","\t\t\t}","","\t\t\tdiv.oldIe div.group, div.oldIe div.group *, div.oldIe *.logentry {","\t\t\t\theight: 1%;","\t\t\t}","","\t\t\tdiv.group div.groupheading span.expander {","\t\t\t\tborder: solid black 1px;","\t\t\t\tfont-family: Courier New, Courier;","\t\t\t\tfont-size: 0.833em;","\t\t\t\tbackground-color: #eeeeee;","\t\t\t\tposition: relative;","\t\t\t\ttop: -1px;","\t\t\t\tcolor: black;","\t\t\t\tpadding: 0 2px;","\t\t\t\tcursor: pointer;","\t\t\t\tcursor: hand;","\t\t\t\theight: 1%;","\t\t\t}","","\t\t\tdiv.group div.groupcontent {","\t\t\t\tmargin-left: 10px;","\t\t\t\tpadding-bottom: 2px;","\t\t\t\toverflow: visible;","\t\t\t}","","\t\t\tdiv.group div.expanded {","\t\t\t\tdisplay: block;","\t\t\t}","","\t\t\tdiv.group div.collapsed {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\t*.logentry {","\t\t\t\toverflow: visible;","\t\t\t\tdisplay: none;","\t\t\t\twhite-space: pre;","\t\t\t}","","\t\t\tspan.pre {","\t\t\t\twhite-space: pre;","\t\t\t}","\t\t\t","\t\t\tpre.unwrapped {","\t\t\t\tdisplay: inline !important;","\t\t\t}","","\t\t\tpre.unwrapped pre.pre, div.wrapped pre.pre {","\t\t\t\tdisplay: inline;","\t\t\t}","","\t\t\tdiv.wrapped pre.pre {","\t\t\t\twhite-space: normal;","\t\t\t}","","\t\t\tdiv.wrapped {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\tbody.searching *.logentry span.currentmatch {","\t\t\t\tcolor: white !important;","\t\t\t\tbackground-color: green !important;","\t\t\t}","","\t\t\tbody.searching div.searchhighlight *.logentry span.searchterm {","\t\t\t\tcolor: black;","\t\t\t\tbackground-color: yellow;","\t\t\t}","","\t\t\tdiv.wrap *.logentry {","\t\t\t\twhite-space: normal !important;","\t\t\t\tborder-width: 0 0 1px 0;","\t\t\t\tborder-color: #dddddd;","\t\t\t\tborder-style: dotted;","\t\t\t}","","\t\t\tdiv.wrap #log_wrapped, #log_unwrapped {","\t\t\t\tdisplay: block;","\t\t\t}","","\t\t\tdiv.wrap #log_unwrapped, #log_wrapped {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\tdiv.wrap *.logentry span.pre {","\t\t\t\toverflow: visible;","\t\t\t\twhite-space: normal;","\t\t\t}","","\t\t\tdiv.wrap *.logentry pre.unwrapped {","\t\t\t\tdisplay: none;","\t\t\t}","","\t\t\tdiv.wrap *.logentry span.wrapped {","\t\t\t\tdisplay: inline;","\t\t\t}","","\t\t\tdiv.searchfilter *.searchnonmatch {","\t\t\t\tdisplay: none !important;","\t\t\t}","","\t\t\tdiv#log *.TRACE, label#label_TRACE {","\t\t\t\tcolor: #666666;","\t\t\t}","","\t\t\tdiv#log *.DEBUG, label#label_DEBUG {","\t\t\t\tcolor: green;","\t\t\t}","","\t\t\tdiv#log *.INFO, label#label_INFO {","\t\t\t\tcolor: #000099;","\t\t\t}","","\t\t\tdiv#log *.WARN, label#label_WARN {","\t\t\t\tcolor: #999900;","\t\t\t}","","\t\t\tdiv#log *.ERROR, label#label_ERROR {","\t\t\t\tcolor: red;","\t\t\t}","","\t\t\tdiv#log *.FATAL, label#label_FATAL {","\t\t\t\tcolor: #660066;","\t\t\t}","","\t\t\tdiv.TRACE#log *.TRACE,","\t\t\tdiv.DEBUG#log *.DEBUG,","\t\t\tdiv.INFO#log *.INFO,","\t\t\tdiv.WARN#log *.WARN,","\t\t\tdiv.ERROR#log *.ERROR,","\t\t\tdiv.FATAL#log *.FATAL {","\t\t\t\tdisplay: block;","\t\t\t}","","\t\t\tdiv#log div.separator {","\t\t\t\tbackground-color: #cccccc;","\t\t\t\tmargin: 5px 0;","\t\t\t\tline-height: 1px;","\t\t\t}","\t\t</style>","\t</head>","",'\t<body id="body">','\t\t<div id="switchesContainer">','\t\t\t<div id="switches">','\t\t\t\t<div id="levels" class="toolbar">',"\t\t\t\t\tFilters:",'\t\t\t\t\t<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','\t\t\t\t\t<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','\t\t\t\t\t<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','\t\t\t\t\t<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','\t\t\t\t\t<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','\t\t\t\t\t<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','\t\t\t\t\t<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"\t\t\t\t</div>",'\t\t\t\t<div id="search" class="toolbar">','\t\t\t\t\t<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','\t\t\t\t\t<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','\t\t\t\t\t<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','\t\t\t\t\t<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','\t\t\t\t\t<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','\t\t\t\t\t<div id="searchNav">','\t\t\t\t\t\t<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','\t\t\t\t\t\t<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','\t\t\t\t\t\t<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','\t\t\t\t\t\t<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"\t\t\t\t\t</div>","\t\t\t\t</div>",'\t\t\t\t<div id="options" class="toolbar">',"\t\t\t\t\tOptions:",'\t\t\t\t\t<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','\t\t\t\t\t<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','\t\t\t\t\t<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','\t\t\t\t\t<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','\t\t\t\t\t<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','\t\t\t\t\t<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','\t\t\t\t\t<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"\t\t\t\t</div>","\t\t\t</div>","\t\t</div>",'\t\t<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','\t\t<div id="commandLine" class="toolbar">','\t\t\t<div id="commandLineContainer">','\t\t\t\t<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','\t\t\t\t<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"\t\t\t</div>","\t\t</div>","\t</body>","</html>",""]},r=[];ConsoleAppender=function(){};var o=1;ConsoleAppender.prototype=new Appender,ConsoleAppender.prototype.create=function(t,e,i,a,s,l,c,d){function p(t,e){this.loggingEvent=t,this.levelName=t.level.name,this.formattedMessage=e}function h(t,e){this.name=t,this.initiallyExpanded=e}function u(){}var g=this,m=!1,f=!1,v=!1,y=!1,E=[],L=!0,w=o++;a=extractBooleanFromParam(a,this.defaults.initiallyMinimized),i=extractBooleanFromParam(i,this.defaults.lazyInit),s=extractBooleanFromParam(s,this.defaults.useDocumentWrite);var C=this.defaults.newestMessageAtTop,b=this.defaults.scrollToLatestMessage;l=l||this.defaults.width,c=c||this.defaults.height;var x=this.defaults.maxMessages,T=this.defaults.showCommandLine,S=this.defaults.commandLineObjectExpansionDepth,A=this.defaults.showHideButton,M=this.defaults.showCloseButton;this.defaults.showLogEntryDeleteButtons;this.setLayout(this.defaults.layout);var I,D,R,N,k,F=t?"InPageAppender":"PopUpAppender",P=function(t){return!f||(handleError(F+": configuration option '"+t+"' may not be set after the appender has been initialized"),!1)},O=function(){return v&&L&&!y};this.isNewestMessageAtTop=function(){return C},this.setNewestMessageAtTop=function(t){C=bool(t),O()&&N().setNewestAtTop(C)},this.isScrollToLatestMessage=function(){return b},this.setScrollToLatestMessage=function(t){b=bool(t),O()&&N().setScrollToLatest(b)},this.getWidth=function(){return l},this.setWidth=function(t){P("width")&&(l=extractStringFromParam(t,l))},this.getHeight=function(){return c},this.setHeight=function(t){P("height")&&(c=extractStringFromParam(t,c))},this.getMaxMessages=function(){return x},this.setMaxMessages=function(t){x=extractIntFromParam(t,x),O()&&N().setMaxMessages(x)},this.isShowCommandLine=function(){return T},this.setShowCommandLine=function(t){T=bool(t),O()&&N().setShowCommandLine(T)},this.isShowHideButton=function(){return A},this.setShowHideButton=function(t){A=bool(t),O()&&N().setShowHideButton(A)},this.isShowCloseButton=function(){return M},this.setShowCloseButton=function(t){M=bool(t),O()&&N().setShowCloseButton(M)},this.getCommandLineObjectExpansionDepth=function(){return S},this.setCommandLineObjectExpansionDepth=function(t){S=extractIntFromParam(t,S)};var j=a;this.isInitiallyMinimized=function(){return a},this.setInitiallyMinimized=function(t){P("initiallyMinimized")&&(a=bool(t),j=a)},this.isUseDocumentWrite=function(){return s},this.setUseDocumentWrite=function(t){P("useDocumentWrite")&&(s=bool(t))},p.prototype.append=function(){N().log(this.levelName,this.formattedMessage)},h.prototype.append=function(){N().group(this.name,this.initiallyExpanded)},u.prototype.append=function(){N().groupEnd()};var B=function(){R(),m?y&&tt&&D():I(),R()&&H()};this.append=function(t){if(L){var e=g.getLayout().format(t);this.getLayout().ignoresThrowable()&&(e+=t.getThrowableStrRep()),E.push(new p(t,e)),B()}},this.group=function(t,e){L&&(E.push(new h(t,e)),B())},this.groupEnd=function(){L&&(E.push(new u),B())};var H=function(){for(;E.length>0;)E.shift().append();d&&N().focus()};this.setAddedToLogger=function(t){this.loggers.push(t),enabled&&!i&&I()},this.clear=function(){O()&&N().clearLog(),E.length=0},this.focus=function(){O()&&N().focus()},this.focusCommandLine=function(){O()&&N().focusCommandLine()},this.focusSearch=function(){O()&&N().focusSearch()};var _=window;this.getCommandWindow=function(){return _},this.setCommandWindow=function(t){_=t},this.executeLastCommand=function(){O()&&N().evalLastCommand()};var U=new PatternLayout("%m");this.getCommandLayout=function(){return U},this.setCommandLayout=function(t){U=t},this.evalCommandAndAppend=function(t){var e={appendResult:!0,isError:!1},n="";try{var r,o;!_.eval&&_.execScript&&_.execScript("null");var i={};for(o=0,len=W.length;o<len;o++)i[W[o][0]]=W[o][1];var a=[],s=function(t){a.push([t,_[t]])};s("appender"),_.appender=g,s("commandReturnValue"),_.commandReturnValue=e,s("commandLineFunctionsHash"),_.commandLineFunctionsHash=i;for(o=0,len=W.length;o<len;o++)!function(t){s(t),_[t]=function(){return this.commandLineFunctionsHash[t](g,arguments,e)}}(W[o][0]);for(_===window&&_.execScript?(s("evalExpr"),s("result"),window.evalExpr=t,_.execScript("window.result=eval(window.evalExpr);"),r=window.result):r=_.eval(t),n=isUndefined(r)?r:formatObjectExpansion(r,S),o=0,len=a.length;o<len;o++)_[a[o][0]]=a[o][1]}catch(t){n="Error evaluating command: "+getExceptionStringRep(t),e.isError=!0}if(e.appendResult){var l=">>> "+t;isUndefined(n)||(l+=newLine+n);var c=e.isError?Level.ERROR:Level.INFO,d=new LoggingEvent(null,new Date,c,[l],null),p=this.getLayout();this.setLayout(U),this.append(d),this.setLayout(p)}};var W=r.concat([]);this.addCommandLineFunction=function(t,e){W.push([t,e])};this.storeCommandHistory=function(t){setCookie("log4javascriptCommandHistory",t.join(","))};var G=function(t){var e=n();t.open();for(var r=0,o=e.length;r<o;r++)t.writeln(e[r]);t.close()};this.setEventTypes(["load","unload"]);var V=function(){var t=N();t.setAppender(g),t.setNewestAtTop(C),t.setScrollToLatest(b),t.setMaxMessages(x),t.setShowCommandLine(T),t.setShowHideButton(A),t.setShowCloseButton(M),t.setMainWindow(window);var e=getCookie("log4javascriptCommandHistory");e&&(t.commandHistory=e.split(","),t.currentCommandIndex=t.commandHistory.length),g.dispatchEvent("load",{win:t})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),y||(logLog.debug("really doing unload "+this),y=!0,v=!1,f=!1,g.dispatchEvent("unload",{}))};var $=function(t,e,n,r){function o(){try{y&&clearInterval(i),t(N())&&(clearInterval(i),n())}catch(t){clearInterval(i),L=!1,handleError(r,t)}}var i=setInterval(o,e)},K=function(){var t=document.domain!=location.hostname;return s?"":getBaseUrl()+"console_uncompressed.html"+(t?"?log4javascript_domain="+escape(document.domain):"")};if(t){var z=null,q=[];this.addCssProperty=function(t,e){P("cssProperties")&&q.push([t,e])};var X,J=!1,Y=uniqueId+"_InPageAppender_"+w;this.hide=function(){m&&f&&(O()&&N().$("command").blur(),X.style.display="none",j=!0)},this.show=function(){m&&(f?(X.style.display="block",this.setShowCommandLine(T),j=!1):J||D(!0))},this.isVisible=function(){return!j&&!y},this.close=function(t){y||t&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(X.parentNode.removeChild(X),this.unload())},k=function(){function t(){try{a||g.show(),V(),v=!0,H()}catch(t){L=!1,handleError(n,t)}}function e(){try{var e=function(t){return isLoaded(t)};s&&G(N().document),e(N())?t():$(e,100,t,n)}catch(t){L=!1,handleError(n,t)}}var n="InPageAppender.open: unable to create console iframe";j=!1,X=z.appendChild(document.createElement("div")),X.style.width=l,X.style.height=c,X.style.border="solid gray 1px";for(var r=0,o=q.length;r<o;r++)X.style[q[r][0]]=q[r][1];var i=s?"":" src='"+K()+"'";X.innerHTML="<iframe id='"+Y+"' name='"+Y+"' width='100%' height='100%' frameborder='0'"+i+" scrolling='no'></iframe>",y=!1;var d=function(t){try{return bool(t)&&bool(t.document)}catch(t){return!1}};d(N())?e():$(d,100,e,n),f=!0},D=function(t){if(t||!a){var n=function(){if(e)try{var t=document.getElementById(e);1==t.nodeType&&(z=t),k()}catch(t){handleError("InPageAppender.init: invalid container element '"+e+"' supplied",t)}else z=document.createElement("div"),z.style.position="fixed",z.style.left="0",z.style.right="0",z.style.bottom="0",document.body.appendChild(z),g.addCssProperty("borderWidth","1px 0 0 0"),g.addCssProperty("zIndex",1e6),k()};pageLoaded&&e&&e.appendChild?(z=e,k()):pageLoaded?n():log4javascript.addEventListener("load",n),J=!0}},I=function(){D(),m=!0},N=function(){var t=window.frames[Y];if(t)return t},R=function(){return!(!L||y)&&(f&&!v&&N()&&isLoaded(N())&&(v=!0),v)}}else{var Q=g.defaults.useOldPopUp,Z=g.defaults.complainAboutPopUpBlocking,tt=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Q},this.setUseOldPopUp=function(t){P("useOldPopUp")&&(Q=bool(t))},this.isComplainAboutPopUpBlocking=function(){return Z},this.setComplainAboutPopUpBlocking=function(t){P("complainAboutPopUpBlocking")&&(Z=bool(t))},this.isFocusPopUp=function(){return d},this.setFocusPopUp=function(t){d=bool(t)},this.isReopenWhenClosed=function(){return tt},this.setReopenWhenClosed=function(t){tt=bool(t)},this.close=function(){logLog.debug("close "+this);try{et.close(),this.unload()}catch(t){}},this.hide=function(){logLog.debug("hide "+this),O()&&this.close()},this.show=function(){logLog.debug("show "+this),f||k()},this.isVisible=function(){return R()};var et;k=function(){function t(){N().setCloseIfOpenerCloses(!Q||!s),V(),v=!0,H(),$(i,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var e="width="+l+",height="+c+",status,resizable",n="";try{var r=window.frameElement;r&&(n="_"+r.tagName+"_"+(r.name||r.id||""))}catch(t){n="_inaccessibleParentFrame"}var o="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+w+n;Q&&s||(o=o+"_"+uniqueId);var i=function(t){if(y)return!0;try{return bool(t)&&t.closed}catch(t){}return!1},a=function(){y||g.unload()};try{if(et=window.open(K(),o,e),y=!1,f=!0,et&&et.document)if(s&&Q&&isLoaded(et))et.mainPageReloaded(),t();else{s&&G(et.document);var d=function(t){return bool(t)&&isLoaded(t)};isLoaded(et)?t():$(d,100,t,"PopUpAppender.init: unable to create console window")}else L=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),Z&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.")}catch(t){handleError("PopUpAppender.init: error creating pop-up",t)}},D=function(){a||k()},I=function(){D(),m=!0},N=function(){return et},R=function(){if(L&&!isUndefined(et)&&!y){if(et.closed||v&&isUndefined(et.closed))return g.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!v&&isLoaded(et)&&(v=!0)}return L&&v&&!y}}this.getConsoleWindow=N},ConsoleAppender.addGlobalCommandLineFunction=function(t,e){r.push([t,e])},t.prototype=new ConsoleAppender,t.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},t.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=t,e.prototype=new ConsoleAppender,e.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},e.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=e,log4javascript.InlineAppender=e}(),function(){function t(t){var e=0;for(var n in t)e=Math.max(toStr(n).length,e);var r=[];for(n in t){var o,i="  "+padWithSpaces(toStr(n),e+2);try{o=splitIntoLines(toStr(t[n])).join(padWithSpaces(newLine,e+6))}catch(t){o="[Error obtaining property. Details: "+getExceptionMessage(t)+"]"}r.push(i+o)}return r.join(newLine)}function e(t,n,s,l,c){function d(t){for(var e=t.style.cssText.split(";"),n="",r=0,o=e.length;r<o;r++){var i=e[r].split(":"),a=[];/^\s*$/.test(i[0])||a.push(trim(i[0]).toLowerCase()+":"+trim(i[1])),n=a.join(";")}return n}n=void 0===n||!!n,"string"!=typeof s&&(s=""),l=!!l,c=!!c;var p;if(!n||t.nodeType==r.DOCUMENT_FRAGMENT_NODE){p="";for(var h=0,u=t.childNodes.length;h<u;h++)p+=e(t.childNodes[h],!0,s+a);return p}switch(t.nodeType){case r.ELEMENT_NODE:var g=t.tagName.toLowerCase();p=l?newLine+s:"",p+="<";var m=function(t){if(t.prefix)return t.prefix;if(t.outerHTML){if(new RegExp("<([^:]+):"+t.tagName+"[^>]*>","i").test(t.outerHTML))return RegExp.$1.toLowerCase()}return""}(t),f=!!m;for(f&&(p+=m+":"),p+=g,h=0,u=t.attributes.length;h<u;h++){var v=t.attributes[h];v.specified&&null!==v.nodeValue&&"style"!==v.nodeName.toLowerCase()&&"string"==typeof v.nodeValue&&0!==v.nodeName.indexOf("_moz")&&(p+=" "+v.nodeName.toLowerCase()+'="',p+=function(t){return t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}(v.nodeValue),p+='"')}if(t.style.cssText){""!==d(t)&&(p+=' style="'+d(t)+'"')}if(array_contains(i,g)||f&&!t.hasChildNodes())p+="/>";else{p+=">";for(var y=!(1===t.childNodes.length&&t.childNodes[0].nodeType===r.TEXT_NODE),E=array_contains(o,g),h=0,u=t.childNodes.length;h<u;h++)p+=e(t.childNodes[h],!0,s+a,y,E);var L="</"+g+">";p+=y?newLine+s+L:L}return p;case r.TEXT_NODE:if(function(t){return t.nodeType==r.TEXT_NODE&&/^[ \t\r\n]*$/.test(t.nodeValue)}(t))p="";else{if(c)p=t.nodeValue;else{for(var w=splitIntoLines(trim(t.nodeValue)),C=[],h=0,u=w.length;h<u;h++)C[h]=trim(w[h]);p=C.join(newLine+s)}l&&(p=newLine+s+p)}return p;case r.CDATA_SECTION_NODE:return"<![CDATA["+t.nodeValue+"]]>"+newLine;case r.DOCUMENT_NODE:p="";for(var h=0,u=t.childNodes.length;h<u;h++)p+=e(t.childNodes[h],!0,s);return p;default:return""}}function n(){ConsoleAppender.addGlobalCommandLineFunction("$",function(t,e,n){return document.getElementById(e[0])}),ConsoleAppender.addGlobalCommandLineFunction("dir",function(e,n,r){for(var o=[],i=0,a=n.length;i<a;i++)o[i]=t(n[i]);return o.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("dirxml",function(t,n,r){for(var o=[],i=0,a=n.length;i<a;i++){t.getCommandWindow();o[i]=e(n[i])}return o.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("cd",function(t,e,n){var r,o;return 0===e.length||""===e[0]?(r=window,o="Command line set to run in main window"):e[0].window==e[0]?(r=e[0],o="Command line set to run in frame '"+e[0].name+"'"):(r=window.frames[e[0]],r?o="Command line set to run in frame '"+e[0]+"'":(n.isError=!0,o="Frame '"+e[0]+"' does not exist",r=t.getCommandWindow())),t.setCommandWindow(r),o}),ConsoleAppender.addGlobalCommandLineFunction("clear",function(t,e,n){n.appendResult=!1,t.clear()}),ConsoleAppender.addGlobalCommandLineFunction("keys",function(t,e,n){var r=[];for(var o in e[0])r.push(o);return r}),ConsoleAppender.addGlobalCommandLineFunction("values",function(t,e,n){var r=[];for(var o in e[0])try{r.push(e[0][o])}catch(t){logLog.warn("values(): Unable to obtain value for key "+o+". Details: "+getExceptionMessage(t))}return r}),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",function(t,e,n){var r=parseInt(e[0],10);return isNaN(r)||r<0?(n.isError=!0,e[0]+" is not a valid expansion depth"):(t.setCommandLineObjectExpansionDepth(r),"Object expansion depth set to "+r)})}var r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o=["script","pre"],i=["br","img","hr","param","link","area","input","col","base","meta"],a="  ";!function(){n()}()}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(t){oldOnload&&oldOnload(t),log4javascript.setDocumentReady()}}return window.log4javascript=log4javascript,log4javascript}();
!function(e,i,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define("libs/bowser",r):e["libs/bowser"]=r()}(this,0,function(){function e(e){function i(i){var r=e.match(i);return r&&r.length>1&&r[1]||""}var r,s=i(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),n=!o&&/android/i.test(e),a=/nexus\s*[0-6]\s*/i.test(e),d=!a&&/nexus\s*[0-9]+/i.test(e),m=/CrOS/.test(e),v=/silk/i.test(e),p=/sailfish/i.test(e),l=/tizen/i.test(e),c=/(web|hpw)os/i.test(e),u=/windows phone/i.test(e),f=(/SamsungBrowser/i.test(e),!u&&/windows/i.test(e)),h=!s&&!v&&/macintosh/i.test(e),b=!n&&!p&&!l&&!c&&/linux/i.test(e),w=i(/edge\/(\d+(\.\d+)?)/i),g=i(/version\/(\d+(\.\d+)?)/i),k=/tablet/i.test(e)&&!/tablet pc/i.test(e),y=!k&&/[^-]mobi/i.test(e),x=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:g||i(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:i(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:g||i(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:g||i(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:g||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:i(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:i(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:i(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:i(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:i(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:i(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(r={name:"Windows Phone",windowsphone:t},w?(r.msedge=t,r.version=w):(r.msie=t,r.version=i(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?r={name:"Chrome",chromeos:t,chromeBook:t,chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:w}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:i(/vivaldi\/(\d+(\.\d+)?)/i)||g}:p?r={name:"Sailfish",sailfish:t,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:i(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t)):v?r={name:"Amazon Silk",silk:t,version:i(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:i(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",blackberry:t,version:g||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:c?(r={name:"WebOS",webos:t,version:g||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",bada:t,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:l?r={name:"Tizen",tizen:t,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:i(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:i(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:n?r={name:"Android",version:g}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},g&&(r.version=g)):s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:i(/googlebot\/(\d+(\.\d+))/i)||g}:{name:i(/^(.*)\/(.*) /),version:function(i){var r=e.match(i);return r&&r.length>1&&r[2]||""}(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||i(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||r.msedge||!n&&!r.silk?r.windowsphone||r.msedge||!s?h?r.mac=t:x?r.xbox=t:f?r.windows=t:b&&(r.linux=t):(r[s]=t,r.ios=t):r.android=t;var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(i(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(S=i(/Mac OS X (\d+([_\.\s]\d+)*)/i),S=S.replace(/[_\s]/g,".")):s?(S=i(/os (\d+([_\s]\d+)*) like mac os x/i),S=S.replace(/[_\s]/g,".")):n?S=i(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=i(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=i(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var B=!r.windows&&S.split(".")[0];return k||d||"ipad"==s||n&&(3==B||B>=4&&!y)||r.silk?r.tablet=t:(y||"iphone"==s||"ipod"==s||n||a||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}function i(e){return e.split(".").length}function r(e,i){var r,s=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(r=0;r<e.length;r++)s.push(i(e[r]));return s}function s(e){for(var s=Math.max(i(e[0]),i(e[1])),o=r(e,function(e){var o=s-i(e);return e+=new Array(o+1).join(".0"),r(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--s>=0;){if(o[0][s]>o[1][s])return 1;if(o[0][s]!==o[1][s])return-1;if(0===s)return 0}}function o(i,r,o){var n=a;"string"==typeof r&&(o=r,r=void 0),void 0===r&&(r=!1),o&&(n=e(o));var t=""+n.version;for(var d in i)if(i.hasOwnProperty(d)&&n[d]){if("string"!=typeof i[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(i));return s([t,i[d]])<0}return r}function n(e,i,r){return!o(e,i,r)}var t=!0,a=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return a.test=function(e){for(var i=0;i<e.length;++i){var r=e[i];if("string"==typeof r&&r in a)return!0}return!1},a.isUnsupportedBrowser=o,a.compareVersions=s,a.check=n,a._detect=e,a});
jQuery&&function(){$.extend($.fn,{contextMenu:function(e,t){return void 0!=e.menu&&(void 0==e.mouseButton&&(e.mouseButton=2),void 0==e.inSpeed&&(e.inSpeed=150),void 0==e.outSpeed&&(e.outSpeed=75),0==e.inSpeed&&(e.inSpeed=-1),0==e.outSpeed&&(e.outSpeed=-1),"left"==e.mouseButton&&(e.mouseButton=0),"middle"==e.mouseButton&&(e.mouseButton=1),"right"==e.mouseButton&&(e.mouseButton=2),void 0==e.position&&(e.position="bottom right"),void 0==e.handlers&&(e.handlers={}),$(this).each(function(){var n=$(this),i=n.offset();$("#"+e.menu).addClass("context-menu"),$(this).on("mousedown",function(o){var s=o;s.stopPropagation(),$(this).on("mouseup",function(o){o.stopPropagation();$(this);if($(this).unbind("mouseup"),s.button==e.mouseButton){var d=$("#"+e.menu);if($(n).hasClass("disabled"))return!1;var u,c;switch(e.position){case"mouserelative":var l={};self.innerHeight?(l.pageYOffset=self.pageYOffset,l.pageXOffset=self.pageXOffset,l.innerHeight=self.innerHeight,l.innerWidth=self.innerWidth):document.documentElement&&document.documentElement.clientHeight?(l.pageYOffset=document.documentElement.scrollTop,l.pageXOffset=document.documentElement.scrollLeft,l.innerHeight=document.documentElement.clientHeight,l.innerWidth=document.documentElement.clientWidth):document.body&&(l.pageYOffset=document.body.scrollTop,l.pageXOffset=document.body.scrollLeft,l.innerHeight=document.body.clientHeight,l.innerWidth=document.body.clientWidth),u=o.pageX?o.pageX:o.clientX+l.scrollLeft,c=o.pageY?o.pageY:o.clientY+l.scrollTop;break;default:var a=e.position.split(" ");if(2==a.length){switch(a[0]){case"top":c=$(this).offset().top;break;case"center":c=$(this).offset().top+$(this).height()/2;break;case"bottom":c=$(this).offset().top+$(this).height()}switch(a[1]){case"left":u=$(this).offset().left;break;case"center":u=$(this).offset().left+$(this).width()/2;break;case"right":u=$(this).offset().left+$(this).width()}}else u=$(this).offset().left+$(this).width(),c=$(this).offset().top+$(this).height()}$(document).unbind("click.context-menu"),$(d).css({top:c,left:u}).fadeIn(e.inSpeed),$(d).find("a").on("mouseover",function(){$(d).find("li.hover").removeClass("hover"),$(this).parent().addClass("hover")}).on("mouseout",function(){$(d).find("li.hover").removeClass("hover")}),$(document).on("keydown.context-menu",function(e){switch(e.keyCode){case 38:0==$(d).find("li.hover").size()?$(d).find("li:last").addClass("hover"):($(d).find("li.hover").removeClass("hover").prevAll("li:not(.disabled)").eq(0).addClass("hover"),0==$(d).find("li.hover").size()&&$(d).find("li:last").addClass("hover"));break;case 40:0==$(d).find("li.hover").size()?$(d).find("li:first").addClass("hover"):($(d).find("li.hover").removeClass("hover").nextAll("li:not(.disabled)").eq(0).addClass("hover"),0==$(d).find("li.hover").size()&&$(d).find("li:first").addClass("hover"));break;case 13:$(d).find("li.hover a").trigger("click");break;case 27:$(document).trigger("click")}}),$("#"+e.menu).find("a").unbind("click"),$("#"+e.menu).find("li:not(.disabled) a").on("click",function(n){return $(document).unbind("click.context-menu").unbind("keypress.context-menu"),$(".context-menu").hide(),e.handlers[$(this).attr("id")]&&e.handlers[$(this).attr("id")](this,n),t&&t($(this).attr("href").substr(1),$(n.target),{x:u-i.left,y:c-i.top,docX:u,docY:c}),!1}),setTimeout(function(){$(document).on("click.context-menu",function(){return $(document).unbind("click.context-menu").unbind("keydown.context-menu"),$(d).fadeOut(e.outSpeed),!1})},10)}})}),$.browser.mozilla?$("#"+e.menu).each(function(){$(this).css({MozUserSelect:"none"})}):$.browser.msie?$("#"+e.menu).each(function(){$(this).bind("selectstart.disableTextSelect",function(){return!1})}):$("#"+e.menu).each(function(){$(this).bind("mousedown.disableTextSelect",function(){return!1})}),$(n).add($("ul.context-menu")).bind("contextmenu",function(){return!1})}),$(this))},disableContextMenuItems:function(e){return void 0==e?($(this).find("li").addClass("disabled"),$(this)):($(this).each(function(){if(void 0!=e)for(var t=e.split(","),n=0;n<t.length;n++)$(this).find('a[href="'+t[n]+'"]').parent().addClass("disabled")}),$(this))},enableContextMenuItems:function(e){return void 0==e?($(this).find("li.disabled").removeClass("disabled"),$(this)):($(this).each(function(){if(void 0!=e)for(var t=e.split(","),n=0;n<t.length;n++)$(this).find('a[href="'+t[n]+'"]').parent().removeClass("disabled")}),$(this))},disableContextMenu:function(){return $(this).each(function(){$(this).addClass("disabled")}),$(this)},enableContextMenu:function(){return $(this).each(function(){$(this).removeClass("disabled")}),$(this)},destroyContextMenu:function(){return $(this).each(function(){$(this).unbind("mousedown.context-menu").unbind("mouseup.context-menu")}),$(this)}})}(jQuery);
eval(function(a,e,b,o,i,d){if(i=function(a){return(a<62?"":i(parseInt(a/62)))+((a%=62)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;b--;)d[i(b)]=o[b]||i(b);o=[function(a){return d[a]}],i=function(){return"\\w+"},b=1}for(;b--;)o[b]&&(a=a.replace(new RegExp("\\b"+i(b)+"\\b","g"),o[b]));return a}("(C($){8($.1r.1v){G}$.1r.6s=$.1r.1v=C(u,w){8(1k.R==0){17(I,'6t 57 6u 1j \"'+1k.4p+'\".');G 1k}8(1k.R>1){G 1k.1W(C(){$(1k).1v(u,w)})}E y=1k,$13=1k[0],59=K;8(y.1m('5a')){59=y.1Q('3p','4q');y.S('3p',['4r',I])}y.5b=C(o,a,b){o=3T($13,o);o.D=6v($13,o.D);o.1M=6w($13,o.1M);o.M=6x($13,o.M);o.V=5c($13,o.V);o.Z=5c($13,o.Z);o.1a=6y($13,o.1a);o.1q=6z($13,o.1q);o.1h=6A($13,o.1h);8(a){34=$.1N(I,{},$.1r.1v.5d,o)}7=$.1N(I,{},$.1r.1v.5d,o);7.d=6B(7);z.2b=(7.2b=='4s'||7.2b=='1n')?'Z':'V';E c=y.14(),2n=5e($1s,7,'N');8(3q(7.23)){7.23='7T'+F.3U}7.3V=5f(7,2n);7.D=6C(7.D,7,c,b);7[7.d['N']]=6D(7[7.d['N']],7,c);7[7.d['1d']]=6E(7[7.d['1d']],7,c);8(7.2o){8(!3W(7[7.d['N']])){7[7.d['N']]='2J%'}}8(3W(7[7.d['N']])){z.6F=I;z.4t=7[7.d['N']];7[7.d['N']]=4u(2n,z.4t);8(!7.D.L){7.D.T.1c=I}}8(7.2o){7.1R=K;7.1i=[0,0,0,0];7.1A=K;7.D.T.1c=K}O{8(!7.D.L){7=6G(7,2n)}8(!7[7.d['N']]){8(!7.D.T.1c&&11(7.D[7.d['N']])&&7.D.1t=='*'){7[7.d['N']]=7.D.L*7.D[7.d['N']];7.1A=K}O{7[7.d['N']]='1c'}}8(1E(7.1A)){7.1A=(11(7[7.d['N']]))?'5g':K}8(7.D.T.1c){7.D.L=35(c,7,0)}}8(7.D.1t!='*'&&!7.D.T.1c){7.D.T.4v=7.D.L;7.D.L=3X(c,7,0)}7.D.L=2z(7.D.L,7,7.D.T.2c,$13);7.D.T.1Z=7.D.L;8(7.2o){8(!7.D.T.36){7.D.T.36=7.D.L}8(!7.D.T.1X){7.D.T.1X=7.D.L}7=5h(7,c,2n)}O{7.1i=6H(7.1i);8(7.1A=='3r'){7.1A='1n'}O 8(7.1A=='5i'){7.1A='3a'}1B(7.1A){Q'5g':Q'1n':Q'3a':8(7[7.d['N']]!='1c'){7=5j(7,c);7.1R=I}16;2A:7.1A=K;7.1R=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?K:I;16}}8(!11(7.1M.1F)){7.1M.1F=6I}8(1E(7.1M.D)){7.1M.D=(7.2o||7.D.T.1c||7.D.1t!='*')?'L':7.D.L}7.M=$.1N(I,{},7.1M,7.M);7.V=$.1N(I,{},7.1M,7.V);7.Z=$.1N(I,{},7.1M,7.Z);7.1a=$.1N(I,{},7.1M,7.1a);7.M=6J($13,7.M);7.V=5k($13,7.V);7.Z=5k($13,7.Z);7.1a=6K($13,7.1a);7.1q=6L($13,7.1q);7.1h=6M($13,7.1h);8(7.2p){7.2p=5l(7.2p)}8(7.M.5m){7.M.4w=7.M.5m;2K('M.5m','M.4w')}8(7.M.5n){7.M.4x=7.M.5n;2K('M.5n','M.4x')}8(7.M.5o){7.M.4y=7.M.5o;2K('M.5o','M.4y')}8(7.M.5p){7.M.2L=7.M.5p;2K('M.5p','M.2L')}};y.6N=C(){y.1m('5a',I);E a=y.14(),3Y=5q(y,['6O','6P','3s','3r','3a','5i','1n','3Z','N','1d','6Q','1S','5r','6R']),5s='7U';1B(3Y.3s){Q'6S':Q'7V':5s=3Y.3s;16}$1s.X(3Y).X({'7W':'3t','3s':5s});y.1m('5t',3Y).X({'6O':'1n','6P':'41','3s':'6S','3r':0,'3a':'M','5i':'M','1n':0,'6Q':0,'1S':0,'5r':0,'6R':0});4z(a,7);5u(a,7);8(7.2o){5v(7,a)}};y.6T=C(){y.5w();y.12(H('5x',F),C(e,a){e.1f();8(!z.2d){8(7.M.W){7.M.W.3b(2B('4A',F))}}z.2d=I;8(7.M.1G){7.M.1G=K;y.S(H('3c',F),a)}G I});y.12(H('5y',F),C(e){e.1f();8(z.25){42(U)}G I});y.12(H('3c',F),C(e,a,b){e.1f();1u=3u(1u);8(a&&z.25){U.2d=I;E c=2q()-U.2M;U.1F-=c;8(U.3v){U.3v.1F-=c}8(U.3w){U.3w.1F-=c}42(U,K)}8(!z.26&&!z.25){8(b){1u.3x+=2q()-1u.2M}}8(!z.26){8(7.M.W){7.M.W.3b(2B('6U',F))}}z.26=I;8(7.M.4x){E d=7.M.2L-1u.3x,3d=2J-1H.2C(d*2J/7.M.2L);7.M.4x.1g($13,3d,d)}G I});y.12(H('1G',F),C(e,b,c,d){e.1f();1u=3u(1u);E v=[b,c,d],t=['2N','27','3e'],a=3f(v,t);b=a[0];c=a[1];d=a[2];8(b!='V'&&b!='Z'){b=z.2b}8(!11(c)){c=0}8(!1l(d)){d=K}8(d){z.2d=K;7.M.1G=I}8(!7.M.1G){e.2e();G 17(F,'3y 4A: 2r 3g.')}8(z.26){8(7.M.W){7.M.W.2O(2B('4A',F));7.M.W.2O(2B('6U',F))}}z.26=K;1u.2M=2q();E f=7.M.2L+c;43=f-1u.3x;3d=2J-1H.2C(43*2J/f);8(7.M.1e){1u.1e=7X(C(){E a=2q()-1u.2M+1u.3x,3d=1H.2C(a*2J/f);7.M.1e.4B.1g(7.M.1e.2s[0],3d)},7.M.1e.5z)}1u.M=7Y(C(){8(7.M.1e){7.M.1e.4B.1g(7.M.1e.2s[0],2J)}8(7.M.4y){7.M.4y.1g($13,3d,43)}8(z.25){y.S(H('1G',F),b)}O{y.S(H(b,F),7.M)}},43);8(7.M.4w){7.M.4w.1g($13,3d,43)}G I});y.12(H('3h',F),C(e){e.1f();8(U.2d){U.2d=K;z.26=K;z.25=I;U.2M=2q();2P(U)}O{y.S(H('1G',F))}G I});y.12(H('V',F)+' '+H('Z',F),C(e,b,f,g,h){e.1f();8(z.2d||y.2f(':3t')){e.2e();G 17(F,'3y 4A 7Z 3t: 2r 3g.')}E i=(11(7.D.4C))?7.D.4C:7.D.L+1;8(i>J.P){e.2e();G 17(F,'2r 6V D ('+J.P+' P, '+i+' 6W): 2r 3g.')}E v=[b,f,g,h],t=['2g','27/2N','C','3e'],a=3f(v,t);b=a[0];f=a[1];g=a[2];h=a[3];E k=e.5A.18(F.3z.44.R);8(!1I(b)){b={}}8(1o(g)){b.3i=g}8(1l(h)){b.2Q=h}b=$.1N(I,{},7[k],b);8(b.5B&&!b.5B.1g($13,k)){e.2e();G 17(F,'80 \"5B\" 81 K.')}8(!11(f)){8(7.D.1t!='*'){f='L'}O{E m=[f,b.D,7[k].D];1j(E a=0,l=m.R;a<l;a++){8(11(m[a])||m[a]=='6X'||m[a]=='L'){f=m[a];16}}}1B(f){Q'6X':e.2e();G y.1Q(H(k+'82',F),[b,g]);16;Q'L':8(!7.D.T.1c&&7.D.1t=='*'){f=7.D.L}16}}8(U.2d){y.S(H('3h',F));y.S(H('2Q',F),[k,[b,f,g]]);e.2e();G 17(F,'3y 83 3g.')}8(b.1F>0){8(z.25){8(b.2Q){8(b.2Q=='2R'){2h=[]}8(b.2Q!='Y'||2h.R==0){y.S(H('2Q',F),[k,[b,f,g]])}}e.2e();G 17(F,'3y 84 3g.')}}1u.3x=0;y.S(H('6Y'+k,F),[b,f]);8(7.2p){E s=7.2p,c=[b,f];1j(E j=0,l=s.R;j<l;j++){E d=k;8(!s[j][2]){d=(d=='V')?'Z':'V'}8(!s[j][1]){c[0]=s[j][0].1Q('3p',['4D',d])}c[1]=f+s[j][3];s[j][0].S('3p',['6Y'+d,c])}}G I});y.12(H('85',F),C(e,b,c){e.1f();E d=y.14();8(!7.1T){8(J.Y==0){8(7.3A){y.S(H('Z',F),J.P-1)}G e.2e()}}1U(d,7);8(!11(c)){8(7.D.T.1c){c=4E(d,7,J.P-1)}O 8(7.D.1t!='*'){E f=(11(b.D))?b.D:5C(y,7);c=6Z(d,7,J.P-1,f)}O{c=7.D.L}c=4F(c,7,b.D,$13)}8(!7.1T){8(J.P-c<J.Y){c=J.P-J.Y}}7.D.T.1Z=7.D.L;8(7.D.T.1c){E g=2z(35(d,7,J.P-c),7,7.D.T.2c,$13);8(7.D.L+c<=g&&c<J.P){c++;g=2z(35(d,7,J.P-c),7,7.D.T.2c,$13)}7.D.L=g}O 8(7.D.1t!='*'){E g=3X(d,7,J.P-c);7.D.L=2z(g,7,7.D.T.2c,$13)}1U(d,7,I);8(c==0){e.2e();G 17(F,'0 D 45 1M: 2r 3g.')}17(F,'70 '+c+' D 5D.');J.Y+=c;2i(J.Y>=J.P){J.Y-=J.P}8(!7.1T){8(J.Y==0&&b.4G){b.4G.1g($13,'V')}8(!7.3A){3B(7,J.Y,F)}}y.14().18(J.P-c,J.P).86(y);8(J.P<7.D.L+c){y.14().18(0,(7.D.L+c)-J.P).4H(I).46(y)}E d=y.14(),3j=71(d,7,c),2j=72(d,7),1Y=d.1O(c-1),20=3j.2R(),2t=2j.2R();1U(d,7);E h=0,2D=0;8(7.1A){E p=4I(2j,7);h=p[0];2D=p[1]}E i=(h<0)?7.1i[7.d[3]]:0;E j=K,2S=$();8(7.D.L<c){2S=d.18(7.D.T.1Z,c);8(b.1V=='73'){E k=7.D[7.d['N']];j=2S;1Y=2t;5E(j);7.D[7.d['N']]='1c'}}E l=K,3C=2T(d.18(0,c),7,'N'),2k=4J(4K(2j,7,I),7,!7.1R),3D=0,28={},4L={},2u={},2U={},4M={},2V={},5F={},2W=5G(b,7,c,3C);1B(b.1V){Q'1J':Q'1J-1w':3D=2T(d.18(0,7.D.L),7,'N');16}8(j){7.D[7.d['N']]=k}1U(d,7,I);8(2D>=0){1U(20,7,7.1i[7.d[1]])}8(h>=0){1U(1Y,7,7.1i[7.d[3]])}8(7.1A){7.1i[7.d[1]]=2D;7.1i[7.d[3]]=h}2V[7.d['1n']]=-(3C-i);5F[7.d['1n']]=-(3D-i);4L[7.d['1n']]=2k[7.d['N']];E m=C(){},1P=C(){},1C=C(){},3E=C(){},2E=C(){},5H=C(){},1D=C(){},3F=C(){},1x=C(){},1y=C(){},1K=C(){};1B(b.1V){Q'3k':Q'1J':Q'1J-1w':Q'21':Q'21-1w':l=y.4H(I).46($1s);16}1B(b.1V){Q'3k':Q'21':Q'21-1w':l.14().18(0,c).2v();l.14().18(7.D.T.1Z).2v();16;Q'1J':Q'1J-1w':l.14().18(7.D.L).2v();l.X(5F);16}y.X(2V);U=47(2W,b.2l);28[7.d['1n']]=(7.1R)?7.1i[7.d[3]]:0;8(7[7.d['N']]=='1c'||7[7.d['1d']]=='1c'){m=C(){$1s.X(2k)};1P=C(){U.19.1b([$1s,2k])}}8(7.1R){8(2t.4N(1Y).R){2u[7.d['1S']]=1Y.1m('29');8(h<0){1Y.X(2u)}O{1D=C(){1Y.X(2u)};3F=C(){U.19.1b([1Y,2u])}}}1B(b.1V){Q'1J':Q'1J-1w':l.14().1O(c-1).X(2u);16}8(2t.4N(20).R){2U[7.d['1S']]=20.1m('29');1C=C(){20.X(2U)};3E=C(){U.19.1b([20,2U])}}8(2D>=0){4M[7.d['1S']]=2t.1m('29')+7.1i[7.d[1]];2E=C(){2t.X(4M)};5H=C(){U.19.1b([2t,4M])}}}1K=C(){y.X(28)};E n=7.D.L+c-J.P;1y=C(){8(n>0){y.14().18(J.P).2v();3j=$(y.14().18(J.P-(7.D.L-n)).3G().74(y.14().18(0,n).3G()))}5I(j);8(7.1R){E a=y.14().1O(7.D.L+c-1);a.X(7.d['1S'],a.1m('29'))}};E o=5J(3j,2S,2j,c,'V',2W,2k);1x=C(){5K(y,l,b);z.25=K;2a.3i=48($13,b,'3i',o,2a);2h=5L(y,2h,F);8(!z.26){y.S(H('1G',F))}};z.25=I;1u=3u(1u);2a.3H=48($13,b,'3H',o,2a);1B(b.1V){Q'41':y.X(28);m();1C();2E();1D();1K();1y();1x();16;Q'1w':U.19.1b([y,{'1L':0},C(){m();1C();2E();1D();1K();1y();U=47(2W,b.2l);U.19.1b([y,{'1L':1},1x]);2P(U)}]);16;Q'3k':y.X({'1L':0});U.19.1b([l,{'1L':0}]);U.19.1b([y,{'1L':1},1x]);1P();1C();2E();1D();1K();1y();16;Q'1J':U.19.1b([l,28,C(){1C();2E();1D();1K();1y();1x()}]);1P();16;Q'1J-1w':U.19.1b([y,{'1L':0}]);U.19.1b([l,28,C(){y.X({'1L':1});1C();2E();1D();1K();1y();1x()}]);1P();16;Q'21':U.19.1b([l,4L,1x]);1P();1C();2E();1D();1K();1y();16;Q'21-1w':y.X({'1L':0});U.19.1b([y,{'1L':1}]);U.19.1b([l,4L,1x]);1P();1C();2E();1D();1K();1y();16;2A:U.19.1b([y,28,C(){1y();1x()}]);1P();3E();5H();3F();16}2P(U);5M(7.23,y,F);y.S(H('3I',F),[K,2k]);G I});y.12(H('87',F),C(e,c,d){e.1f();E f=y.14();8(!7.1T){8(J.Y==7.D.L){8(7.3A){y.S(H('V',F),J.P-1)}G e.2e()}}1U(f,7);8(!11(d)){8(7.D.1t!='*'){E g=(11(c.D))?c.D:5C(y,7);d=75(f,7,0,g)}O{d=7.D.L}d=4F(d,7,c.D,$13)}E h=(J.Y==0)?J.P:J.Y;8(!7.1T){8(7.D.T.1c){E i=35(f,7,d),g=4E(f,7,h-1)}O{E i=7.D.L,g=7.D.L}8(d+i>h){d=h-g}}7.D.T.1Z=7.D.L;8(7.D.T.1c){E i=2z(5N(f,7,d,h),7,7.D.T.2c,$13);2i(7.D.L-d>=i&&d<J.P){d++;i=2z(5N(f,7,d,h),7,7.D.T.2c,$13)}7.D.L=i}O 8(7.D.1t!='*'){E i=3X(f,7,d);7.D.L=2z(i,7,7.D.T.2c,$13)}1U(f,7,I);8(d==0){e.2e();G 17(F,'0 D 45 1M: 2r 3g.')}17(F,'70 '+d+' D 76.');J.Y-=d;2i(J.Y<0){J.Y+=J.P}8(!7.1T){8(J.Y==7.D.L&&c.4G){c.4G.1g($13,'Z')}8(!7.3A){3B(7,J.Y,F)}}8(J.P<7.D.L+d){y.14().18(0,(7.D.L+d)-J.P).4H(I).46(y)}E f=y.14(),3j=77(f,7),2j=78(f,7,d),1Y=f.1O(d-1),20=3j.2R(),2t=2j.2R();1U(f,7);E j=0,2D=0;8(7.1A){E p=4I(2j,7);j=p[0];2D=p[1]}E k=K,2S=$();8(7.D.T.1Z<d){2S=f.18(7.D.T.1Z,d);8(c.1V=='73'){E l=7.D[7.d['N']];k=2S;1Y=20;5E(k);7.D[7.d['N']]='1c'}}E m=K,3C=2T(f.18(0,d),7,'N'),2k=4J(4K(2j,7,I),7,!7.1R),3D=0,28={},4O={},2u={},2U={},2V={},2W=5G(c,7,d,3C);1B(c.1V){Q'21':Q'21-1w':3D=2T(f.18(0,7.D.T.1Z),7,'N');16}8(k){7.D[7.d['N']]=l}8(7.1A){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}1U(f,7,I);1U(20,7,7.1i[7.d[1]]);8(7.1A){7.1i[7.d[1]]=2D;7.1i[7.d[3]]=j}2V[7.d['1n']]=(7.1R)?7.1i[7.d[3]]:0;E n=C(){},1P=C(){},1C=C(){},3E=C(){},1D=C(){},3F=C(){},1x=C(){},1y=C(){},1K=C(){};1B(c.1V){Q'3k':Q'1J':Q'1J-1w':Q'21':Q'21-1w':m=y.4H(I).46($1s);m.14().18(7.D.T.1Z).2v();16}1B(c.1V){Q'3k':Q'1J':Q'1J-1w':y.X('3Z',1);m.X('3Z',0);16}U=47(2W,c.2l);28[7.d['1n']]=-3C;4O[7.d['1n']]=-3D;8(j<0){28[7.d['1n']]+=j}8(7[7.d['N']]=='1c'||7[7.d['1d']]=='1c'){n=C(){$1s.X(2k)};1P=C(){U.19.1b([$1s,2k])}}8(7.1R){E o=2t.1m('29');8(2D>=0){o+=7.1i[7.d[1]]}2t.X(7.d['1S'],o);8(1Y.4N(20).R){2U[7.d['1S']]=20.1m('29')}1C=C(){20.X(2U)};3E=C(){U.19.1b([20,2U])};E q=1Y.1m('29');8(j>0){q+=7.1i[7.d[3]]}2u[7.d['1S']]=q;1D=C(){1Y.X(2u)};3F=C(){U.19.1b([1Y,2u])}}1K=C(){y.X(2V)};E r=7.D.L+d-J.P;1y=C(){8(r>0){y.14().18(J.P).2v()}E a=y.14().18(0,d).46(y).2R();8(r>0){2j=3J(f,7)}5I(k);8(7.1R){8(J.P<7.D.L+d){E b=y.14().1O(7.D.L-1);b.X(7.d['1S'],b.1m('29')+7.1i[7.d[3]])}a.X(7.d['1S'],a.1m('29'))}};E s=5J(3j,2S,2j,d,'Z',2W,2k);1x=C(){y.X('3Z',y.1m('5t').3Z);5K(y,m,c);z.25=K;2a.3i=48($13,c,'3i',s,2a);2h=5L(y,2h,F);8(!z.26){y.S(H('1G',F))}};z.25=I;1u=3u(1u);2a.3H=48($13,c,'3H',s,2a);1B(c.1V){Q'41':y.X(28);n();1C();1D();1K();1y();1x();16;Q'1w':U.19.1b([y,{'1L':0},C(){n();1C();1D();1K();1y();U=47(2W,c.2l);U.19.1b([y,{'1L':1},1x]);2P(U)}]);16;Q'3k':y.X({'1L':0});U.19.1b([m,{'1L':0}]);U.19.1b([y,{'1L':1},1x]);1P();1C();1D();1K();1y();16;Q'1J':y.X(7.d['1n'],$1s[7.d['N']]());U.19.1b([y,2V,1x]);1P();1C();1D();1y();16;Q'1J-1w':y.X(7.d['1n'],$1s[7.d['N']]());U.19.1b([m,{'1L':0}]);U.19.1b([y,2V,1x]);1P();1C();1D();1y();16;Q'21':U.19.1b([m,4O,1x]);1P();1C();1D();1K();1y();16;Q'21-1w':y.X({'1L':0});U.19.1b([y,{'1L':1}]);U.19.1b([m,4O,1x]);1P();1C();1D();1K();1y();16;2A:U.19.1b([y,28,C(){1K();1y();1x()}]);1P();3E();3F();16}2P(U);5M(7.23,y,F);y.S(H('3I',F),[K,2k]);G I});y.12(H('3l',F),C(e,b,c,d,f,g,h){e.1f();E v=[b,c,d,f,g,h],t=['2N/27/2g','27','3e','2g','2N','C'],a=3f(v,t);f=a[3];g=a[4];h=a[5];b=3K(a[0],a[1],a[2],J,y);8(b==0){G K}8(!1I(f)){f=K}8(g!='V'&&g!='Z'){8(7.1T){g=(b<=J.P/2)?'Z':'V'}O{g=(J.Y==0||J.Y>b)?'Z':'V'}}8(g=='V'){b=J.P-b}y.S(H(g,F),[f,b,h]);G I});y.12(H('88',F),C(e,a,b){e.1f();E c=y.1Q(H('4a',F));G y.1Q(H('5O',F),[c-1,a,'V',b])});y.12(H('89',F),C(e,a,b){e.1f();E c=y.1Q(H('4a',F));G y.1Q(H('5O',F),[c+1,a,'Z',b])});y.12(H('5O',F),C(e,a,b,c,d){e.1f();8(!11(a)){a=y.1Q(H('4a',F))}E f=7.1a.D||7.D.L,1X=1H.2C(J.P/f)-1;8(a<0){a=1X}8(a>1X){a=0}G y.1Q(H('3l',F),[a*f,0,I,b,c,d])});y.12(H('79',F),C(e,s){e.1f();8(s){s=3K(s,0,I,J,y)}O{s=0}s+=J.Y;8(s!=0){8(J.P>0){2i(s>J.P){s-=J.P}}y.8a(y.14().18(s,J.P))}G I});y.12(H('2p',F),C(e,s){e.1f();8(s){s=5l(s)}O 8(7.2p){s=7.2p}O{G 17(F,'6t 8b 45 2p.')}E n=y.1Q(H('4q',F)),x=I;1j(E j=0,l=s.R;j<l;j++){8(!s[j][0].1Q(H('3l',F),[n,s[j][3],I])){x=K}}G x});y.12(H('2Q',F),C(e,a,b){e.1f();8(1o(a)){a.1g($13,2h)}O 8(2X(a)){2h=a}O 8(!1E(a)){2h.1b([a,b])}G 2h});y.12(H('8c',F),C(e,b,c,d,f){e.1f();E v=[b,c,d,f],t=['2N/2g','2N/27/2g','3e','27'],a=3f(v,t);b=a[0];c=a[1];d=a[2];f=a[3];8(1I(b)&&!2w(b)){b=$(b)}O 8(1p(b)){b=$(b)}8(!2w(b)||b.R==0){G 17(F,'2r a 5P 2g.')}8(1E(c)){c='4b'}4z(b,7);5u(b,7);E g=c,4c='4c';8(c=='4b'){8(d){8(J.Y==0){c=J.P-1;4c='7a'}O{c=J.Y;J.Y+=b.R}8(c<0){c=0}}O{c=J.P-1;4c='7a'}}O{c=3K(c,f,d,J,y)}E h=y.14().1O(c);8(h.R){h[4c](b)}O{17(F,'8d 8e-3s 4N 6u! 8f 8g 45 3L 4b.');y.7b(b)}8(g!='4b'&&!d){8(c<J.Y){J.Y+=b.R}}J.P=y.14().R;8(J.Y>=J.P){J.Y-=J.P}y.S(H('4P',F));y.S(H('5Q',F));G I});y.12(H('7c',F),C(e,c,d,f){e.1f();E v=[c,d,f],t=['2N/27/2g','3e','27'],a=3f(v,t);c=a[0];d=a[1];f=a[2];E g=K;8(c 2Y $&&c.R>1){h=$();c.1W(C(i,a){E b=y.S(H('7c',F),[$(1k),d,f]);8(b)h=h.8h(b)});G h}8(1E(c)||c=='4b'){h=y.14().2R()}O{c=3K(c,f,d,J,y);E h=y.14().1O(c);8(h.R){8(c<J.Y)J.Y-=h.R}}8(h&&h.R){h.8i();J.P=y.14().R;y.S(H('4P',F))}G h});y.12(H('3H',F)+' '+H('3i',F),C(e,a){e.1f();E b=e.5A.18(F.3z.44.R);8(2X(a)){2a[b]=a}8(1o(a)){2a[b].1b(a)}G 2a[b]});y.12(H('4q',F),C(e,a){e.1f();8(J.Y==0){E b=0}O{E b=J.P-J.Y}8(1o(a)){a.1g($13,b)}G b});y.12(H('4a',F),C(e,a){e.1f();E b=7.1a.D||7.D.L,1X=1H.2C(J.P/b-1),2m;8(J.Y==0){2m=0}O 8(J.Y<J.P%b){2m=0}O 8(J.Y==b&&!7.1T){2m=1X}O{2m=1H.7d((J.P-J.Y)/b)}8(2m<0){2m=0}8(2m>1X){2m=1X}8(1o(a)){a.1g($13,2m)}G 2m});y.12(H('8j',F),C(e,a){e.1f();E b=3J(y.14(),7);8(1o(a)){a.1g($13,b)}G b});y.12(H('18',F),C(e,f,l,b){e.1f();8(J.P==0){G K}E v=[f,l,b],t=['27','27','C'],a=3f(v,t);f=(11(a[0]))?a[0]:0;l=(11(a[1]))?a[1]:J.P;b=a[2];f+=J.Y;l+=J.Y;8(D.P>0){2i(f>J.P){f-=J.P}2i(l>J.P){l-=J.P}2i(f<0){f+=J.P}2i(l<0){l+=J.P}}E c=y.14(),$i;8(l>f){$i=c.18(f,l)}O{$i=$(c.18(f,J.P).3G().74(c.18(0,l).3G()))}8(1o(b)){b.1g($13,$i)}G $i});y.12(H('26',F)+' '+H('2d',F)+' '+H('25',F),C(e,a){e.1f();E b=e.5A.18(F.3z.44.R),5R=z[b];8(1o(a)){a.1g($13,5R)}G 5R});y.12(H('4D',F),C(e,a,b,c){e.1f();E d=K;8(1o(a)){a.1g($13,7)}O 8(1I(a)){34=$.1N(I,{},34,a);8(b!==K)d=I;O 7=$.1N(I,{},7,a)}O 8(!1E(a)){8(1o(b)){E f=4Q('7.'+a);8(1E(f)){f=''}b.1g($13,f)}O 8(!1E(b)){8(2Z c!=='3e')c=I;4Q('34.'+a+' = b');8(c!==K)d=I;O 4Q('7.'+a+' = b')}O{G 4Q('7.'+a)}}8(d){1U(y.14(),7);y.5b(34);y.5S();E g=4R(y,7);y.S(H('3I',F),[I,g])}G 7});y.12(H('5Q',F),C(e,a,b){e.1f();8(1E(a)){a=$('8k')}O 8(1p(a)){a=$(a)}8(!2w(a)||a.R==0){G 17(F,'2r a 5P 2g.')}8(!1p(b)){b='a.6s'}a.8l(b).1W(C(){E h=1k.7e||'';8(h.R>0&&y.14().7f($(h))!=-1){$(1k).22('5T').5T(C(e){e.2F();y.S(H('3l',F),h)})}});G I});y.12(H('3I',F),C(e,b,c){e.1f();8(!7.1a.1z){G}E d=7.1a.D||7.D.L,4S=1H.2C(J.P/d);8(b){8(7.1a.3M){7.1a.1z.14().2v();7.1a.1z.1W(C(){1j(E a=0;a<4S;a++){E i=y.14().1O(3K(a*d,0,I,J,y));$(1k).7b(7.1a.3M.1g(i[0],a+1))}})}7.1a.1z.1W(C(){$(1k).14().22(7.1a.3N).1W(C(a){$(1k).12(7.1a.3N,C(e){e.2F();y.S(H('3l',F),[a*d,-7.1a.4T,I,7.1a])})})})}E f=y.1Q(H('4a',F))+7.1a.4T;8(f>=4S){f=0}8(f<0){f=4S-1}7.1a.1z.1W(C(){$(1k).14().2O(2B('7g',F)).1O(f).3b(2B('7g',F))});G I});y.12(H('4P',F),C(e){E a=7.D.L,2G=y.14(),2n=5e($1s,7,'N');J.P=2G.R;8(z.4t){7.3V=2n;7[7.d['N']]=4u(2n,z.4t)}O{7.3V=5f(7,2n)}8(7.2o){7.D.N=7.D.3O.N;7.D.1d=7.D.3O.1d;7=5h(7,2G,2n);a=7.D.L;5v(7,2G)}O 8(7.D.T.1c){a=35(2G,7,0)}O 8(7.D.1t!='*'){a=3X(2G,7,0)}8(!7.1T&&J.Y!=0&&a>J.Y){8(7.D.T.1c){E b=4E(2G,7,J.Y)-J.Y}O 8(7.D.1t!='*'){E b=7h(2G,7,J.Y)-J.Y}O{E b=7.D.L-J.Y}17(F,'8m 8n-1T: 8o '+b+' D 5D.');y.S(H('V',F),b)}7.D.L=2z(a,7,7.D.T.2c,$13);7.D.T.1Z=7.D.L;7=5j(7,2G);E c=4R(y,7);y.S(H('3I',F),[I,c]);4U(7,J.P,F);3B(7,J.Y,F);G c});y.12(H('4r',F),C(e,a){e.1f();1u=3u(1u);y.1m('5a',K);y.S(H('5y',F));8(a){y.S(H('79',F))}1U(y.14(),7);8(7.2o){y.14().1W(C(){$(1k).X($(1k).1m('7i'))})}y.X(y.1m('5t'));y.5w();y.5U();$1s.8p(y);G I});y.12(H('17',F),C(e){17(F,'3y N: '+7.N);17(F,'3y 1d: '+7.1d);17(F,'7j 8q: '+7.D.N);17(F,'7j 8r: '+7.D.1d);17(F,'4d 4e D L: '+7.D.L);8(7.M.1G){17(F,'4d 4e D 5V 8s: '+7.M.D)}8(7.V.W){17(F,'4d 4e D 5V 5D: '+7.V.D)}8(7.Z.W){17(F,'4d 4e D 5V 76: '+7.Z.D)}G F.17});y.12('3p',C(e,n,o){e.1f();G y.1Q(H(n,F),o)})};y.5w=C(){y.22(H('',F));y.22(H('',F,K));y.22('3p')};y.5S=C(){y.5U();4U(7,J.P,F);3B(7,J.Y,F);8(7.M.2H){E b=3P(7.M.2H);$1s.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}8(7.M.W){7.M.W.12(H(7.M.3N,F,K),C(e){e.2F();E a=K,b=2x;8(z.26){a='1G'}O 8(7.M.4X){a='3c';b=3P(7.M.4X)}8(a){y.S(H(a,F),b)}})}8(7.V.W){7.V.W.12(H(7.V.3N,F,K),C(e){e.2F();y.S(H('V',F))});8(7.V.2H){E b=3P(7.V.2H);7.V.W.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}}8(7.Z.W){7.Z.W.12(H(7.Z.3N,F,K),C(e){e.2F();y.S(H('Z',F))});8(7.Z.2H){E b=3P(7.Z.2H);7.Z.W.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}}8(7.1a.1z){8(7.1a.2H){E b=3P(7.1a.2H);7.1a.1z.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}}8(7.V.31||7.Z.31){$(4f).12(H('7k',F,K,I,I),C(e){E k=e.7l;8(k==7.Z.31){e.2F();y.S(H('Z',F))}8(k==7.V.31){e.2F();y.S(H('V',F))}})}8(7.1a.4Y){$(4f).12(H('7k',F,K,I,I),C(e){E k=e.7l;8(k>=49&&k<58){k=(k-49)*7.D.L;8(k<=J.P){e.2F();y.S(H('3l',F),[k,0,I,7.1a])}}})}8(7.V.4Z||7.Z.4Z){2K('3L 4g-7m','3L 8t-7m');8($.1r.4g){E c=(7.V.4Z)?C(){y.S(H('V',F))}:2x,4h=(7.Z.4Z)?C(){y.S(H('Z',F))}:2x;8(4h||4h){8(!z.4g){z.4g=I;E d={'8u':30,'8v':30,'8w':I};1B(7.2b){Q'4s':Q'5W':d.8x=c;d.8y=4h;16;2A:d.8z=4h;d.8A=c}$1s.4g(d)}}}}8($.1r.1q){E f='8B'8C 3m;8((f&&7.1q.4i)||(!f&&7.1q.5X)){E g=$.1N(I,{},7.V,7.1q),7n=$.1N(I,{},7.Z,7.1q),5Y=C(){y.S(H('V',F),[g])},5Z=C(){y.S(H('Z',F),[7n])};1B(7.2b){Q'4s':Q'5W':7.1q.2I.8D=5Z;7.1q.2I.8E=5Y;16;2A:7.1q.2I.8F=5Z;7.1q.2I.8G=5Y}8(z.1q){y.1q('4r')}$1s.1q(7.1q.2I);$1s.X('7o','8H');z.1q=I}}8($.1r.1h){8(7.V.1h){2K('7p V.1h 7q','3L 1h 4D 2g');7.V.1h=2x;7.1h={D:61(7.V.1h)}}8(7.Z.1h){2K('7p Z.1h 7q','3L 1h 4D 2g');7.Z.1h=2x;7.1h={D:61(7.Z.1h)}}8(7.1h){E h=$.1N(I,{},7.V,7.1h),7r=$.1N(I,{},7.Z,7.1h);8(z.1h){$1s.22(H('1h',F,K))}$1s.12(H('1h',F,K),C(e,a){e.2F();8(a>0){y.S(H('V',F),[h])}O{y.S(H('Z',F),[7r])}});z.1h=I}}8(7.M.1G){y.S(H('1G',F),7.M.62)}8(z.6F){E i=C(e){y.S(H('5y',F));8(7.M.63&&!z.26){y.S(H('1G',F))}1U(y.14(),7);y.S(H('4P',F))};E j=$(3m),4j=2x;8($.64&&F.65=='64'){4j=$.64(8I,i)}O 8($.51&&F.65=='51'){4j=$.51(8J,i)}O{E l=0,66=0;4j=C(){E a=j.N(),68=j.1d();8(a!=l||68!=66){i();l=a;66=68}}}j.12(H('8K',F,K,I,I),4j)}};y.5U=C(){E a=H('',F),3Q=H('',F,K);69=H('',F,K,I,I);$(4f).22(69);$(3m).22(69);$1s.22(3Q);8(7.M.W){7.M.W.22(3Q)}8(7.V.W){7.V.W.22(3Q)}8(7.Z.W){7.Z.W.22(3Q)}8(7.1a.1z){7.1a.1z.22(3Q);8(7.1a.3M){7.1a.1z.14().2v()}}8(z.1q){y.1q('4r');$1s.X('7o','2A');z.1q=K}8(z.1h){z.1h=K}4U(7,'4k',F);3B(7,'2O',F)};8(1l(w)){w={'17':w}}E z={'2b':'Z','26':I,'25':K,'2d':K,'1h':K,'1q':K},J={'P':y.14().R,'Y':0},1u={'M':2x,'1e':2x,'2M':2q(),'3x':0},U={'2d':K,'1F':0,'2M':0,'2l':'','19':[]},2a={'3H':[],'3i':[]},2h=[],F=$.1N(I,{},$.1r.1v.7s,w),7={},34=$.1N(I,{},u),$1s=y.8L('<'+F.6a.57+' 8M=\"'+F.6a.7t+'\" />').6b();F.4p=y.4p;F.3U=$.1r.1v.3U++;y.5b(34,I,59);y.6N();y.6T();y.5S();8(2X(7.D.3n)){E A=7.D.3n}O{E A=[];8(7.D.3n!=0){A.1b(7.D.3n)}}8(7.23){A.8N(4l(7u(7.23),10))}8(A.R>0){1j(E a=0,l=A.R;a<l;a++){E s=A[a];8(s==0){6c}8(s===I){s=3m.8O.7e;8(s.R<1){6c}}O 8(s==='7v'){s=1H.4m(1H.7v()*J.P)}8(y.1Q(H('3l',F),[s,0,I,{1V:'41'}])){16}}}E B=4R(y,7),7w=3J(y.14(),7);8(7.7x){7.7x.1g($13,{'N':B.N,'1d':B.1d,'D':7w})}y.S(H('3I',F),[I,B]);y.S(H('5Q',F));8(F.17){y.S(H('17',F))}G y};$.1r.1v.3U=1;$.1r.1v.5d={'2p':K,'3A':I,'1T':I,'2o':K,'2b':'1n','D':{'3n':0},'1M':{'2l':'8P','1F':6I,'2H':K,'3N':'5T','2Q':K}};$.1r.1v.7s={'17':K,'65':'51','3z':{'44':'','7y':'8Q'},'6a':{'57':'8R','7t':'8S'},'6d':{}};$.1r.1v.7z=C(a){G'<a 8T=\"#\"><7A>'+a+'</7A></a>'};$.1r.1v.7B=C(a){$(1k).X('N',a+'%')};$.1r.1v.23={3G:C(n){n+='=';E b=4f.23.3R(';');1j(E a=0,l=b.R;a<l;a++){E c=b[a];2i(c.8U(0)==' '){c=c.18(1)}8(c.3S(n)==0){G c.18(n.R)}}G 0},6e:C(n,v,d){E e=\"\";8(d){E a=6f 7C();a.8V(a.2q()+(d*24*60*60*8W));e=\"; 8X=\"+a.8Y()}4f.23=n+'='+v+e+'; 8Z=/'},2v:C(n){$.1r.1v.23.6e(n,\"\",-1)}};C 47(d,e){G{19:[],1F:d,90:d,2l:e,2M:2q()}}C 2P(s){8(1I(s.3v)){2P(s.3v)}1j(E a=0,l=s.19.R;a<l;a++){E b=s.19[a];8(!b){6c}8(b[3]){b[0].5x()}b[0].91(b[1],{92:b[2],1F:s.1F,2l:s.2l})}8(1I(s.3w)){2P(s.3w)}}C 42(s,c){8(!1l(c)){c=I}8(1I(s.3v)){42(s.3v,c)}1j(E a=0,l=s.19.R;a<l;a++){E b=s.19[a];b[0].5x(I);8(c){b[0].X(b[1]);8(1o(b[2])){b[2]()}}}8(1I(s.3w)){42(s.3w,c)}}C 5K(a,b,o){8(b){b.2v()}1B(o.1V){Q'1w':Q'3k':Q'1J-1w':Q'21-1w':a.X('1t','');16}}C 48(d,o,b,a,c){8(o[b]){o[b].1g(d,a)}8(c[b].R){1j(E i=0,l=c[b].R;i<l;i++){c[b][i].1g(d,a)}}G[]}C 5L(a,q,c){8(q.R){a.S(H(q[0][0],c),q[0][1]);q.93()}G q}C 5E(b){b.1W(C(){E a=$(1k);a.1m('7D',a.2f(':3t')).4k()})}C 5I(b){8(b){b.1W(C(){E a=$(1k);8(!a.1m('7D')){a.4n()}})}}C 3u(t){8(t.M){94(t.M)}8(t.1e){95(t.1e)}G t}C 5J(a,b,c,d,e,f,g){G{'N':g.N,'1d':g.1d,'D':{'1Z':a,'96':b,'L':c,'6f':c},'1M':{'D':d,'2b':e,'1F':f}}}C 5G(a,o,b,c){E d=a.1F;8(a.1V=='41'){G 0}8(d=='M'){d=o.1M.1F/o.1M.D*b}O 8(d<10){d=c/d}8(d<1){G 0}8(a.1V=='1w'){d=d/2}G 1H.7d(d)}C 4U(o,t,c){E a=(11(o.D.4C))?o.D.4C:o.D.L+1;8(t=='4n'||t=='4k'){E f=t}O 8(a>t){17(c,'2r 6V D ('+t+' P, '+a+' 6W): 97 98.');E f='4k'}O{E f='4n'}E s=(f=='4n')?'2O':'3b',h=2B('3t',c);8(o.M.W){o.M.W[f]()[s](h)}8(o.V.W){o.V.W[f]()[s](h)}8(o.Z.W){o.Z.W[f]()[s](h)}8(o.1a.1z){o.1a.1z[f]()[s](h)}}C 3B(o,f,c){8(o.1T||o.3A)G;E a=(f=='2O'||f=='3b')?f:K,52=2B('99',c);8(o.M.W&&a){o.M.W[a](52)}8(o.V.W){E b=a||(f==0)?'3b':'2O';o.V.W[b](52)}8(o.Z.W){E b=a||(f==o.D.L)?'3b':'2O';o.Z.W[b](52)}}C 3T(a,b){8(1o(b)){b=b.1g(a)}O 8(1E(b)){b={}}G b}C 6v(a,b){b=3T(a,b);8(11(b)){b={'L':b}}O 8(b=='1c'){b={'L':b,'N':b,'1d':b}}O 8(!1I(b)){b={}}G b}C 6w(a,b){b=3T(a,b);8(11(b)){8(b<=50){b={'D':b}}O{b={'1F':b}}}O 8(1p(b)){b={'2l':b}}O 8(!1I(b)){b={}}G b}C 53(a,b){b=3T(a,b);8(1p(b)){E c=6g(b);8(c==-1){b=$(b)}O{b=c}}G b}C 6x(a,b){b=53(a,b);8(2w(b)){b={'W':b}}O 8(1l(b)){b={'1G':b}}O 8(11(b)){b={'2L':b}}8(b.1e){8(1p(b.1e)||2w(b.1e)){b.1e={'2s':b.1e}}}G b}C 6J(a,b){8(1o(b.W)){b.W=b.W.1g(a)}8(1p(b.W)){b.W=$(b.W)}8(!1l(b.1G)){b.1G=I}8(!11(b.62)){b.62=0}8(1E(b.4X)){b.4X=I}8(!1l(b.63)){b.63=I}8(!11(b.2L)){b.2L=(b.1F<10)?9a:b.1F*5}8(b.1e){8(1o(b.1e.2s)){b.1e.2s=b.1e.2s.1g(a)}8(1p(b.1e.2s)){b.1e.2s=$(b.1e.2s)}8(b.1e.2s){8(!1o(b.1e.4B)){b.1e.4B=$.1r.1v.7B}8(!11(b.1e.5z)){b.1e.5z=50}}O{b.1e=K}}G b}C 5c(a,b){b=53(a,b);8(2w(b)){b={'W':b}}O 8(11(b)){b={'31':b}}G b}C 5k(a,b){8(1o(b.W)){b.W=b.W.1g(a)}8(1p(b.W)){b.W=$(b.W)}8(1p(b.31)){b.31=6g(b.31)}G b}C 6y(a,b){b=53(a,b);8(2w(b)){b={'1z':b}}O 8(1l(b)){b={'4Y':b}}G b}C 6K(a,b){8(1o(b.1z)){b.1z=b.1z.1g(a)}8(1p(b.1z)){b.1z=$(b.1z)}8(!11(b.D)){b.D=K}8(!1l(b.4Y)){b.4Y=K}8(!1o(b.3M)&&!54(b.3M)){b.3M=$.1r.1v.7z}8(!11(b.4T)){b.4T=0}G b}C 6z(a,b){8(1o(b)){b=b.1g(a)}8(1E(b)){b={'4i':K}}8(3q(b)){b={'4i':b}}O 8(11(b)){b={'D':b}}G b}C 6L(a,b){8(!1l(b.4i)){b.4i=I}8(!1l(b.5X)){b.5X=K}8(!1I(b.2I)){b.2I={}}8(!1l(b.2I.7E)){b.2I.7E=K}G b}C 6A(a,b){8(1o(b)){b=b.1g(a)}8(3q(b)){b={}}O 8(11(b)){b={'D':b}}O 8(1E(b)){b=K}G b}C 6M(a,b){G b}C 3K(a,b,c,d,e){8(1p(a)){a=$(a,e)}8(1I(a)){a=$(a,e)}8(2w(a)){a=e.14().7f(a);8(!1l(c)){c=K}}O{8(!1l(c)){c=I}}8(!11(a)){a=0}8(!11(b)){b=0}8(c){a+=d.Y}a+=b;8(d.P>0){2i(a>=d.P){a-=d.P}2i(a<0){a+=d.P}}G a}C 4E(i,o,s){E t=0,x=0;1j(E a=s;a>=0;a--){E j=i.1O(a);t+=(j.2f(':L'))?j[o.d['2y']](I):0;8(t>o.3V){G x}8(a==0){a=i.R}x++}}C 7h(i,o,s){G 6h(i,o.D.1t,o.D.T.4v,s)}C 6Z(i,o,s,m){G 6h(i,o.D.1t,m,s)}C 6h(i,f,m,s){E t=0,x=0;1j(E a=s,l=i.R;a>=0;a--){x++;8(x==l){G x}E j=i.1O(a);8(j.2f(f)){t++;8(t==m){G x}}8(a==0){a=l}}}C 5C(a,o){G o.D.T.4v||a.14().18(0,o.D.L).1t(o.D.1t).R}C 35(i,o,s){E t=0,x=0;1j(E a=s,l=i.R-1;a<=l;a++){E j=i.1O(a);t+=(j.2f(':L'))?j[o.d['2y']](I):0;8(t>o.3V){G x}x++;8(x==l+1){G x}8(a==l){a=-1}}}C 5N(i,o,s,l){E v=35(i,o,s);8(!o.1T){8(s+v>l){v=l-s}}G v}C 3X(i,o,s){G 6i(i,o.D.1t,o.D.T.4v,s,o.1T)}C 75(i,o,s,m){G 6i(i,o.D.1t,m+1,s,o.1T)-1}C 6i(i,f,m,s,c){E t=0,x=0;1j(E a=s,l=i.R-1;a<=l;a++){x++;8(x>=l){G x}E j=i.1O(a);8(j.2f(f)){t++;8(t==m){G x}}8(a==l){a=-1}}}C 3J(i,o){G i.18(0,o.D.L)}C 71(i,o,n){G i.18(n,o.D.T.1Z+n)}C 72(i,o){G i.18(0,o.D.L)}C 77(i,o){G i.18(0,o.D.T.1Z)}C 78(i,o,n){G i.18(n,o.D.L+n)}C 4z(i,o,d){8(o.1R){8(!1p(d)){d='29'}i.1W(C(){E j=$(1k),m=4l(j.X(o.d['1S']),10);8(!11(m)){m=0}j.1m(d,m)})}}C 1U(i,o,m){8(o.1R){E x=(1l(m))?m:K;8(!11(m)){m=0}4z(i,o,'7F');i.1W(C(){E j=$(1k);j.X(o.d['1S'],((x)?j.1m('7F'):m+j.1m('29')))})}}C 5u(i,o){8(o.2o){i.1W(C(){E j=$(1k),s=5q(j,['N','1d']);j.1m('7i',s)})}}C 5v(o,b){E c=o.D.L,7G=o.D[o.d['N']],6j=o[o.d['1d']],7H=3W(6j);b.1W(C(){E a=$(1k),6k=7G-7I(a,o,'9b');a[o.d['N']](6k);8(7H){a[o.d['1d']](4u(6k,6j))}})}C 4R(a,o){E b=a.6b(),$i=a.14(),$v=3J($i,o),55=4J(4K($v,o,I),o,K);b.X(55);8(o.1R){E p=o.1i,r=p[o.d[1]];8(o.1A&&r<0){r=0}E c=$v.2R();c.X(o.d['1S'],c.1m('29')+r);a.X(o.d['3r'],p[o.d[0]]);a.X(o.d['1n'],p[o.d[3]])}a.X(o.d['N'],55[o.d['N']]+(2T($i,o,'N')*2));a.X(o.d['1d'],6l($i,o,'1d'));G 55}C 4K(i,o,a){G[2T(i,o,'N',a),6l(i,o,'1d',a)]}C 6l(i,o,a,b){8(!1l(b)){b=K}8(11(o[o.d[a]])&&b){G o[o.d[a]]}8(11(o.D[o.d[a]])){G o.D[o.d[a]]}a=(a.6m().3S('N')>-1)?'2y':'3o';G 4o(i,o,a)}C 4o(i,o,b){E s=0;1j(E a=0,l=i.R;a<l;a++){E j=i.1O(a);E m=(j.2f(':L'))?j[o.d[b]](I):0;8(s<m){s=m}}G s}C 2T(i,o,b,c){8(!1l(c)){c=K}8(11(o[o.d[b]])&&c){G o[o.d[b]]}8(11(o.D[o.d[b]])){G o.D[o.d[b]]*i.R}E d=(b.6m().3S('N')>-1)?'2y':'3o',s=0;1j(E a=0,l=i.R;a<l;a++){E j=i.1O(a);s+=(j.2f(':L'))?j[o.d[d]](I):0}G s}C 5e(a,o,d){E b=a.2f(':L');8(b){a.4k()}E s=a.6b()[o.d[d]]();8(b){a.4n()}G s}C 5f(o,a){G(11(o[o.d['N']]))?o[o.d['N']]:a}C 6n(i,o,b){E s=K,v=K;1j(E a=0,l=i.R;a<l;a++){E j=i.1O(a);E c=(j.2f(':L'))?j[o.d[b]](I):0;8(s===K){s=c}O 8(s!=c){v=I}8(s==0){v=I}}G v}C 7I(i,o,d){G i[o.d['9c'+d]](I)-i[o.d[d.6m()]]()}C 4u(s,o){8(3W(o)){o=4l(o.18(0,-1),10);8(!11(o)){G s}s*=o/2J}G s}C H(n,c,a,b,d){8(!1l(a)){a=I}8(!1l(b)){b=I}8(!1l(d)){d=K}8(a){n=c.3z.44+n}8(b){n=n+'.'+c.3z.7y}8(b&&d){n+=c.3U}G n}C 2B(n,c){G(1p(c.6d[n]))?c.6d[n]:n}C 4J(a,o,p){8(!1l(p)){p=I}E b=(o.1R&&p)?o.1i:[0,0,0,0];E c={};c[o.d['N']]=a[0]+b[1]+b[3];c[o.d['1d']]=a[1]+b[0]+b[2];G c}C 3f(c,d){E e=[];1j(E a=0,7J=c.R;a<7J;a++){1j(E b=0,7K=d.R;b<7K;b++){8(d[b].3S(2Z c[a])>-1&&1E(e[b])){e[b]=c[a];16}}}G e}C 6H(p){8(1E(p)){G[0,0,0,0]}8(11(p)){G[p,p,p,p]}8(1p(p)){p=p.3R('9d').7L('').3R('9e').7L('').3R(' ')}8(!2X(p)){G[0,0,0,0]}1j(E i=0;i<4;i++){p[i]=4l(p[i],10)}1B(p.R){Q 0:G[0,0,0,0];Q 1:G[p[0],p[0],p[0],p[0]];Q 2:G[p[0],p[1],p[0],p[1]];Q 3:G[p[0],p[1],p[2],p[1]];2A:G[p[0],p[1],p[2],p[3]]}}C 4I(a,o){E x=(11(o[o.d['N']]))?1H.2C(o[o.d['N']]-2T(a,o,'N')):0;1B(o.1A){Q'1n':G[0,x];Q'3a':G[x,0];Q'5g':2A:G[1H.2C(x/2),1H.4m(x/2)]}}C 6B(o){E a=[['N','7M','2y','1d','7N','3o','1n','3r','1S',0,1,2,3],['1d','7N','3o','N','7M','2y','3r','1n','5r',3,2,1,0]];E b=a[0].R,7O=(o.2b=='3a'||o.2b=='1n')?0:1;E c={};1j(E d=0;d<b;d++){c[a[0][d]]=a[7O][d]}G c}C 4F(x,o,a,b){E v=x;8(1o(a)){v=a.1g(b,v)}O 8(1p(a)){E p=a.3R('+'),m=a.3R('-');8(m.R>p.R){E c=I,6o=m[0],32=m[1]}O{E c=K,6o=p[0],32=p[1]}1B(6o){Q'9f':v=(x%2==1)?x-1:x;16;Q'9g':v=(x%2==0)?x-1:x;16;2A:v=x;16}32=4l(32,10);8(11(32)){8(c){32=-32}v+=32}}8(!11(v)||v<1){v=1}G v}C 2z(x,o,a,b){G 6p(4F(x,o,a,b),o.D.T)}C 6p(v,i){8(11(i.36)&&v<i.36){v=i.36}8(11(i.1X)&&v>i.1X){v=i.1X}8(v<1){v=1}G v}C 5l(s){8(!2X(s)){s=[[s]]}8(!2X(s[0])){s=[s]}1j(E j=0,l=s.R;j<l;j++){8(1p(s[j][0])){s[j][0]=$(s[j][0])}8(!1l(s[j][1])){s[j][1]=I}8(!1l(s[j][2])){s[j][2]=I}8(!11(s[j][3])){s[j][3]=0}}G s}C 6g(k){8(k=='3a'){G 39}8(k=='1n'){G 37}8(k=='4s'){G 38}8(k=='5W'){G 40}G-1}C 5M(n,a,c){8(n){E v=a.1Q(H('4q',c));$.1r.1v.23.6e(n,v)}}C 7u(n){E c=$.1r.1v.23.3G(n);G(c=='')?0:c}C 5q(a,b){E c={},56;1j(E p=0,l=b.R;p<l;p++){56=b[p];c[56]=a.X(56)}G c}C 6C(a,b,c,d){8(!1I(a.T)){a.T={}}8(!1I(a.3O)){a.3O={}}8(a.3n==0&&11(d)){a.3n=d}8(1I(a.L)){a.T.36=a.L.36;a.T.1X=a.L.1X;a.L=K}O 8(1p(a.L)){8(a.L=='1c'){a.T.1c=I}O{a.T.2c=a.L}a.L=K}O 8(1o(a.L)){a.T.2c=a.L;a.L=K}8(!1p(a.1t)){a.1t=(c.1t(':3t').R>0)?':L':'*'}8(!a[b.d['N']]){8(b.2o){17(I,'7P a '+b.d['N']+' 1j 3L D!');a[b.d['N']]=4o(c,b,'2y')}O{a[b.d['N']]=(6n(c,b,'2y'))?'1c':c[b.d['2y']](I)}}8(!a[b.d['1d']]){a[b.d['1d']]=(6n(c,b,'3o'))?'1c':c[b.d['3o']](I)}a.3O.N=a.N;a.3O.1d=a.1d;G a}C 6G(a,b){8(a.D[a.d['N']]=='1c'){a.D.T.1c=I}8(!a.D.T.1c){8(11(a[a.d['N']])){a.D.L=1H.4m(a[a.d['N']]/a.D[a.d['N']])}O{a.D.L=1H.4m(b/a.D[a.d['N']]);a[a.d['N']]=a.D.L*a.D[a.d['N']];8(!a.D.T.2c){a.1A=K}}8(a.D.L=='9h'||a.D.L<1){17(I,'2r a 5P 27 4e L D: 7P 45 \"1c\".');a.D.T.1c=I}}G a}C 6D(a,b,c){8(a=='M'){a=4o(c,b,'2y')}G a}C 6E(a,b,c){8(a=='M'){a=4o(c,b,'3o')}8(!a){a=b.D[b.d['1d']]}G a}C 5j(o,a){E p=4I(3J(a,o),o);o.1i[o.d[1]]=p[1];o.1i[o.d[3]]=p[0];G o}C 5h(o,a,b){E c=6p(1H.2C(o[o.d['N']]/o.D[o.d['N']]),o.D.T);8(c>a.R){c=a.R}E d=1H.4m(o[o.d['N']]/c);o.D.L=c;o.D[o.d['N']]=d;o[o.d['N']]=c*d;G o}C 3P(p){8(1p(p)){E i=(p.3S('9i')>-1)?I:K,r=(p.3S('3h')>-1)?I:K}O{E i=r=K}G[i,r]}C 61(a){G(11(a))?a:2x}C 6q(a){G(a===2x)}C 1E(a){G(6q(a)||2Z a=='7Q'||a===''||a==='7Q')}C 2X(a){G(a 2Y 9j)}C 2w(a){G(a 2Y 7R)}C 1I(a){G((a 2Y 9k||2Z a=='2g')&&!6q(a)&&!2w(a)&&!2X(a))}C 11(a){G((a 2Y 4d||2Z a=='27')&&!9l(a))}C 1p(a){G((a 2Y 9m||2Z a=='2N')&&!1E(a)&&!3q(a)&&!54(a))}C 1o(a){G(a 2Y 9n||2Z a=='C')}C 1l(a){G(a 2Y 9o||2Z a=='3e'||3q(a)||54(a))}C 3q(a){G(a===I||a==='I')}C 54(a){G(a===K||a==='K')}C 3W(x){G(1p(x)&&x.18(-1)=='%')}C 2q(){G 6f 7C().2q()}C 2K(o,n){17(I,o+' 2f 9p, 9q 1j 9r 9s 9t 9u. 9v '+n+' 9w.')}C 17(d,m){8(1I(d)){E s=' ('+d.4p+')';d=d.17}O{E s=''}8(!d){G K}8(1p(m)){m='1v'+s+': '+m}O{m=['1v'+s+':',m]}8(3m.6r&&3m.6r.7S){3m.6r.7S(m)}G K}$.1N($.2l,{'9x':C(t){E a=t*t;G t*(-a*t+4*a-6*t+4)},'9y':C(t){G t*(4*t*t-9*t+6)},'9z':C(t){E a=t*t;G t*(33*a*a-9A*a*t+9B*a-67*t+15)}})})(7R);",0,596,"|||||||opts|if||||||||||||||||||||||||||||||function|items|var|conf|return|cf_e|true|itms|false|visible|auto|width|else|total|case|length|trigger|visibleConf|scrl|prev|button|css|first|next||is_number|bind|tt0|children||break|debug|slice|anims|pagination|push|variable|height|progress|stopPropagation|call|mousewheel|padding|for|this|is_boolean|data|left|is_function|is_string|swipe|fn|wrp|filter|tmrs|carouFredSel|fade|_onafter|_moveitems|container|align|switch|_s_paddingold|_s_paddingcur|is_undefined|duration|play|Math|is_object|cover|_position|opacity|scroll|extend|eq|_a_wrapper|triggerHandler|usePadding|marginRight|circular|sz_resetMargin|fx|each|max|i_cur_l|old|i_old_l|uncover|unbind|cookie||isScrolling|isPaused|number|a_cfs|_cfs_origCssMargin|clbk|direction|adjust|isStopped|stopImmediatePropagation|is|object|queu|while|i_new|w_siz|easing|nr|avail_primary|responsive|synchronise|getTime|Not|bar|i_new_l|a_cur|remove|is_jquery|null|outerWidth|cf_getItemsAdjust|default|cf_c|ceil|pR|_s_paddingnew|preventDefault|a_itm|pauseOnHover|options|100|deprecated|timeoutDuration|startTime|string|removeClass|sc_startScroll|queue|last|i_skp|ms_getTotalSize|a_old|a_lef|a_dur|is_array|instanceof|typeof||key|adj||opts_orig|gn_getVisibleItemsNext|min||||right|addClass|pause|perc|boolean|cf_sortParams|scrolling|resume|onAfter|i_old|crossfade|slideTo|window|start|outerHeight|_cfs_triggerEvent|is_true|top|position|hidden|sc_clearTimers|pre|post|timePassed|Carousel|events|infinite|nv_enableNavi|i_siz|i_siz_vis|_a_paddingold|_a_paddingcur|get|onBefore|updatePageStatus|gi_getCurrentItems|gn_getItemIndex|the|anchorBuilder|event|sizesConf|bt_pauseOnHoverConfig|ns2|split|indexOf|go_getObject|serialNumber|maxDimension|is_percentage|gn_getVisibleItemsNextFilter|orgCSS|zIndex||none|sc_stopScroll|dur2|prefix|to|appendTo|sc_setScroll|sc_fireCallbacks||currentPage|end|before|Number|of|document|touchwipe|wN|onTouch|onResize|hide|parseInt|floor|show|ms_getTrueLargestSize|selector|currentPosition|destroy|up|primarySizePercentage|ms_getPercentage|org|onTimeoutStart|onTimeoutPause|onTimeoutEnd|sz_storeMargin|stopped|updater|minimum|configuration|gn_getVisibleItemsPrev|cf_getAdjust|onEnd|clone|cf_getAlignPadding|cf_mapWrapperSizes|ms_getSizes|a_wsz|a_new|not|a_cfs_vis|updateSizes|eval|sz_setSizes|pgs|deviation|nv_showNavi|mouseenter|mouseleave|pauseOnEvent|keys|wipe||throttle|di|go_getNaviObject|is_false|sz|prop|element||starting_position|_cfs_isCarousel|_cfs_init|go_getPrevNextObject|defaults|ms_getParentSize|ms_getMaxDimension|center|in_getResponsiveValues|bottom|in_getAlignPadding|go_complementPrevNextObject|cf_getSynchArr|onPauseStart|onPausePause|onPauseEnd|pauseDuration|in_mapCss|marginBottom|newPosition|_cfs_origCss|sz_storeSizes|sz_setResponsiveSizes|_cfs_unbind_events|stop|finish|interval|type|conditions|gn_getVisibleOrg|backward|sc_hideHiddenItems|a_lef_vis|sc_getDuration|_a_paddingnew|sc_showHiddenItems|sc_mapCallbackArguments|sc_afterScroll|sc_fireQueue|cf_setCookie|gn_getVisibleItemsNextTestCircular|slideToPage|valid|linkAnchors|value|_cfs_bind_buttons|click|_cfs_unbind_buttons|scrolled|down|onMouse|swP|swN||bt_mousesheelNumber|delay|pauseOnResize|debounce|onWindowResize|_windowHeight||nh|ns3|wrapper|parent|continue|classnames|set|new|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|seco|nw|ms_getLargestSize|toLowerCase|ms_hasVariableSizes|sta|cf_getItemAdjustMinMax|is_null|console|caroufredsel|No|found|go_getItemsObject|go_getScrollObject|go_getAutoObject|go_getPaginationObject|go_getSwipeObject|go_getMousewheelObject|cf_getDimensions|in_complementItems|in_complementPrimarySize|in_complementSecondarySize|upDateOnWindowResize|in_complementVisibleItems|cf_getPadding|500|go_complementAutoObject|go_complementPaginationObject|go_complementSwipeObject|go_complementMousewheelObject|_cfs_build|textAlign|float|marginTop|marginLeft|absolute|_cfs_bind_events|paused|enough|needed|page|slide_|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|gn_getScrollItemsNextFilter|forward|gi_getOldItemsNext|gi_getNewItemsNext|jumpToStart|after|append|removeItem|round|hash|index|selected|gn_getVisibleItemsPrevFilter|_cfs_origCssSizes|Item|keyup|keyCode|plugin|scN|cursor|The|option|mcN|configs|classname|cf_getCookie|random|itm|onCreate|namespace|pageAnchorBuilder|span|progressbarUpdater|Date|_cfs_isHidden|triggerOnTouchEnd|_cfs_tempCssMargin|newS|secp|ms_getPaddingBorderMargin|l1|l2|join|innerWidth|innerHeight|dx|Set|undefined|jQuery|log|caroufredsel_cookie_|relative|fixed|overflow|setInterval|setTimeout|or|Callback|returned|Page|resumed|currently|slide_prev|prependTo|slide_next|prevPage|nextPage|prepend|carousel|insertItem|Correct|insert|Appending|item|add|detach|currentVisible|body|find|Preventing|non|sliding|replaceWith|widths|heights|automatically|touchSwipe|min_move_x|min_move_y|preventDefaultEvents|wipeUp|wipeDown|wipeLeft|wipeRight|ontouchstart|in|swipeUp|swipeDown|swipeLeft|swipeRight|move|200|300|resize|wrap|class|unshift|location|swing|cfs|div|caroufredsel_wrapper|href|charAt|setTime|1000|expires|toGMTString|path|orgDuration|animate|complete|shift|clearTimeout|clearInterval|skipped|Hiding|navigation|disabled|2500|Width|outer|px|em|even|odd|Infinity|immediate|Array|Object|isNaN|String|Function|Boolean|DEPRECATED|support|it|will|be|removed|Use|instead|quadratic|cubic|elastic|106|126".split("|"),0,{}));
!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var i=t.data(this[0],"validator");return i||(i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(e){function s(){if(i.settings.submitHandler){if(i.submitButton)var e=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&e.remove(),!1}return!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e&=i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var n=t.data(s.form,"validator").settings,r=n.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),r[s.name]=a,i.messages&&(n.messages[s.name]=t.extend(n.messages[s.name],i.messages));break;case"remove":if(!i)return delete r[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.metadataRules(s),t.validator.classRules(s),t.validator.attributeRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+e.value)},filled:function(e){return!!t.trim(""+e.value)},unchecked:function(t){return!t.checked}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1==arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),i)}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t){(t.name in this.submitted||t==this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0])}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){t.each(s.split(/\s/),function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",e).validateDelegate(":radio, :checkbox, select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.clean(e),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e);return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1==t.grep(this.errorList,function(t){return t.element.name==e.name}).length&&e},elements:function(){var e=this,i={};return t([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){return t(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},check:function(e){e=this.clean(e),this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]);var i=t(e).rules(),s=!1;for(var n in i){var r={method:n,parameters:i[n]};try{var a=t.validator.methods[n].call(this,e.value.replace(/\r/g,""),e,r.parameters);if("dependency-mismatch"==a){s=!0;continue}if(s=!1,"pending"==a)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!a)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+e.id+", check the '"+r.method+"' method",t),t}}if(!s)return this.objectLength(i)&&this.successList.push(e),!0},customMetaMessage:function(e,i){if(t.metadata){var s=this.settings.meta?t(e).metadata()[this.settings.meta]:t(e).metadata();return s&&s.messages&&s.messages[i]}},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor==String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customMetaMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e.method),s=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,e.parameters,t):s.test(i)&&(i=jQuery.format(i.replace(s,"{$1}"),e.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){for(var t=0;this.errorList[t];t++){var e=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(var t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(var t=0,i=this.validElements();i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass().addClass(this.settings.errorClass),s.attr("generated")&&s.html(i)):(s=t("<"+this.settings.errorElement+"/>").attr({for:this.idOrName(e),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")==i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){var i=this.currentForm;return t(document.getElementsByName(e)).map(function(t,s){return s.form==i&&s.name==e&&s||null})},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t,e){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){return!t.validator.methods.required.call(this,t.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor==String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e);for(var n in t.validator.methods){var r=s.attr(n);r&&(i[n]=r)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(e){if(!t.metadata)return{};var i=t.data(e.form,"validator").settings.meta;return i?t(e).metadata()[i]:t(e).metadata()},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,n){if(!1===n)return void delete e[s];if(n.param||n.depends){var r=!0;switch(typeof n.depends){case"string":r=!!t(n.depends,i.form).length;break;case"function":r=n.depends.call(i,i)}r?e[s]=void 0===n.param||n.param:delete e[s]}}),t.each(e,function(s,n){e[s]=t.isFunction(n)?n(i):n}),t.each(["minlength","maxlength","min","max"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){e[this]&&(e[this]=[Number(e[this][0]),Number(e[this][1])])}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e.messages&&delete e.messages,e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!=s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var n=t(i).val();return n&&n.length>0;case"input":if(this.checkable(i))return this.getLength(e,i)>0;default:return t.trim(e).length>0}},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var n=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),n.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=n.message,s="string"==typeof s&&{url:s}||s,this.pending[i.name])return"pending";if(n.old===e)return n.valid;n.old=e;var r=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){r.settings.messages[i.name].remote=n.originalMessage;var a=!0===s;if(a){var u=r.formSubmitted;r.prepareElement(i),r.formSubmitted=u,r.successList.push(i),r.showErrors()}else{var o={},l=s||r.defaultMessage(i,"remote");o[i.name]=n.message=t.isFunction(l)?l(e):l,r.showErrors(o)}n.valid=a,r.stopRequest(i,a)}},s)),"pending"},minlength:function(e,i,s){return this.optional(i)||this.getLength(t.trim(e),i)>=s},maxlength:function(e,i,s){return this.optional(i)||this.getLength(t.trim(e),i)<=s},rangelength:function(e,i,s){var n=this.getLength(t.trim(e),i);return this.optional(i)||n>=s[0]&&n<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9-]+/.test(t))return!1;var i=0,s=0,n=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var a=t.charAt(r),s=parseInt(a,10);n&&(s*=2)>9&&(s-=9),i+=s,n=!n}return i%10==0},accept:function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp(".("+i+")$","i"))},equalTo:function(e,i,s){return e==t(s).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}).val()}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var n=t.port;"abort"==t.mode&&(e[n]&&e[n].abort(),e[n]=s)});else{var i=t.ajax;t.ajax=function(s){var n=("mode"in s?s:t.ajaxSettings).mode,r=("port"in s?s:t.ajaxSettings).port;return"abort"==n?(e[r]&&e[r].abort(),e[r]=i.apply(this,arguments)):i.apply(this,arguments)}}}(jQuery),function(t){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||t.each({focus:"focusin",blur:"focusout"},function(e,i){function s(e){return e=t.event.fix(e),e.type=i,t.event.handle.call(this,e)}t.event.special[i]={setup:function(){this.addEventListener(e,s,!0)},teardown:function(){this.removeEventListener(e,s,!0)},handler:function(e){return arguments[0]=t.event.fix(e),arguments[0].type=i,t.event.handle.apply(this,arguments)}}}),t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var n=t(i.target);if(n.is(e))return s.apply(n,arguments)})}})}(jQuery);
!function(a){function e(a,e,t){a.rules[e]=t,a.message&&(a.messages[e]=a.message)}function t(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function n(a){return a.substr(0,a.lastIndexOf(".")+1)}function r(a,e){return 0===a.indexOf("*.")&&(a=a.replace("*.",e)),a}function i(e,t){var n=a(this).find("[data-valmsg-for='"+t[0].name+"']"),r=!1!==a.parseJSON(n.attr("data-valmsg-replace"));n.removeClass("field-validation-valid").addClass("field-validation-error"),e.data("unobtrusiveContainer",n),r?(n.empty(),e.removeClass("input-validation-error").appendTo(n)):e.hide()}function d(e,t){var n=a(this).find("[data-valmsg-summary=true]"),r=n.find("ul");r&&r.length&&t.errorList.length&&(r.empty(),n.addClass("validation-summary-errors").removeClass("validation-summary-valid"),a.each(t.errorList,function(){a("<li />").html(this.message).appendTo(r)}))}function o(e){var t=e.data("unobtrusiveContainer"),n=a.parseJSON(t.attr("data-valmsg-replace"));t&&(t.addClass("field-validation-valid").removeClass("field-validation-error"),e.removeData("unobtrusiveContainer"),n&&t.empty())}function s(e){var t=a(e),n=t.data(m);return n||(n={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:a.proxy(i,e),invalidHandler:a.proxy(d,e),messages:{},rules:{},success:a.proxy(o,e)},attachValidation:function(){t.validate(this.options)},validate:function(){return t.validate(),t.valid()}},t.data(m,n)),n}var l,u=a.validator,m="unobtrusiveValidation";u.unobtrusive={adapters:[],parseElement:function(e,t){var n,r,i,d=a(e),o=d.parents("form")[0];o&&(n=s(o),n.options.rules[e.name]=r={},n.options.messages[e.name]=i={},a.each(this.adapters,function(){var t="data-val-"+this.name,n=d.attr(t),s={};void 0!==n&&(t+="-",a.each(this.params,function(){s[this]=d.attr(t+this)}),this.adapt({element:e,form:o,message:n,params:s,rules:r,messages:i}))}),jQuery.extend(r,{__dummy__:!0}),t||n.attachValidation())},parse:function(e){a(e).find(":input[data-val=true]").each(function(){u.unobtrusive.parseElement(this,!0)}),a("form").each(function(){var a=s(this);a&&a.attachValidation()})}},l=u.unobtrusive.adapters,l.add=function(a,e,t){return t||(t=e,e=[]),this.push({name:a,params:e,adapt:t}),this},l.addBool=function(a,t){return this.add(a,function(n){e(n,t||a,!0)})},l.addMinMax=function(a,t,n,r,i,d){return this.add(a,[i||"min",d||"max"],function(a){var i=a.params.min,d=a.params.max;i&&d?e(a,r,[i,d]):i?e(a,t,i):d&&e(a,n,d)})},l.addSingleVal=function(a,t,n){return this.add(a,[t||"val"],function(r){e(r,n||a,r.params[t])})},u.addMethod("__dummy__",function(a,e,t){return!0}),u.addMethod("regex",function(a,e,t){var n;return!!this.optional(e)||(n=new RegExp(t).exec(a))&&0===n.index&&n[0].length===a.length}),l.addSingleVal("accept","exts").addSingleVal("regex","pattern"),l.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),l.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),l.add("equalto",["other"],function(t){var i=n(t.element.name),d=t.params.other,o=r(d,i);e(t,"equalTo",a(t.form).find(":input[name="+o+"]")[0])}),l.add("required",function(a){"INPUT"===a.element.tagName.toUpperCase()&&"CHECKBOX"===a.element.type.toUpperCase()||e(a,"required",!0)}),l.add("remote",["url","type","additionalfields"],function(i){var d={url:i.params.url,type:i.params.type||"GET",data:{}},o=n(i.element.name);a.each(t(i.params.additionalfields||i.element.name),function(e,t){var n=r(t,o);d.data[n]=function(){return a(i.form).find(":input[name='"+n+"']").val()}}),e(i,"remote",d)}),a(function(){u.unobtrusive.parse(document)})}(jQuery);
!function(){function i(i){for(;i=i.parentNode;)if(i==document)return!0;return!1}$.validator.defaults.onfocusout=function(e){var t=this;$.validator.validationTriggerTimer=setTimeout(function(){!t.checkable(e)&&i(e)&&t.element(e)},100)},$(document).off(".delayedValidation").on("click.delayedValidation",".prevent-validation",function(){clearTimeout($.validator.validationTriggerTimer)})}();
!function(t){function a(t,a){for(var e=window,n=(t||"").split(".");e&&n.length;)e=e[n.shift()];return"function"==typeof e?e:(a.push(t),Function.constructor.apply(null,a))}function e(t){return"GET"===t||"POST"===t}function n(t,a){e(a)||t.setRequestHeader("X-HTTP-Method-Override",a)}function r(a,e,n){var r;-1===n.indexOf("application/x-javascript")&&(r=(a.getAttribute("data-ajax-mode")||"").toUpperCase(),t(a.getAttribute("data-ajax-update")).each(function(a,n){var i;switch(r){case"BEFORE":i=n.firstChild,t("<div />").html(e).contents().each(function(){n.insertBefore(this,i)});break;case"AFTER":t("<div />").html(e).contents().each(function(){n.appendChild(this)});break;default:t(n).html(e)}}))}function i(){var t=Ebre.Controls;if(t&&t.AjaxOnSuccess)for(var a=t.AjaxOnSuccess,e=0;e<a.length;e++)a[e]()}function u(u,o){var s,d,c,f;(s=u.getAttribute("data-ajax-confirm"))&&!window.confirm(s)||(d=t(u.getAttribute("data-ajax-loading")),f=u.getAttribute("data-ajax-loading-duration")||0,t.extend(o,{type:u.getAttribute("data-ajax-method")||void 0,url:u.getAttribute("data-ajax-url")||void 0,beforeSend:function(t){var e;return n(t,c),e=a(u.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),!1!==e&&d.show(f),e},complete:function(){d.hide(f),a(u.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(t,e,n){r(u,t,n.getResponseHeader("Content-Type")||"text/html"),a(u.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments),i()},error:a(u.getAttribute("data-ajax-failure"),["xhr","status","error"])}),o.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),c=o.type.toUpperCase(),e(c)||(o.type="POST",o.data.push({name:"X-HTTP-Method-Override",value:c})),t.ajax(o))}function o(a){var e=t(a).data(d);return!e||!e.validate||e.validate()}var s="unobtrusiveAjaxClick",d="unobtrusiveValidation";t(document).on("click","a[data-ajax=true]",function(t){t.preventDefault(),u(this,{url:this.href,type:"GET",data:[]})}),t(document).on("click","form[data-ajax=true] input[type=image]",function(a){var e=a.target.name,n=t(a.target),r=n.parents("form")[0],i=n.offset();t(r).data(s,[{name:e+".x",value:Math.round(a.pageX-i.left)},{name:e+".y",value:Math.round(a.pageY-i.top)}]),setTimeout(function(){t(r).removeData(s)},0)}),t(document).on("click","form[data-ajax=true] :submit",function(a){var e=a.target.name,n=t(a.target).parents("form")[0];t(n).data(s,e?[{name:e,value:a.target.value}]:[]),setTimeout(function(){t(n).removeData(s)},0)}),t(document).on("submit","form[data-ajax=true]",function(a){var e=t(this).data(s)||[];a.preventDefault(),o(this)&&u(this,{url:this.action,type:this.method||"GET",data:e.concat(t(this).serializeArray())})})}(jQuery);
!function(e){e.fn.zclip=function(t){if("object"==typeof t&&!t.length){var i=e.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},t);return this.each(function(){var t=e(this);if(t.is(":visible")&&("string"==typeof i.copy||e.isFunction(i.copy))){ZeroClipboard.setMoviePath(i.path);var s=new ZeroClipboard.Client;e.isFunction(i.copy)&&t.bind("zClip_copy",i.copy),e.isFunction(i.beforeCopy)&&t.bind("zClip_beforeCopy",i.beforeCopy),e.isFunction(i.afterCopy)&&t.bind("zClip_afterCopy",i.afterCopy),s.setHandCursor(i.setHandCursor),s.setCSSEffects(i.setCSSEffects),s.addEventListener("mouseOver",function(e){t.trigger("mouseenter")}),s.addEventListener("mouseOut",function(e){t.trigger("mouseleave")}),s.addEventListener("mouseDown",function(o){t.trigger("mousedown"),e.isFunction(i.copy)?s.setText(t.triggerHandler("zClip_copy")):s.setText(i.copy),e.isFunction(i.beforeCopy)&&t.trigger("zClip_beforeCopy")}),s.addEventListener("complete",function(s,o){e.isFunction(i.afterCopy)?t.trigger("zClip_afterCopy"):(o.length>500&&(o=o.substr(0,500)+"...\n\n("+(o.length-500)+" characters not shown)"),t.removeClass("hover"),alert("Copied text to clipboard:\n\n "+o)),i.clickAfter&&t.trigger("click")}),s.glue(t[0],t.parent()[0]),e(window).bind("load resize",function(){s.reposition()})}})}if("string"==typeof t)return this.each(function(){var i=e(this);t=t.toLowerCase();var s=i.data("zclipId"),o=e("#"+s+".zclip");"remove"==t?(o.remove(),i.removeClass("active hover")):"hide"==t?(o.hide(),i.removeClass("active hover")):"show"==t&&o.show()})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),i=-1,s=0;s<t.length;s++)t[s]==e&&(i=s,s=t.length);return i>-1&&(t.splice(i,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var s=this.clients[e];s&&s.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){var i={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};return e&&e!=t&&(i.left+=e.offsetLeft,i.top+=e.offsetTop),i},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,i){this.domElement=ZeroClipboard.$(e);var s=99;this.domElement.style.zIndex&&(s=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.$(t):void 0===t&&(t=document.getElementsByTagName("body")[0]);var o=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId);var n=this.div.style;if(n.position="absolute",n.left=o.left+"px",n.top=o.top+"px",n.width=o.width+"px",n.height=o.height+"px",n.zIndex=s,"object"==typeof i)for(addedStyle in i)n[addedStyle]=i[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(o.width,o.height)},getHTML:function(e,t){var i="",s="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+s+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+s+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(e){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=t.left+"px",i.top=t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var i=this;return void setTimeout(function(){i.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var i=this;return setTimeout(function(){i.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0;try{this.movie.setText(this.clipText)}catch(e){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(e){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var s=0,o=this.handlers[e].length;s<o;s++){var n=this.handlers[e][s];"function"==typeof n?n(this,t):"object"==typeof n&&2==n.length?n[0][n[1]](this,t):"string"==typeof n&&window[n](this,t)}}};
var foolproof=function(){};foolproof.is=function(e,r,t,n){if(n){var a=function(e){return null==e||void 0==e||""==e},o=a(e),p=a(t);if(o&&!p||p&&!o)return!0}switch(function(e){return new RegExp(/(?=\d)^(?:(?!(?:10\D(?:0?[5-9]|1[0-4])\D(?:1582))|(?:0?9\D(?:0?[3-9]|1[0-3])\D(?:1752)))((?:0?[13578]|1[02])|(?:0?[469]|11)(?!\/31)(?!-31)(?!\.31)|(?:0?2(?=.?(?:(?:29.(?!000[04]|(?:(?:1[^0-6]|[2468][^048]|[3579][^26])00))(?:(?:(?:\d\d)(?:[02468][048]|[13579][26])(?!\x20BC))|(?:00(?:42|3[0369]|2[147]|1[258]|09)\x20BC))))))|(?:0?2(?=.(?:(?:\d\D)|(?:[01]\d)|(?:2[0-8])))))([-.\/])(0?[1-9]|[12]\d|3[01])\2(?!0000)((?=(?:00(?:4[0-5]|[0-3]?\d)\x20BC)|(?:\d{4}(?!\x20BC)))\d{4}(?:\x20BC)?)(?:$|(?=\x20\d)\x20))?((?:(?:0?[1-9]|1[012])(?::[0-5]\d){0,2}(?:\x20[aApP][mM]))|(?:[01]\d|2[0-3])(?::[0-5]\d){1,2})?$/).test(e)}(e)?(e=Date.parse(e),t=Date.parse(t)):!function(e){return!0===e||!1===e||"true"===e||"false"===e}(e)?function(e){return e-0==e&&e.length>0}(e)&&(e=parseFloat(e),t=parseFloat(t)):("false"==e&&(e=!1),"false"==t&&(t=!1),e=!!e,t=!!t),r){case"EqualTo":if(e==t)return!0;break;case"NotEqualTo":if(e!=t)return!0;break;case"GreaterThan":if(e>t)return!0;break;case"LessThan":if(e<t)return!0;break;case"GreaterThanOrEqualTo":if(e>=t)return!0;break;case"LessThanOrEqualTo":if(e<=t)return!0;break;case"RegExMatch":return new RegExp(t).test(e);case"NotRegExMatch":return!new RegExp(t).test(e)}return!1},foolproof.getId=function(e,r){var t=e.id.lastIndexOf("_")+1;return e.id.substr(0,t)+r.replace(/\./g,"_")},foolproof.getName=function(e,r){var t=e.name.lastIndexOf(".")+1;return e.name.substr(0,t)+r},function(){jQuery.validator.addMethod("is",function(e,r,t){var n=foolproof.getId(r,t.dependentproperty),a=t.operator,o=t.passonnull,p=document.getElementById(n).value;return!!foolproof.is(e,a,p,o)}),jQuery.validator.addMethod("requiredif",function(e,r,t){var n=foolproof.getName(r,t.dependentproperty),a=t.dependentvalue,o=t.operator,p=t.pattern,d=document.getElementsByName(n),s=null;if(d.length>1){for(var u=0;u!=d.length;u++)if(d[u].checked){s=d[u].value;break}null==s&&(s=!1)}else s=d[0].value;return!foolproof.is(s,o,a)||(null!=p?new RegExp(p).test(e):null!=e&&""!=e.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,""))}),jQuery.validator.addMethod("requiredifempty",function(e,r,t){var n=foolproof.getId(r,t.dependentproperty),a=document.getElementById(n).value;return null!=a&&""!=a.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,"")||null!=e&&""!=e.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),jQuery.validator.addMethod("requiredifnotempty",function(e,r,t){var n=foolproof.getId(r,t.dependentproperty),a=document.getElementById(n).value;return null==a||""==a.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,"")||null!=e&&""!=e.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var e=function(e,r,t){e.rules[r]=t,e.message&&(e.messages[r]=e.message)},r=$.validator.unobtrusive;r.adapters.add("requiredif",["dependentproperty","dependentvalue","operator","pattern"],function(r){var t={dependentproperty:r.params.dependentproperty,dependentvalue:r.params.dependentvalue,operator:r.params.operator,pattern:r.params.pattern};e(r,"requiredif",t)}),r.adapters.add("is",["dependentproperty","operator","passonnull"],function(r){e(r,"is",{dependentproperty:r.params.dependentproperty,operator:r.params.operator,passonnull:r.params.passonnull})}),r.adapters.add("requiredifempty",["dependentproperty"],function(r){e(r,"requiredifempty",{dependentproperty:r.params.dependentproperty})}),r.adapters.add("requiredifnotempty",["dependentproperty"],function(r){e(r,"requiredifnotempty",{dependentproperty:r.params.dependentproperty})})}();
!function(e){function r(e,r){return new Array(parseInt(r)+1).join(e)}function t(e){return Ebre.Entity.isCZSK()?a(e):n(e)}function a(e){return 22===e.length&&("-"===e.substring(6,7)&&"/"===e.substring(17,18)&&e.substring(18,22)===Ebre.Entity.Current)}function n(e){var r=e.replace(/\s/g,""),t=e.substring(0,2);return!(!new RegExp("^[a-zA-Z]+$").test(t)&&26!=e.length||new RegExp("^[a-zA-Z]+$").test(t)&&28!=e.length)||!_.contains(["11402004","11402017"],r.substring(2,10))}function i(e){e=e.replace(/[^a-zA-Z\d]/gi,"");var r=new Array(1,10,3,30,9,90,27,76,81,34,49,5,50,15,53,45,62,38,89,17,73,51,25,56,75,71,31,19,93,57);if(26==e.length){e+="2521",e=e.substr(2)+e.substr(0,2);for(var t=0,a=0;a<30;a++)t+=e[29-a]*r[a];return t%97==1}return!1}function s(e){var r=6*e[0]+3*e[1]+7*e[2]+9*e[3]+10*e[4]+5*e[5]+8*e[6]+4*e[7]+2*e[8]+1*e[9],t=r%11;return 0!=t&&1!=t&&(t=11-t),t}function u(e){var r=10*e[0]+5*e[1]+8*e[2]+4*e[3]+2*e[4]+1*e[5],t=r%11;return 0!=t&&1!=t&&(t=11-t),t}function o(e){if(22!==e.length)return!1;if("-"!==e.substring(6,7)||"/"!==e.substring(17,18))return!1;if(!/^\d+$/.test(e.substring(0,6)+e.substring(7,17)+e.substring(18,22)))return!1;var r=u(e.substring(0,6));if(0!=r)return!1;var t=e.substring(7,17);if("0000000000"===t)return!1;var r=s(t);return 0==r}function d(e){return Ebre.Entity.isCZSK()?o(e):i(e)}function l(e){var e=e.replace(/[^a-zA-Z0-9\/\-?:().,+']/gi,"");return!(e.length>34)&&!!new RegExp("^[a-zA-Z0-9-/?:().,+']+$").test(e)}function c(e){var r,t,a=/[A-Z]{2}[0-9]{7}/g,n=a.test(e),i=[7,3,9,1,7,3,1,7,3],s=0,u="";if(n){t={A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"},e=e.split("");var o=e.length;for(r=0;r<o;r+=1)u=e[r],void 0!==t[u]&&(e[r]=t[u]),s+=e[r]*i[r];if(s%10==0)return!0}return!1}function p(e){var r,t,a={A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"},n=[7,3,1,9,7,3,1,7,3],i=0,s="";for(e=e.split(""),t=e.length,r=0;r<t;r+=1)s=e[r],e[r]=void 0!==a[s]?parseInt(a[s],10):parseInt(e[r],10),i+=e[r]*n[r];return i%10==0}function m(e){var r,t,a=[6,5,7,2,3,4,5,6,7,-1];if(t=0,10!==e.length)return!1;for(r=0;r<e.length-1;r+=1)t+=parseInt(e.substring(r,r+1),10)*a[r];return(t%=11)===parseInt(e.substring(e.length-1,e.length),10)}function f(e){var r,t,a,n=new Array(1,3,7,9,1,3,7,9,1,3,-1);if(r=void 0==e.length?e.value:e,a=0,11!=r.length)return!1;for(t=0;t<r.length-1;++t)a+=parseInt(r.substring(t,t+1))*n[t]%10;return a%=10,0!=a&&(a=10-a),a==parseInt(r.substring(r.length-1,r.length))}function g(e){var r,t,a,n;if(r=e,a=0,9==r.length)n=new Array(8,9,2,3,4,5,6,7,-1);else{if(14!=r.length)return!1;n=new Array(2,4,8,5,10,9,7,3,6,1,2,4,8,-1)}for(t=0;t<r.length-1;++t)a+=parseInt(r.substring(t,t+1))*n[t];return a%=11,10==a&&(a=0),a==parseInt(r.substring(r.length-1,r.length))}function v(e,r){var t,a,n,i,s,u,o,d;if(u=0,found=e.indexOf(","),found>0?(s=e.substr(0,found),u=e.substr(found+1)):s=e,!h(s,!1))return-999;if(!h(u,!1))return-999;if(d=0,found=r.indexOf(","),found>0?(o=r.substr(0,found),d=r.substr(found+1)):o=r,!h(o,!1))return-999;if(!h(d,!1))return-999;for(;u.length>d.length;)d+="0";for(;d.length>u.length;)u+="0";return t=parseInt(s,10),a=parseInt(u,10),n=parseInt(o,10),i=parseInt(d,10),t>n?1:t<n?2:a>i?1:a<i?2:0}function h(e){return b(e)?1==h.arguments.length?defaultEmptyOK:1==h.arguments[1]:C.test(e)}function b(e){return null==e||0==e.length}function y(e){return Ebre.Entity.isCZSK()?e.match(/[^0-9\-\/]/):e.match(/[^0-9]/)}function M(e){return e.match(/[^ !#-;=?-{}~]/)}function j(e,r,t){var a,n,i,s,u,o=e.value;if(u="true"==t,null==(a=u?y(o):M(o)))return!0;if(n=a.toString().charCodeAt(0),13==n&&(a="<Enter>"),10==n&&(a="<Enter>"),9==n&&(a="<Tab>"),window.alert(I18n.t("infos.invalidCharpart1")+a+" char("+n+")"+I18n.t("infos.invalidCharpart2")+"'"+r+"'"),!u&&(9==n||10==n||13==n||34==n||60==n||62==n||124==n||8364==n)){switch(n){case 34:i="'";break;case 60:i="(";break;case 62:i=")";break;default:i="<Spacja>"}if(window.confirm(I18n.t("infos.changeCharsQuestionpart1")+a+I18n.t("infos.changeCharsQuestionpart2")+i))if("<Spacja>"==i&&(i=" "),s=o.indexOf(String.fromCharCode(n)),13==n)for(;-1!=s;)e.value=o.substring(0,s)+i+o.substring(s+2),o=e.value,s=o.indexOf(String.fromCharCode(n));else for(;-1!=s;)e.value=o.substring(0,s)+i+o.substring(s+1),o=e.value,s=o.indexOf(String.fromCharCode(n))}return!1}jQuery.validator.unobtrusive.adapters.add("remotevart",["url","parametername","inputname"],function(e){var r={url:e.params.url,parametername:e.params.parametername,inputname:e.params.inputname};e.rules.remotevart=r,e.message&&(e.messages.remotevart=e.message)}),jQuery.validator.addMethod("remotevart",function(r,t,a){console.log(a.inputname);var n=a.url,i=(a.parametername,a.inputname);if(this.optional(t))return"dependency-mismatch";var s=this.previousValue(t);if(this.settings.messages[t.name]||(this.settings.messages[t.name]={}),s.originalMessage=this.settings.messages[t.name].remoteval,this.settings.messages[t.name].remoteval=s.message,t==document.activeElement)return!0;if(s.old!==r){s.old=r;var u=this;this.startRequest(t);var o={};return o[i]=r,e.ajax({url:n,data:o,contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){u.settings.messages[t.name].remote=s.originalMessage;var n=!0===a;if(n){var i=u.formSubmitted;u.prepareElement(t),u.formSubmitted=i,u.successList.push(t),u.showErrors()}else{var o={},d=s.message=a||u.defaultMessage(t,"remote");u.errorList.push(d),o[t.name]=e.isFunction(d)?d(r):d,u.showErrors(o)}s.valid=n,u.stopRequest(t,n)}}),"pending"}return this.pending[t.name]?"pending":s.valid}),jQuery.validator.addMethod("account",function(e,t,a){var n=t.value.replace(/\s/g,""),i=M(n);t.name;if(t.value=n,i)return i.toString().charCodeAt(0),!1;if(t.required&&0==n.length)return!1;if(!d(n))return!1;if(Ebre.Entity.isPL()||Ebre.Entity.isOF()){var s;(s=n.match(new RegExp("^(\\d{2})"+r("(\\d{4})",6)+"$")))&&(s.shift(),t.value=s.join(" "))}return!0}),jQuery.validator.unobtrusive.adapters.addBool("account"),jQuery.validator.addMethod("accountinternal",function(e,a,n){var i=a.value.replace(/\s/g,""),s=M(i);a.name;if(a.value=i,s)return s.toString().charCodeAt(0),!1;if(a.required&&0==i.length)return!1;if(!t(i))return!1;if(!d(i))return!1;var u;return(u=i.match(new RegExp("^(\\d{2})"+r("(\\d{4})",6)+"$")))&&(u.shift(),a.value=u.join(" ")),!0}),jQuery.validator.unobtrusive.adapters.addBool("accountinternal"),jQuery.validator.addMethod("accountabroad",function(e,r,t){var a=r.value.replace(/\s/g,""),n=M(a);r.name;return r.value=a,n?(n.toString().charCodeAt(0),!1):(!r.required||0!=a.length)&&(!!l(a)&&(r.value=a.replace(/(^[a-zA-Z0-9\/\-?:().,+']{2})/,"$1 ").replace(/([a-zA-Z0-9\/\-?:().,+']{1,4})/g,"$1 ").trim().replace(/\s+/," "),!0))}),jQuery.validator.unobtrusive.adapters.addBool("accountabroad"),e.validator.methods.accountNRBCZSK=o,jQuery.validator.addMethod("amount",function(e,r,t){if(this.optional(r)||e&&0==e.length)return"dependency-mismatch";var a=t.min,n=t.max,i=t.precision;a=a.replace(".",","),n=n.replace(".",",");var s=(r.name,e);if(s=s.replace(/ /g,""),s=s.replace(".",","),0==s.length)return!0;var u,o;if(u=v(a,s),o=v(s,n),u<0||o<0)return!1;if(1==u)return!1;if(1==o)return!1;var d=0,l=s.indexOf(",");return l>0&&(d=s.length-l-1),!(d>i)&&(r.value=s,!0)});var x=function(e,r,t){e.rules[r]=t,e.message&&(e.messages[r]=e.message)};jQuery.validator.unobtrusive.adapters.add("amount",["min","max","precision"],function(e){var r={min:e.params.min,max:e.params.max,precision:e.params.precision};x(e,"amount",r)}),jQuery.validator.addMethod("nip",function(e,r,t){return m(e)}),jQuery.validator.unobtrusive.adapters.addBool("nip"),jQuery.validator.addMethod("pesel",function(e,r,t){return f(e)}),jQuery.validator.unobtrusive.adapters.addBool("pesel"),jQuery.validator.addMethod("elixir",function(e,r,t){return j(r,r.name,!1)}),jQuery.validator.addMethod("regon",function(e,r,t){return g(e)}),jQuery.validator.unobtrusive.adapters.addBool("regon");var C=/^\d+$/;e.validator.addMethod("identitydocument",function(r,t,a){var n=t.form.elements[a.dependentproperty],i=e(n),s=i.attr("type"),u="checkbox"===s?i.attr("checked").toString():i.val();if(u){u=u.toUpperCase();var o=r.toUpperCase();o=o.replace(/[ -]/g,"");var d=!1;return"1"===u?d=p(o):"2"===u?d=c(o):"P"===u?d=f(o):"R"===u?d=g(o):"N"===u&&(d=m(o)),1==d&&(t.value=o),d}return!0}),e.validator.unobtrusive.adapters.add("identitydocument",["dependentproperty"],function(e){e.rules.identitydocument={dependentproperty:e.params.dependentproperty},e.messages.identitydocument=e.message}),jQuery.validator.unobtrusive.adapters.add("atleastonerequired",["properties"],function(e){e.rules.atleastonerequired=e.params,e.messages.atleastonerequired=e.message}),jQuery.validator.addMethod("atleastonerequired",function(r,t,a){var n=a.properties.split(",");return e.map(n,function(r,t){var a=e("#"+r).val();return""!=a?a:null}).length>0},""),e.validator.unobtrusive.adapters.addMinMax("minlength","minlength"),e.validator.unobtrusive.adapters.addMinMax("maxlength","minlength","maxlength"),e.validator.unobtrusive.parseDynamicContent=function(r){e.validator.unobtrusive.parse(r);var t=e(r).first().closest("form"),a=t.data("unobtrusiveValidation"),n=t.validate();e.each(a.options.rules,function(r,t){if(void 0==n.settings.rules[r]){var i={};e.extend(i,t),i.messages=a.options.messages[r],e("[name='"+r+"']").rules("add",i)}else e.each(t,function(t,i){if(void 0==n.settings.rules[r][t]){var s={};s[t]=i,s.messages=a.options.messages[r][t],e("[name='"+r+"']").rules("add",s)}})})},e.validator.methods.range=function(e,r,t){var a=e.replace(",",".");return this.optional(r)||a>=t[0]&&a<=t[1]},e.validator.methods.number=function(e,r){return this.optional(r)||/^-?(?:\d+|\d{1,3}(?:[\s\.,]\d{3})+)(?:[\.,]\d+)?$/.test(e)},e.validator.methods.date=function(r,t){var a=!0;try{e.datepicker.parseDate(e.datepicker._defaults.dateFormat,r)}catch(e){a=!1}return a},e.validator.setDefaults({onkeyup:!1,onclick:!1,highlight:function(r,t,a){e(r).closest(".row, .fields-row").removeClass("success").addClass("validation error")},unhighlight:function(r){var t=e(r).closest(".row, .fields-row");0==e(this)[0].errorList.length&&t.removeClass("validation error").addClass("validation success")}})}(jQuery),function(e,r){"use strict";function t(e){return parseFloat(e.replace(/\s/g,"").replace(/,/g,"."))}function a(a,n){return t(e(document.getElementById(r.getId(a,n))).val())}e.validator.addMethod("between",function(e,r,n){return e=t(e),a(r,n.MinProperty)<=e&&e<=a(r,n.MaxProperty)},function(r,t){return e(t).data("val-between").replace(r.MinProperty,a(t,r.MinProperty)).replace(r.MaxProperty,a(t,r.MaxProperty))}),e.validator.unobtrusive.adapters.add("between",["MinProperty","MaxProperty"],function(e){e.rules.between=e.params})}(jQuery,foolproof),function(e){"use strict";e.validator.unobtrusive.adapters.add("zeroorrange",["Minimum","Maximum"],function(e){e.rules.zeroorrange=e.params,e.message&&(e.messages.zeroorrange=e.message)}),e.validator.addMethod("zeroorrange",function(e,r,t){return 0==e||parseFloat(t.Minimum)<=parseFloat(e)&&parseFloat(e)<=parseFloat(t.Maximum)})}(jQuery),function(e){"use strict";var r=function(r){var t="bankbasedzeroorrange"+r;e.validator.unobtrusive.adapters.add(t,["minimum","maximum"],function(e){e.rules[t]=e.params,e.message&&(e.messages[t]=e.message)}),e.validator.addMethod(t,function(e,t,a){var n=!Ebre.Entity["is"+r.toUpperCase()]();return n||(n=0==e||parseFloat(a.minimum)<=parseFloat(e)&&parseFloat(e)<=parseFloat(a.maximum)),n})};r("pl"),r("cz"),r("sk")}(jQuery);
!function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(r){if(r.async){var a,n,o,p=r.initialIframeSrc||"javascript:false;";return{send:function(i,m){a=t('<form style="display:none;"></form>'),a.attr("accept-charset",r.formAcceptCharset),o=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+o+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+o+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+o+"_method=PATCH",r.type="POST"),e+=1,n=t('<iframe src="'+p+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,o=t.isArray(r.paramName)?r.paramName:[r.paramName];n.unbind("load").bind("load",function(){var e;try{if(e=n.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=void 0}m(200,"success",{iframe:e}),t('<iframe src="'+p+'"></iframe>').appendTo(a),window.setTimeout(function(){a.remove()},0)}),a.prop("target",n.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&t.each(r.formData,function(e,r){t('<input type="hidden"/>').prop("name",r.name).val(r.value).appendTo(a)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(e=r.fileInput.clone(),r.fileInput.after(function(t){return e[t]}),r.paramName&&r.fileInput.each(function(e){t(this).prop("name",o[e]||r.paramName)}),a.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),r.fileInput.removeAttr("form")),a.submit(),e&&e.length&&r.fileInput.each(function(r,a){var n=t(e[r]);t(a).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(a)})}),a.append(n).appendTo(document.body)},abort:function(){n&&n.unbind("load").prop("src",p),a&&a.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var r=e&&e[0];return r&&t.isXMLDoc(r)?r:t.parseXML(r.XMLDocument&&r.XMLDocument.xml||t(r.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}(jQuery);
!function(e){"use strict";function t(t){var i="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var n=r.dataTransfer;n&&-1!==e.inArray("Files",n.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:r}))&&(r.preventDefault(),i&&(n.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){if(t.isDefaultPrevented())return!1;(i.autoUpload||!1!==i.autoUpload&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var r=e-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var r,n=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&n-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=n,r=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=r-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=r,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(n,r,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,i._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,r=this,n=t.files[0],o=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",n)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(r,n){i.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||s,value:n})})):(r._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,n.name):e.each(t.files,function(n,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&i.append("array"===e.type(t.paramName)&&t.paramName[n]||s,o,o.uploadName||o.name)})),t.data=i):(t.contentType=n.type||"application/octet-stream",t.data=t.blob||n),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)r.push(i),n-=1}),r.length||(r=[i.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,r){var n=e.Deferred(),o=n.promise();return i=i||this.options.context||o,!0===t?n.resolveWith(i,r):!1===t&&n.rejectWith(i,r),o.abort=n.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,i){var r=this,n=function(t){return e.Deferred().resolveWith(r,t).promise()};i.process=function(t,o){return(t||o)&&(i._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){return i.errorThrown?e.Deferred().rejectWith(r,[i]).promise():n(arguments)}).pipe(t,o)),this._processQueue||n([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=!1!==r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),r=i&&i.length>1&&parseInt(i[1],10);return r&&r+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var r,n,o=this,s=t.files[0],a=s.size,l=t.uploadedBytes,p=t.maxChunkSize||a,u=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||p<a))||t.data)&&(!!i||(l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(n=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=u.call(s,l,l+p,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,o._initXHRData(i),o._initProgressListener(i),r=(!1!==o._trigger("chunksend",null,i)&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(r,s,p){l=o._getUploadedBytes(p)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=r,i.textStatus=s,i.jqXHR=p,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),l<a?n():d.resolveWith(i.context,[r,s,p])}).fail(function(e,t,r){i.jqXHR=e,i.textStatus=t,i.errorThrown=r,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),d.rejectWith(i.context,[e,t,r])})},this._enhancePromise(h),h.abort=function(){return r.abort()},n(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,r,n){var o=n._progress.total,s=n._response;n._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),n),s.result=n.result=t,s.textStatus=n.textStatus=i,s.jqXHR=n.jqXHR=r,this._trigger("done",null,n)},_onFail:function(e,t,i,r){var n=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),n.jqXHR=r.jqXHR=e,n.textStatus=r.textStatus=t,n.errorThrown=r.errorThrown=i,this._trigger("fail",null,r)},_onAlways:function(e,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var r,n,o,s,a=this,l=a._getAJAXSettings(i),p=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,r=r||((n||!1===a._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&a._getXHRPromise(!1,l.context,n)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){a._onDone(e,t,i,l)}).fail(function(e,t,i){a._onFail(e,t,i,l)}).always(function(e,t,i){if(a._onAlways(e,t,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var r=a._slots.shift();r;){if("pending"===a._getDeferredState(r)){r.resolve();break}r=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.pipe(p)):(this._sequence=this._sequence.pipe(p,p),s=this._sequence),s.abort=function(){return n=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(l.context,n),p())},this._enhancePromise(s)):p()},_onAdd:function(t,i){var r,n,o,s,a=this,l=!0,p=e.extend({},this.options,i),u=i.files,d=u.length,h=p.limitMultiFileUploads,c=p.limitMultiFileUploadSize,f=p.limitMultiFileUploadSizeOverhead,g=0,_=this._getParamName(p),m=0;if(!c||d&&void 0!==u[0].size||(c=void 0),(p.singleFileUploads||h||c)&&this._isXHRUpload(p))if(p.singleFileUploads||c||!h)if(!p.singleFileUploads&&c)for(o=[],r=[],s=0;s<d;s+=1)g+=u[s].size+f,(s+1===d||g+u[s+1].size+f>c||h&&s+1-m>=h)&&(o.push(u.slice(m,s+1)),n=_.slice(m,s+1),n.length||(n=_),r.push(n),m=s+1,g=0);else r=_;else for(o=[],r=[],s=0;s<d;s+=h)o.push(u.slice(s,s+h)),n=_.slice(s,s+h),n.length||(n=_),r.push(n);else o=[u],r=[_];return i.originalFiles=u,e.each(o||u,function(n,s){var p=e.extend({},i);return p.files=o?s:[s],p.paramName=r[n],a._initResponseObject(p),a._initProgressObject(p),a._addConvenienceMethods(t,p),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),p)}),l},_replaceFileInput:function(t){var i=t.fileInput,r=i.clone(!0);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),i.after(r).detach(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?r[0]:t}),i[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,i){var r,n=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},a=function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},l=function(){r.readEntries(function(e){e.length?(p=p.concat(e),l()):a(p)},s)},p=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},s):t.isDirectory?(r=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,r,n=t.prop("webkitEntries")||t.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(r=t.prop("value")))return e.Deferred().resolve([]).promise();i=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(n){r.files=n,i.options.replaceFileInput&&i._replaceFileInput(r),!1!==i._trigger("change",e.Event("change",{delegatedEvent:t}),r)&&i._onAdd(t,r)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&r.files.push(i)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,r=t.dataTransfer,n={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){n.files=r,!1!==i._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)&&i._onAdd(t,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,i),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,r=e(this.element[0].cloneNode(!1)),n=r.data();r.remove(),e.each(n,function(e,n){var o="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();r.attr(o)&&(t._isRegExpOption(e,n)&&(n=t._getRegExp(n)),i[e]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,r,n=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return r=!0,i?i.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void o.reject();t.files=e,i=n._onSend(null,t),i.then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}(jQuery);
!function(t){var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,r,a,u={},d=e.split(".")[0];return e=e.split(".")[1],s=d+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[d]=t[d]||{},o=t[d][e],r=t[d][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){if(!t.isFunction(n))return void(u[e]=n);u[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},u,{constructor:r,namespace:d,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,s,o=i.call(arguments,1),r=0,a=o.length;r<a;r++)for(n in o[r])s=o[r][n],o[r].hasOwnProperty(n)&&void 0!==s&&(t.isPlainObject(s)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],s):t.widget.extend({},s):e[n]=s);return e},t.widget.bridge=function(e,n){var s=n.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=i.call(arguments,1),u=this;return o=!r&&a.length?t.widget.extend.apply(null,[o].concat(a)):o,r?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(u=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new n(o,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var u=n.match(/^([\w:-]*)\s*(.*)$/),d=u[1]+o.eventNamespace,h=u[2];h?s.delegate(h,d,a):i.bind(d,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?!0===s||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});t.widget}(jQuery);
function slidetoDetailsView(i,e,a){$("#"+i+"s-app-menu").addClass("minimized").animate({width:"230px"},300),$(".aside-view").css({display:"none"}),$("#"+e).animate({width:"230px",overflow:"hidden"},300,"linear",function(){$("#"+i+"-list").removeClass("list-mode").addClass("details-mode")}),$("#"+a).animate({"margin-left":"-200px"},300)}function slidetoListView(i,e,a){$("#"+e).animate({width:"960px",overflow:"visible"},300,"linear",function(){$("#"+i+"-list").removeClass("details-mode").addClass("list-mode"),$(".aside-view").css({display:"block"})}),$(".right-panel").animate({"margin-left":"480px"},300,"linear",function(){$("#"+a).css({display:"block"}).html("")}),$("#"+i+"s-app-menu").animate({width:"100%"},300,"linear",function(){$(this).removeClass("minimized")})}
requirejs.onError=function(e){var r=Ebre&&Ebre.Venezia&&Ebre.Venezia.JsLogger;e.requireModules?(console.log("[RequireJs] "+e.requireType+e.requireModules+e),r&&r.error(e.message,null,{requireJsErrorDetails:{requireErrorType:e.requireType,requireModules:e.requireModules}},"requireJsError")):(console.log("[RequireJs] "+e.requireType+e),r&&r.error(e.message,null,{requireJsErrorDetails:{requireErrorType:e.requireType}},"requireJsError")),$("#noresources").removeClass("nocss")},require.config({waitSeconds:120});
$(document).ajaxSuccess(function(e,n,t){if($.inArray("html",t.dataTypes)>=0){var i=n.getResponseHeader("content-type");if(!i||-1==i.indexOf("html"))return;var a=$("form","<div>"+n.responseText+"</div>"),r=null;$(a).each(function(){var e=this.id;null==r?r="":r+=" ,",r=r+"#"+e}),null!=r&&setTimeout(function(){$.validator.unobtrusive.parse(r)},100)}});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("@aspnet/signalr",t):e.signalR=t()}(this,function(){"use strict";function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e,t){function r(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]]);return r}function i(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function s(e,t){return function(r,n){t(r,n,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}c((n=n.apply(e,t||[])).next())})}function u(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(s=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],i=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function l(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function d(e,t,r){function n(e){l[e]&&(u[e]=function(t){return new Promise(function(r,n){p.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{i(l[e](t))}catch(e){c(p[0][3],e)}}function i(e){e.value instanceof g?Promise.resolve(e.value.v).then(s,a):c(p[0][2],e)}function s(e){o("next",e)}function a(e){o("throw",e)}function c(e,t){e(t),p.shift(),p.length&&o(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,l=r.apply(e,t||[]),p=[];return u={},n("next"),n("throw"),n("return"),u[Symbol.asyncIterator]=function(){return this},u}function v(e){function t(t,o){e[t]&&(r[t]=function(r){return(n=!n)?{value:g(e[t](r)),done:"return"===t}:o?o(r):r})}var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof p?p(e):e[Symbol.iterator]()}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var _="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},L=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},S=Object.freeze({__extends:n,__assign:L,__rest:o,__decorate:i,__param:s,__metadata:a,__awaiter:c,__generator:u,__exportStar:l,__values:p,__read:h,__spread:f,__await:g,__asyncGenerator:d,__asyncDelegator:v,__asyncValues:y,__makeTemplateObject:b,__importStar:m,__importDefault:w}),C=(r(function(t,r){!function(r,n){t.exports=function(){function t(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function n(e){W=e}function o(e){B=e}function i(){return void 0!==U?function(){U(a)}:s()}function s(){var e=setTimeout;return function(){return e(a,1)}}function a(){for(var e=0;e<q;e+=2){(0,K[e])(K[e+1]),K[e]=void 0,K[e+1]=void 0}q=0}function c(e,t){var r=this,n=new this.constructor(l);void 0===n[Q]&&I(n);var o=r._state;if(o){var i=arguments[o-1];B(function(){return k(o,n,i,r._result)})}else L(r,n,e,t);return n}function u(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(l);return b(r,e),r}function l(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function f(e){try{return e.then}catch(e){return te.error=e,te}}function g(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function d(e,t,r){B(function(e){var n=!1,o=g(r,t,function(r){n||(n=!0,t!==r?b(e,r):w(e,r))},function(t){n||(n=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,T(e,o))},e)}function v(e,t){t._state===$?w(e,t._result):t._state===ee?T(e,t._result):L(t,void 0,function(t){return b(e,t)},function(t){return T(e,t)})}function y(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===u?v(e,t):n===te?(T(e,te.error),te.error=null):void 0===n?w(e,t):r(n)?d(e,t,n):w(e,t)}function b(e,r){e===r?T(e,p()):t(r)?y(e,r,f(r)):w(e,r)}function m(e){e._onerror&&e._onerror(e._result),S(e)}function w(e,t){e._state===Z&&(e._result=t,e._state=$,0!==e._subscribers.length&&B(S,e))}function T(e,t){e._state===Z&&(e._state=ee,e._result=t,B(m,e))}function L(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+$]=r,o[i+ee]=n,0===i&&e._state&&B(S,e)}function S(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+r],n?k(r,n,o,i):o(i);e._subscribers.length=0}}function C(){this.error=null}function E(e,t){try{return e(t)}catch(e){return re.error=e,re}}function k(e,t,n,o){var i=r(n),s=void 0,a=void 0,c=void 0,u=void 0;if(i){if(s=E(n,o),s===re?(u=!0,a=s.error,s.error=null):c=!0,t===s)return void T(t,h())}else s=o,c=!0;t._state!==Z||(i&&c?b(t,s):u?T(t,a):e===$?w(t,s):e===ee&&T(t,s))}function P(e,t){try{t(function(t){b(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}function M(){return ne++}function I(e){e[Q]=ne++,e._state=void 0,e._result=void 0,e._subscribers=[]}function H(){return new Error("Array Methods must be provided an Array")}function H(){return new Error("Array Methods must be provided an Array")}function O(e){return new oe(this,e).promise}function A(e){var t=this;return new t(N(e)?function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function j(e){var t=this,r=new t(l);return T(r,e),r}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(){var e=void 0;if(void 0!==_)e=_;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=ie}var D=void 0;D=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var N=D,q=0,U=void 0,W=void 0,B=function(e,t){K[q]=e,K[q+1]=t,2===(q+=2)&&(W?W(a):Y())},J="undefined"!=typeof window?window:void 0,z=J||{},X=z.MutationObserver||z.WebKitMutationObserver,V="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3),Y=void 0;Y=V?function(){return function(){return process.nextTick(a)}}():X?function(){var e=0,t=new X(a),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():G?function(){var e=new MessageChannel;return e.port1.onmessage=a,function(){return e.port2.postMessage(0)}}():void 0===J&&"function"==typeof e?function(){try{var t=e,r=t("vertx");return U=r.runOnLoop||r.runOnContext,i()}catch(e){return s()}}():s();var Q=Math.random().toString(36).substring(16),Z=void 0,$=1,ee=2,te=new C,re=new C,ne=0,oe=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[Q]||I(this.promise),N(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):T(this.promise,H())}return e.prototype._enumerate=function(e){for(var t=0;this._state===Z&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===u){var o=f(e);if(o===c&&e._state!==Z)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===ie){var i=new r(l);y(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===Z&&(this._remaining--,e===ee?T(n,r):this._result[t]=r),0===this._remaining&&w(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;L(e,void 0,function(e){return r._settledAt($,t,e)},function(e){return r._settledAt(ee,t,e)})},e}(),ie=function(){function e(t){this[Q]=M(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&x(),this instanceof e?P(this,t):F())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,r=t.constructor;return t.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},e}();return ie.prototype.then=c,ie.all=O,ie.race=A,ie.resolve=u,ie.reject=j,ie._setScheduler=n,ie._setAsap=o,ie._asap=B,ie.polyfill=R,ie.Promise=ie,ie.polyfill(),ie}()}()}),r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,r){var n=this.constructor,o=this,i=n.prototype;return o=e.call(this,t)||this,o.statusCode=r,o.__proto__=i,o}return S.__extends(t,e),t}(Error);t.HttpError=r;var n=function(e){function t(t){var r=this.constructor;void 0===t&&(t="A timeout occurred.");var n=this,o=r.prototype;return n=e.call(this,t)||this,n.__proto__=o,n}return S.__extends(t,e),t}(Error);t.TimeoutError=n}));t(C);var E=(C.HttpError,C.TimeoutError,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(t.LogLevel||(t.LogLevel={}))}));t(E);var k=(E.LogLevel,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r){this.statusCode=e,this.statusText=t,this.content=r}return e}();t.HttpResponse=r;var n=function(){function e(){}return e.prototype.get=function(e,t){return this.send(S.__assign({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(S.__assign({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(S.__assign({},t,{method:"DELETE",url:e}))},e}();t.HttpClient=n;var o=function(e){function t(t){var r=e.call(this)||this;return r.logger=t,r}return S.__extends(t,e),t.prototype.send=function(e){var t=this;return new Promise(function(n,o){var i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=!0,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),e.headers&&Object.keys(e.headers).forEach(function(t){return i.setRequestHeader(t,e.headers[t])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){i.abort()}),e.timeout&&(i.timeout=e.timeout),i.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new r(i.status,i.statusText,i.response||i.responseText)):o(new C.HttpError(i.statusText,i.status))},i.onerror=function(){t.logger.log(E.LogLevel.Warning,"Error from HTTP request. "+i.status+": "+i.statusText),o(new C.HttpError(i.statusText,i.status))},i.ontimeout=function(){t.logger.log(E.LogLevel.Warning,"Timeout from HTTP request."),o(new C.TimeoutError)},i.send(e.content||"")})},t}(n);t.DefaultHttpClient=o}));t(k);var P=(k.HttpResponse,k.HttpClient,k.DefaultHttpClient,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var r=t.split(e.RecordSeparator);return r.pop(),r},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}();t.TextMessageFormat=r}));t(P);var M=(P.TextMessageFormat,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return P.TextMessageFormat.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var t,r,n;if(e instanceof ArrayBuffer){var o=new Uint8Array(e),i=o.indexOf(P.TextMessageFormat.RecordSeparatorCode);if(-1===i)throw new Error("Message is incomplete.");var s=i+1;r=String.fromCharCode.apply(null,o.slice(0,s)),n=o.byteLength>s?o.slice(s).buffer:null}else{var a=e,i=a.indexOf(P.TextMessageFormat.RecordSeparator);if(-1===i)throw new Error("Message is incomplete.");var s=i+1;r=a.substring(0,s),n=a.length>s?a.substring(s):null}var c=P.TextMessageFormat.parse(r);return t=JSON.parse(c[0]),[n,t]},e}();t.HandshakeProtocol=r}));t(M);var I=(M.HandshakeProtocol,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"}(t.MessageType||(t.MessageType={}))}));t(I);var H=(I.MessageType,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.log=function(e,t){},e.instance=new e,e}();t.NullLogger=r}));t(H);var O=(H.NullLogger,r(function(e,t){function r(e,t){var r=null;return e instanceof ArrayBuffer?(r="Binary data of length "+e.byteLength,t&&(r+=". Content: '"+n(e)+"'")):"string"==typeof e&&(r="String data of length "+e.length,t&&(r+=". Content: '"+e+"'.")),r}function n(e){var t=new Uint8Array(e),r="";return t.forEach(function(e){r+="0x"+(e<16?"0":"")+e.toString(16)+" "}),r.substr(0,r.length-1)}function o(e,t,n,o,i,s,a){return S.__awaiter(this,void 0,void 0,function(){var c,u,l,p;return S.__generator(this,function(h){switch(h.label){case 0:return[4,i()];case 1:return u=h.sent(),u&&(p={},p.Authorization="Bearer "+u,c=p),e.log(E.LogLevel.Trace,"("+t+" transport) sending data. "+r(s,a)+"."),[4,n.post(o,{content:s,headers:c})];case 2:return l=h.sent(),e.log(E.LogLevel.Trace,"("+t+" transport) request complete. Response status: "+l.statusCode+"."),[2]}})})}function i(e){return void 0===e?new u(E.LogLevel.Information):null===e?H.NullLogger.instance:e.log?e:new u(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.isRequired=function(e,t){if(null===e||void 0===e)throw new Error("The '"+t+"' argument is required.")},e.isIn=function(e,t,r){if(!(e in t))throw new Error("Unknown "+r+" value: "+e+".")},e}();t.Arg=s,t.getDataDetail=r,t.formatArrayBuffer=n,t.sendMessage=o,t.createLogger=i;var a=function(){function e(e){this.observers=[],this.cancelCallback=e}return e.prototype.next=function(e){for(var t=0,r=this.observers;t<r.length;t++){r[t].next(e)}},e.prototype.error=function(e){for(var t=0,r=this.observers;t<r.length;t++){var n=r[t];n.error&&n.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var r=t[e];r.complete&&r.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new c(this,e)},e}();t.Subject=a;var c=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback().catch(function(e){})},e}();t.SubjectSubscription=c;var u=function(){function e(e){this.minimumLogLevel=e}return e.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case E.LogLevel.Critical:case E.LogLevel.Error:console.error(E.LogLevel[e]+": "+t);break;case E.LogLevel.Warning:console.warn(E.LogLevel[e]+": "+t);break;case E.LogLevel.Information:console.info(E.LogLevel[e]+": "+t);break;default:console.log(E.LogLevel[e]+": "+t)}},e}();t.ConsoleLogger=u}));t(O);var A=(O.Arg,O.getDataDetail,O.formatArrayBuffer,O.sendMessage,O.createLogger,O.Subject,O.SubjectSubscription,O.ConsoleLogger,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=3e4,n=function(){function e(e,t,n){var o=this;O.Arg.isRequired(e,"connection"),O.Arg.isRequired(t,"logger"),O.Arg.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=r,this.logger=t,this.protocol=n,this.connection=e,this.handshakeProtocol=new M.HandshakeProtocol,this.connection.onreceive=function(e){return o.processIncomingData(e)},this.connection.onclose=function(e){return o.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.id=0}return e.create=function(t,r,n){return new e(t,r,n)},e.prototype.start=function(){return S.__awaiter(this,void 0,void 0,function(){var e;return S.__generator(this,function(t){switch(t.label){case 0:return e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(E.LogLevel.Debug,"Starting HubConnection."),this.receivedHandshakeResponse=!1,[4,this.connection.start(this.protocol.transferFormat)];case 1:return t.sent(),this.logger.log(E.LogLevel.Debug,"Sending handshake request."),[4,this.connection.send(this.handshakeProtocol.writeHandshakeRequest(e))];case 2:return t.sent(),this.logger.log(E.LogLevel.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.configureTimeout(),[2]}})})},e.prototype.stop=function(){return this.logger.log(E.LogLevel.Debug,"Stopping HubConnection."),this.cleanupTimeout(),this.connection.stop()},e.prototype.stream=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this.createStreamInvocation(e,r),i=new O.Subject(function(){var e=t.createCancelInvocation(o.invocationId),r=t.protocol.writeMessage(e);return delete t.callbacks[o.invocationId],t.connection.send(r)});this.callbacks[o.invocationId]=function(e,t){if(t)return void i.error(t);e.type===I.MessageType.Completion?e.error?i.error(new Error(e.error)):i.complete():i.next(e.item)};var s=this.protocol.writeMessage(o);return this.connection.send(s).catch(function(e){i.error(e),delete t.callbacks[o.invocationId]}),i},e.prototype.send=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.createInvocation(e,t,!0),o=this.protocol.writeMessage(n);return this.connection.send(o)},e.prototype.invoke=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this.createInvocation(e,r,!1);return new Promise(function(e,r){t.callbacks[o.invocationId]=function(t,n){if(n)return void r(n);if(t.type===I.MessageType.Completion){var o=t;o.error?r(new Error(o.error)):e(o.result)}else r(new Error("Unexpected message type: "+t.type))};var n=t.protocol.writeMessage(o);t.connection.send(n).catch(function(e){r(e),delete t.callbacks[o.invocationId]})})},e.prototype.on=function(e,t){e&&t&&(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var r=this.methods[e];if(r)if(t){var n=r.indexOf(t);-1!==n&&(r.splice(n,1),0===r.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=this.protocol.parseMessages(e,this.logger),r=0,n=t;r<n.length;r++){var o=n[r];switch(o.type){case I.MessageType.Invocation:this.invokeClientMethod(o);break;case I.MessageType.StreamItem:case I.MessageType.Completion:var i=this.callbacks[o.invocationId];null!=i&&(o.type===I.MessageType.Completion&&delete this.callbacks[o.invocationId],i(o));break;case I.MessageType.Ping:break;case I.MessageType.Close:this.logger.log(E.LogLevel.Information,"Close message received from server."),this.connection.stop(o.error?new Error("Server returned an error on close: "+o.error):null);break;default:this.logger.log(E.LogLevel.Warning,"Invalid message type: "+o.type)}}this.configureTimeout()},e.prototype.processHandshakeResponse=function(e){var t,r;try{i=this.handshakeProtocol.parseHandshakeResponse(e),r=i[0],t=i[1]}catch(e){var n="Error parsing handshake response: "+e;this.logger.log(E.LogLevel.Error,n);var o=new Error(n);throw this.connection.stop(o),o}if(t.error){var n="Server returned handshake error: "+t.error;this.logger.log(E.LogLevel.Error,n),this.connection.stop(new Error(n))}else this.logger.log(E.LogLevel.Debug,"Server handshake complete.");return r;var i},e.prototype.configureTimeout=function(){var e=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return e.serverTimeout()},this.serverTimeoutInMilliseconds))},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,r=this.methods[e.target.toLowerCase()];if(r){if(r.forEach(function(r){return r.apply(t,e.arguments)}),e.invocationId){var n="Server requested a response, which is not supported in this version of the client.";this.logger.log(E.LogLevel.Error,n),this.connection.stop(new Error(n))}}else this.logger.log(E.LogLevel.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){var t=this,r=this.callbacks;this.callbacks={},Object.keys(r).forEach(function(t){(0,r[t])(void 0,e||new Error("Invocation canceled due to connection being closed."))}),this.cleanupTimeout(),this.closedCallbacks.forEach(function(r){return r.apply(t,[e])})},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,r){if(r)return{arguments:t,target:e,type:I.MessageType.Invocation};var n=this.id;return this.id++,{arguments:t,invocationId:n.toString(),target:e,type:I.MessageType.Invocation}},e.prototype.createStreamInvocation=function(e,t){var r=this.id;return this.id++,{arguments:t,invocationId:r.toString(),target:e,type:I.MessageType.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:I.MessageType.CancelInvocation}},e}();t.HubConnection=n}));t(A);var j=(A.HubConnection,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(t.HttpTransportType||(t.HttpTransportType={}));!function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(t.TransferFormat||(t.TransferFormat={}))}));t(j);var x=(j.HttpTransportType,j.TransferFormat,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isAborted=!1}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}();t.AbortController=r}));t(x);var F=(x.AbortController,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=5e3,n=function(){function e(e,t,n,o,i){this.httpClient=e,this.accessTokenFactory=t||function(){return null},this.logger=n,this.pollAbort=new x.AbortController,this.logMessageContent=o,this.shutdownTimeout=i||r}return Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return S.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s;return S.__generator(this,function(a){switch(a.label){case 0:if(O.Arg.isRequired(e,"url"),O.Arg.isRequired(t,"transferFormat"),O.Arg.isIn(t,j.TransferFormat,"transferFormat"),this.url=e,this.logger.log(E.LogLevel.Trace,"(LongPolling transport) Connecting"),t===j.TransferFormat.Binary&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return r={abortSignal:this.pollAbort.signal,headers:{},timeout:9e4},t===j.TransferFormat.Binary&&(r.responseType="arraybuffer"),[4,this.accessTokenFactory()];case 1:return n=a.sent(),this.updateHeaderToken(r,n),i=e+"&_="+Date.now(),this.logger.log(E.LogLevel.Trace,"(LongPolling transport) polling: "+i),[4,this.httpClient.get(i,r)];case 2:return s=a.sent(),200!==s.statusCode?(this.logger.log(E.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode),o=new C.HttpError(s.statusText,s.statusCode),this.running=!1):this.running=!0,this.poll(this.url,r,o),[2,Promise.resolve()]}})})},e.prototype.updateHeaderToken=function(e,t){if(t)return void(e.headers.Authorization="Bearer "+t);e.headers.Authorization&&delete e.headers.Authorization},e.prototype.poll=function(e,t,r){return S.__awaiter(this,void 0,void 0,function(){var n,o,i,s;return S.__generator(this,function(a){switch(a.label){case 0:a.trys.push([0,,8,9]),a.label=1;case 1:return this.running?[4,this.accessTokenFactory()]:[3,7];case 2:n=a.sent(),this.updateHeaderToken(t,n),a.label=3;case 3:return a.trys.push([3,5,,6]),o=e+"&_="+Date.now(),this.logger.log(E.LogLevel.Trace,"(LongPolling transport) polling: "+o),[4,this.httpClient.get(o,t)];case 4:return i=a.sent(),204===i.statusCode?(this.logger.log(E.LogLevel.Information,"(LongPolling transport) Poll terminated by server"),this.running=!1):200!==i.statusCode?(this.logger.log(E.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+i.statusCode),r=new C.HttpError(i.statusText,i.statusCode),this.running=!1):i.content?(this.logger.log(E.LogLevel.Trace,"(LongPolling transport) data received. "+O.getDataDetail(i.content,this.logMessageContent)),this.onreceive&&this.onreceive(i.content)):this.logger.log(E.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return s=a.sent(),this.running?s instanceof C.TimeoutError?this.logger.log(E.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."):(r=s,this.running=!1):this.logger.log(E.LogLevel.Trace,"(LongPolling transport) Poll errored after shutdown: "+s.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.stopped=!0,this.shutdownTimer&&clearTimeout(this.shutdownTimer),this.onclose&&(this.logger.log(E.LogLevel.Trace,"(LongPolling transport) Firing onclose event. Error: "+(r||"<undefined>")),this.onclose(r)),this.logger.log(E.LogLevel.Trace,"(LongPolling transport) Transport finished."),[7];case 9:return[2]}})})},e.prototype.send=function(e){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(t){return this.running?[2,O.sendMessage(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},e.prototype.stop=function(){return S.__awaiter(this,void 0,void 0,function(){var e,t,r,n=this;return S.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,,3,4]),this.running=!1,this.logger.log(E.LogLevel.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={headers:{}},[4,this.accessTokenFactory()];case 1:return t=o.sent(),this.updateHeaderToken(e,t),[4,this.httpClient.delete(this.url,e)];case 2:return r=o.sent(),this.logger.log(E.LogLevel.Trace,"(LongPolling transport) DELETE request accepted."),[3,4];case 3:return this.stopped||(this.shutdownTimer=setTimeout(function(){n.logger.log(E.LogLevel.Warning,"(LongPolling transport) server did not terminate after DELETE request, canceling poll."),n.pollAbort.abort()},this.shutdownTimeout)),[7];case 4:return[2]}})})},e}();t.LongPollingTransport=n}));t(F);var R=(F.LongPollingTransport,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n){this.httpClient=e,this.accessTokenFactory=t||function(){return null},this.logger=r,this.logMessageContent=n}return e.prototype.connect=function(e,t){return S.__awaiter(this,void 0,void 0,function(){var r,n=this;return S.__generator(this,function(o){switch(o.label){case 0:if(O.Arg.isRequired(e,"url"),O.Arg.isRequired(t,"transferFormat"),O.Arg.isIn(t,j.TransferFormat,"transferFormat"),"undefined"==typeof EventSource)throw new Error("'EventSource' is not supported in your environment.");return this.logger.log(E.LogLevel.Trace,"(SSE transport) Connecting"),[4,this.accessTokenFactory()];case 1:return r=o.sent(),r&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(r)),this.url=e,[2,new Promise(function(r,o){var i=!1;t!==j.TransferFormat.Text&&o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));var s=new EventSource(e,{withCredentials:!0});try{s.onmessage=function(e){if(n.onreceive)try{n.logger.log(E.LogLevel.Trace,"(SSE transport) data received. "+O.getDataDetail(e.data,n.logMessageContent)+"."),n.onreceive(e.data)}catch(e){return void(n.onclose&&n.onclose(e))}},s.onerror=function(e){var t=new Error(e.message||"Error occurred");i?n.close(t):o(t)},s.onopen=function(){n.logger.log(E.LogLevel.Information,"SSE connected to "+n.url),n.eventSource=s,i=!0,r()}}catch(e){return Promise.reject(e)}})]}})})},e.prototype.send=function(e){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(t){return this.eventSource?[2,O.sendMessage(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},e.prototype.stop=function(){return this.close(),Promise.resolve()},e.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=null,this.onclose&&this.onclose(e))},e}();t.ServerSentEventsTransport=r}));t(R);var D=(R.ServerSentEventsTransport,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r){this.logger=t,this.accessTokenFactory=e||function(){return null},this.logMessageContent=r}return e.prototype.connect=function(e,t){return S.__awaiter(this,void 0,void 0,function(){var r,n=this;return S.__generator(this,function(o){switch(o.label){case 0:if(O.Arg.isRequired(e,"url"),O.Arg.isRequired(t,"transferFormat"),O.Arg.isIn(t,j.TransferFormat,"transferFormat"),"undefined"==typeof WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return this.logger.log(E.LogLevel.Trace,"(WebSockets transport) Connecting"),[4,this.accessTokenFactory()];case 1:return r=o.sent(),r&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(r)),[2,new Promise(function(r,o){e=e.replace(/^http/,"ws");var i=new WebSocket(e);t===j.TransferFormat.Binary&&(i.binaryType="arraybuffer"),i.onopen=function(t){n.logger.log(E.LogLevel.Information,"WebSocket connected to "+e),n.webSocket=i,r()},i.onerror=function(e){o(e.error)},i.onmessage=function(e){n.logger.log(E.LogLevel.Trace,"(WebSockets transport) data received. "+O.getDataDetail(e.data,n.logMessageContent)+"."),n.onreceive&&n.onreceive(e.data)},i.onclose=function(e){n.logger.log(E.LogLevel.Trace,"(WebSockets transport) socket closed."),n.onclose&&(!1===e.wasClean||1e3!==e.code?n.onclose(new Error("Websocket closed with status code: "+e.code+" ("+e.reason+")")):n.onclose())}})]}})})},e.prototype.send=function(e){return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.logger.log(E.LogLevel.Trace,"(WebSockets transport) sending data. "+O.getDataDetail(e,this.logMessageContent)+"."),this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},e.prototype.stop=function(){return this.webSocket&&(this.webSocket.close(),this.webSocket=null),Promise.resolve()},e}();t.WebSocketTransport=r}));t(D);var N=(D.WebSocketTransport,r(function(e,t){function r(e,t){return!e||0!=(t&e)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===t&&(t={}),this.features={},O.Arg.isRequired(e,"url"),this.logger=O.createLogger(t.logger),this.baseUrl=this.resolveUrl(e),t=t||{},t.accessTokenFactory=t.accessTokenFactory||function(){return null},t.logMessageContent=t.logMessageContent||!1,this.httpClient=t.httpClient||new k.DefaultHttpClient(this.logger),this.connectionState=2,this.options=t}return e.prototype.start=function(e){return e=e||j.TransferFormat.Binary,O.Arg.isIn(e,j.TransferFormat,"transferFormat"),this.logger.log(E.LogLevel.Debug,"Starting connection with transfer format '"+j.TransferFormat[e]+"'."),2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(e),this.startPromise)},e.prototype.send=function(e){if(1!==this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State.");return this.transport.send(e)},e.prototype.stop=function(e){return S.__awaiter(this,void 0,void 0,function(){var t;return S.__generator(this,function(r){switch(r.label){case 0:this.connectionState=2,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startPromise];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),[3,4];case 4:return this.transport?(this.stopError=e,[4,this.transport.stop()]):[3,6];case 5:r.sent(),this.transport=null,r.label=6;case 6:return[2]}})})},e.prototype.startInternal=function(e){return S.__awaiter(this,void 0,void 0,function(){var t,r,n,o,i,s,a,c=this;return S.__generator(this,function(u){switch(u.label){case 0:t=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,u.label=1;case 1:return u.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==j.HttpTransportType.WebSockets?[3,3]:(this.transport=this.constructTransport(j.HttpTransportType.WebSockets),[4,this.transport.connect(t,e)]):[3,5];case 2:return u.sent(),[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:r=null,n=0,o=function(){var e;return S.__generator(this,function(o){switch(o.label){case 0:return[4,i.getNegotiationResponse(t)];case 1:return r=o.sent(),2===i.connectionState?[2,{value:void 0}]:(r.url&&(t=r.url),r.accessToken&&(e=r.accessToken,i.accessTokenFactory=function(){return e}),n++,[2])}})},i=this,u.label=6;case 6:return[5,o()];case 7:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=8;case 8:if(r.url&&n<100)return[3,6];u.label=9;case 9:if(100===n&&r.url)throw Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(t,this.options.transport,r,e)];case 10:u.sent(),u.label=11;case 11:return this.transport instanceof F.LongPollingTransport&&(this.features.inherentKeepAlive=!0),this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return c.stopConnection(e)},this.changeState(0,1),[3,13];case 12:throw a=u.sent(),this.logger.log(E.LogLevel.Error,"Failed to start the connection: "+a),this.connectionState=2,this.transport=null,a;case 13:return[2]}})})},e.prototype.getNegotiationResponse=function(e){return S.__awaiter(this,void 0,void 0,function(){var t,r,n,o,i,s;return S.__generator(this,function(a){switch(a.label){case 0:return[4,this.accessTokenFactory()];case 1:t=a.sent(),t&&(s={},s.Authorization="Bearer "+t,r=s),n=this.resolveNegotiateUrl(e),this.logger.log(E.LogLevel.Debug,"Sending negotiation request: "+n),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.httpClient.post(n,{content:"",headers:r})];case 3:if(o=a.sent(),200!==o.statusCode)throw Error("Unexpected status code returned from negotiate "+o.statusCode);return[2,JSON.parse(o.content)];case 4:throw i=a.sent(),this.logger.log(E.LogLevel.Error,"Failed to complete negotiation with the server: "+i),i;case 5:return[2]}})})},e.prototype.createConnectUrl=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+"id="+t},e.prototype.createTransport=function(e,t,r,n){return S.__awaiter(this,void 0,void 0,function(){var o,i,s,a,c,u,l;return S.__generator(this,function(p){switch(p.label){case 0:return o=this.createConnectUrl(e,r.connectionId),this.isITransport(t)?(this.logger.log(E.LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,[4,this.transport.connect(o,n)]):[3,2];case 1:return p.sent(),this.changeState(0,1),[2];case 2:i=r.availableTransports,s=0,a=i,p.label=3;case 3:return s<a.length?(c=a[s],this.connectionState=0,"number"!=typeof(u=this.resolveTransport(c,t,n))?[3,8]:(this.transport=this.constructTransport(u),null!==r.connectionId?[3,5]:[4,this.getNegotiationResponse(e)])):[3,9];case 4:r=p.sent(),o=this.createConnectUrl(e,r.connectionId),p.label=5;case 5:return p.trys.push([5,7,,8]),[4,this.transport.connect(o,n)];case 6:return p.sent(),this.changeState(0,1),[2];case 7:return l=p.sent(),this.logger.log(E.LogLevel.Error,"Failed to start the transport '"+j.HttpTransportType[u]+"': "+l),this.connectionState=2,r.connectionId=null,[3,8];case 8:return s++,[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}})})},e.prototype.constructTransport=function(e){switch(e){case j.HttpTransportType.WebSockets:return new D.WebSocketTransport(this.accessTokenFactory,this.logger,this.options.logMessageContent);case j.HttpTransportType.ServerSentEvents:return new R.ServerSentEventsTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent);case j.HttpTransportType.LongPolling:return new F.LongPollingTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent);default:throw new Error("Unknown transport: "+e+".")}},e.prototype.resolveTransport=function(e,t,n){var o=j.HttpTransportType[e.transport];if(null===o||void 0===o)this.logger.log(E.LogLevel.Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client.");else{var i=e.transferFormats.map(function(e){return j.TransferFormat[e]});if(r(t,o))if(i.indexOf(n)>=0){if(!(o===j.HttpTransportType.WebSockets&&"undefined"==typeof WebSocket||o===j.HttpTransportType.ServerSentEvents&&"undefined"==typeof EventSource))return this.logger.log(E.LogLevel.Debug,"Selecting transport '"+j.HttpTransportType[o]+"'"),o;this.logger.log(E.LogLevel.Debug,"Skipping transport '"+j.HttpTransportType[o]+"' because it is not supported in your environment.'")}else this.logger.log(E.LogLevel.Debug,"Skipping transport '"+j.HttpTransportType[o]+"' because it does not support the requested transfer format '"+j.TransferFormat[n]+"'.");else this.logger.log(E.LogLevel.Debug,"Skipping transport '"+j.HttpTransportType[o]+"' because it was disabled by the client.")}return null},e.prototype.isITransport=function(e){return e&&"object"==typeof e&&"connect"in e},e.prototype.changeState=function(e,t){return this.connectionState===e&&(this.connectionState=t,!0)},e.prototype.stopConnection=function(e){return S.__awaiter(this,void 0,void 0,function(){return S.__generator(this,function(t){return this.transport=null,e=this.stopError||e,e?this.logger.log(E.LogLevel.Error,"Connection disconnected with error '"+e+"'."):this.logger.log(E.LogLevel.Information,"Connection disconnected."),this.connectionState=2,this.onclose&&this.onclose(e),[2]})})},e.prototype.resolveUrl=function(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if("undefined"==typeof window||!window||!window.document)throw new Error("Cannot resolve '"+e+"'.");var t=window.document.createElement("a");return t.href=e,this.logger.log(E.LogLevel.Information,"Normalizing '"+e+"' to '"+t.href+"'."),t.href},e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?"),r=e.substring(0,-1===t?e.length:t);return"/"!==r[r.length-1]&&(r+="/"),r+="negotiate",r+=-1===t?"":e.substring(t)},e}();t.HttpConnection=n}));t(N);var q=(N.HttpConnection,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="json",n=function(){function e(){this.name=r,this.version=1,this.transferFormat=j.TransferFormat.Text}return e.prototype.parseMessages=function(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=H.NullLogger.instance);for(var r=P.TextMessageFormat.parse(e),n=[],o=0,i=r;o<i.length;o++){var s=i[o],a=JSON.parse(s);if("number"!=typeof a.type)throw new Error("Invalid payload.");switch(a.type){case I.MessageType.Invocation:this.isInvocationMessage(a);break;case I.MessageType.StreamItem:this.isStreamItemMessage(a);break;case I.MessageType.Completion:this.isCompletionMessage(a);break;case I.MessageType.Ping:case I.MessageType.Close:break;default:t.log(E.LogLevel.Information,"Unknown message type '"+a.type+"' ignored.");continue}n.push(a)}return n},e.prototype.writeMessage=function(e){return P.TextMessageFormat.write(JSON.stringify(e))},e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")},e.prototype.isStreamItemMessage=function(e){if(this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")},e.prototype.isCompletionMessage=function(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this.assertNotEmptyString(e.error,"Invalid payload for Completion message."),this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")},e.prototype.assertNotEmptyString=function(e,t){if("string"!=typeof e||""===e)throw new Error(t)},e}();t.JsonHubProtocol=n}));t(q);var U=(q.JsonHubProtocol,r(function(e,t){function r(e){return void 0!==e.log}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.configureLogging=function(e){return O.Arg.isRequired(e,"logging"),r(e)?this.logger=e:this.logger=new O.ConsoleLogger(e),this},e.prototype.withUrl=function(e,t){return O.Arg.isRequired(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?t:{transport:t},this},e.prototype.withHubProtocol=function(e){return O.Arg.isRequired(e,"protocol"),this.protocol=e,this},e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var t=new N.HttpConnection(this.url,e);return A.HubConnection.create(t,this.logger||H.NullLogger.instance,this.protocol||new q.JsonHubProtocol)},e}();t.HubConnectionBuilder=n}));t(U);var W=(U.HubConnectionBuilder,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.0.0-DEV_BUILD",t.HttpError=C.HttpError,t.TimeoutError=C.TimeoutError,t.DefaultHttpClient=k.DefaultHttpClient,t.HttpClient=k.HttpClient,t.HttpResponse=k.HttpResponse,t.HubConnection=A.HubConnection,t.HubConnectionBuilder=U.HubConnectionBuilder,t.MessageType=I.MessageType,t.LogLevel=E.LogLevel,t.HttpTransportType=j.HttpTransportType,t.TransferFormat=j.TransferFormat,t.NullLogger=H.NullLogger,t.JsonHubProtocol=q.JsonHubProtocol}));t(W);W.VERSION,W.HttpError,W.TimeoutError,W.DefaultHttpClient,W.HttpClient,W.HttpResponse,W.HubConnection,W.HubConnectionBuilder,W.MessageType,W.LogLevel,W.HttpTransportType,W.TransferFormat,W.NullLogger,W.JsonHubProtocol;return t(r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Uint8Array.prototype.indexOf||Object.defineProperty(Uint8Array.prototype,"indexOf",{value:Array.prototype.indexOf,writable:!0}),Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice,writable:!0}),Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach,writable:!0}),S.__exportStar(W,t)}))});
define("lib/dom.js",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isCEPolyfill=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,e.reparentNodes=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t;i!==n;){var o=i.nextSibling;e.insertBefore(i,r),i=o}},e.removeNodes=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t;r!==n;){var i=r.nextSibling;e.removeChild(r),r=i}}}),define("lib/template.js",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=e.marker="{{lit-"+String(Math.random()).slice(2)+"}}",r=e.nodeMarker="\x3c!--"+n+"--\x3e",i=e.markerRegex=new RegExp(n+"|"+r),o=e.rewritesStyleAttribute=function(){var e=document.createElement("div");return e.setAttribute("style","{{bad value}}"),"{{bad value}}"!==e.getAttribute("style")}(),a=(e.Template=function e(r,l){var u=this;t(this,e),this.parts=[],this.element=l;var c=-1,f=0,p=[];!function e(t){for(var l=t.content,d=document.createTreeWalker(l,133,null,!1),h=void 0,v=void 0;d.nextNode();){c++,h=v;var m=v=d.currentNode;if(1===m.nodeType){if(m.hasAttributes()){for(var y=m.attributes,b=0,g=0;g<y.length;g++)y[g].value.indexOf(n)>=0&&b++;for(;b-- >0;){var _=r.strings[f],j=s.exec(_)[2],x=o&&"style"===j?"style$":/^[a-zA-Z-]*$/.test(j)?j:j.toLowerCase(),P=m.getAttribute(x),O=P.split(i);u.parts.push({type:"attribute",index:c,name:j,strings:O}),m.removeAttribute(x),f+=O.length-1}}"TEMPLATE"===m.tagName&&e(m)}else if(3===m.nodeType){var k=m.nodeValue;if(k.indexOf(n)<0)continue;var T=m.parentNode,N=k.split(i),w=N.length-1;f+=w;for(var E=0;E<w;E++)T.insertBefore(""===N[E]?a():document.createTextNode(N[E]),m),u.parts.push({type:"node",index:c++});T.insertBefore(""===N[w]?a():document.createTextNode(N[w]),m),p.push(m)}else if(8===m.nodeType)if(m.nodeValue===n){var A=m.parentNode,V=m.previousSibling;null===V||V!==h||V.nodeType!==Node.TEXT_NODE?A.insertBefore(a(),m):c--,u.parts.push({type:"node",index:c++}),p.push(m),null===m.nextSibling?A.insertBefore(a(),m):c--,v=h,f++}else for(var M=-1;-1!==(M=m.nodeValue.indexOf(n,M+1));)u.parts.push({type:"node",index:-1})}}(l);var d=!0,h=!1,v=void 0;try{for(var m,y=p[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var b=m.value;b.parentNode.removeChild(b)}}catch(e){h=!0,v=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw v}}},e.isTemplatePartActive=function(e){return-1!==e.index},e.createMarker=function(){return document.createComment("")}),s=e.lastAttributeNameRegex=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/}),define("lib/template-result.js",["exports","./dom.js","./template.js"],function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.SVGTemplateResult=e.TemplateResult=void 0;var a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e.TemplateResult=function(){function e(t,n,r,i){o(this,e),this.strings=t,this.values=n,this.type=r,this.processor=i}return s(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",r=!0,i=0;i<e;i++){var o=this.strings[i];t+=o;var a=o.lastIndexOf(">");r=(a>-1||r)&&-1===o.indexOf("<",a+1),!r&&n.rewritesStyleAttribute&&(t=t.replace(n.lastAttributeNameRegex,function(e,t,n,r){return"style"===n?t+"style$"+r:e})),t+=r?n.nodeMarker:n.marker}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}]),e}();e.SVGTemplateResult=function(e){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,e),s(n,[{key:"getHTML",value:function(){return"<svg>"+a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getHTML",this).call(this)+"</svg>"}},{key:"getTemplateElement",value:function(){var e=a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getTemplateElement",this).call(this),r=e.content,i=r.firstChild;return r.removeChild(i),(0,t.reparentNodes)(r,i.firstChild),e}}]),n}(l)}),define("lib/directive.js",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=new WeakMap;e.directive=function(e){return t.set(e,!0),e},e.isDirective=function(e){return"function"==typeof e&&t.has(e)}}),define("lib/part.js",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.noChange={}}),define("lib/template-instance.js",["exports","./dom.js","./template.js"],function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateInstance=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.TemplateInstance=function(){function e(t,n,r){i(this,e),this._parts=[],this.template=t,this.processor=n,this._getTemplate=r}return o(e,[{key:"update",value:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this._parts[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0!==s&&s.setValue(e[t]),t++}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var l=!0,u=!1,c=void 0;try{for(var f,p=this._parts[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;void 0!==d&&d.commit()}}catch(e){u=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}}},{key:"_clone",value:function(){var e=this,i=t.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),o=this.template.parts,a=0,s=0;return function t(i){for(var l=document.createTreeWalker(i,133,null,!1),u=l.nextNode();a<o.length&&null!==u;){var c=o[a];if((0,n.isTemplatePartActive)(c))if(s===c.index){if("node"===c.type){var f=e.processor.handleTextExpression(e._getTemplate);f.insertAfterNode(u),e._parts.push(f)}else{var p;(p=e._parts).push.apply(p,r(e.processor.handleAttributeExpressions(u,c.name,c.strings)))}a++}else s++,"TEMPLATE"===u.nodeName&&t(u.content),u=l.nextNode();else e._parts.push(void 0),a++}}(i),t.isCEPolyfill&&(document.adoptNode(i),customElements.upgrade(i)),i}}]),e}()}),define("lib/parts.js",["exports","./directive.js","./dom.js","./part.js","./template-instance.js","./template-result.js","./template.js"],function(e,t,n,r,i,o,a){"use strict";function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.EventPart=e.PropertyPart=e.PropertyCommitter=e.BooleanAttributePart=e.NodePart=e.AttributePart=e.AttributeCommitter=e.isPrimitive=void 0;var c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=e.isPrimitive=function(e){return null===e||!("object"===(void 0===e?"undefined":p(e))||"function"==typeof e)},h=e.AttributeCommitter=function(){function e(t,n,r){u(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}return f(e,[{key:"_createPart",value:function(){return new v(this)}},{key:"_getValue",value:function(){for(var e=this.strings,t=e.length-1,n="",r=0;r<t;r++){n+=e[r];var i=this.parts[r];if(void 0!==i){var o=i.value;if(null!=o&&(Array.isArray(o)||"string"!=typeof o&&o[Symbol.iterator])){var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;n+="string"==typeof f?f:String(f)}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}}else n+="string"==typeof o?o:String(o)}}return n+=e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),v=e.AttributePart=function(){function e(t){u(this,e),this.value=void 0,this.committer=t}return f(e,[{key:"setValue",value:function(e){e===r.noChange||d(e)&&e===this.value||(this.value=e,(0,t.isDirective)(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.value);){var e=this.value;this.value=r.noChange,e(this)}this.value!==r.noChange&&this.committer.commit()}}]),e}(),m=(e.NodePart=function(){function e(t){u(this,e),this.value=void 0,this._pendingValue=void 0,this.templateFactory=t}return f(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild((0,a.createMarker)()),this.endNode=e.appendChild((0,a.createMarker)())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e._insert(this.startNode=(0,a.createMarker)()),e._insert(this.endNode=(0,a.createMarker)())}},{key:"insertAfterPart",value:function(e){e._insert(this.startNode=(0,a.createMarker)()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this._pendingValue=e}},{key:"commit",value:function(){for(;(0,t.isDirective)(this._pendingValue);){var e=this._pendingValue;this._pendingValue=r.noChange,e(this)}var n=this._pendingValue;n!==r.noChange&&(d(n)?n!==this.value&&this._commitText(n):n instanceof o.TemplateResult?this._commitTemplateResult(n):n instanceof Node?this._commitNode(n):Array.isArray(n)||n[Symbol.iterator]?this._commitIterable(n):void 0!==n.then?this._commitPromise(n):this._commitText(n))}},{key:"_insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"_commitNode",value:function(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}},{key:"_commitText",value:function(e){var t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}},{key:"_commitTemplateResult",value:function(e){var t=this.templateFactory(e);if(this.value&&this.value.template===t)this.value.update(e.values);else{var n=new i.TemplateInstance(t,e.processor,this.templateFactory),r=n._clone();n.update(e.values),this._commitNode(r),this.value=n}}},{key:"_commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n=this.value,r=0,i=void 0,o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i=n[r],void 0===i&&(i=new e(this.templateFactory),n.push(i),0===r?i.appendIntoPart(this):i.insertAfterPart(n[r-1])),i.setValue(c),i.commit(),r++}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}r<n.length&&(n.length=r,this.clear(i&&i.endNode))}},{key:"_commitPromise",value:function(e){var t=this;this.value=e,e.then(function(n){t.value===e&&(t.setValue(n),t.commit())})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;(0,n.removeNodes)(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),e.BooleanAttributePart=function(){function e(t,n,r){if(u(this,e),this.value=void 0,this._pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=r}return f(e,[{key:"setValue",value:function(e){this._pendingValue=e}},{key:"commit",value:function(){for(;(0,t.isDirective)(this._pendingValue);){var e=this._pendingValue;this._pendingValue=r.noChange,e(this)}if(this._pendingValue!==r.noChange){var n=!!this._pendingValue;this.value!==n&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=n,this._pendingValue=r.noChange}}}]),e}(),e.PropertyCommitter=function(e){function t(e,n,r){u(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.single=2===r.length&&""===r[0]&&""===r[1],i}return l(t,e),f(t,[{key:"_createPart",value:function(){return new m(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),t}(h),e.PropertyPart=function(e){function t(){return u(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),t}(v));e.EventPart=function(){function e(t,n){u(this,e),this.value=void 0,this._pendingValue=void 0,this.element=t,this.eventName=n}return f(e,[{key:"setValue",value:function(e){this._pendingValue=e}},{key:"commit",value:function(){for(;(0,t.isDirective)(this._pendingValue);){var e=this._pendingValue;this._pendingValue=r.noChange,e(this)}this._pendingValue!==r.noChange&&(null==this._pendingValue!=(null==this.value)&&(null==this._pendingValue?this.element.removeEventListener(this.eventName,this):this.element.addEventListener(this.eventName,this)),this.value=this._pendingValue,this._pendingValue=r.noChange)}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.element,e):"function"==typeof this.value.handleEvent&&this.value.handleEvent(e)}}]),e}()}),define("lib/default-template-processor.js",["exports","./parts.js"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTemplateProcessor=e.DefaultTemplateProcessor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e.DefaultTemplateProcessor=function(){function e(){n(this,e)}return r(e,[{key:"handleAttributeExpressions",value:function(e,n,r){var i=n[0];if("."===i){return new t.PropertyCommitter(e,n.slice(1),r).parts}return"@"===i?[new t.EventPart(e,n.slice(1))]:"?"===i?[new t.BooleanAttributePart(e,n.slice(1),r)]:new t.AttributeCommitter(e,n,r).parts}},{key:"handleTextExpression",value:function(e){return new t.NodePart(e)}}]),e}();e.defaultTemplateProcessor=new i}),define("lib/template-factory.js",["exports","./template.js"],function(e,t){"use strict";function n(e){var n=r.get(e.type);void 0===n&&(n=new Map,r.set(e.type,n));var i=n.get(e.strings);return void 0===i&&(i=new t.Template(e,e.getTemplateElement()),n.set(e.strings,i)),i}Object.defineProperty(e,"__esModule",{value:!0}),e.templateCaches=void 0,e.templateFactory=n;var r=e.templateCaches=new Map}),define("lib/render.js",["exports","./dom.js","./parts.js","./template-factory.js"],function(e,t,n,r){"use strict";function i(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.templateFactory,s=o.get(i);void 0===s&&((0,t.removeNodes)(i,i.firstChild),o.set(i,s=new n.NodePart(a)),s.appendInto(i)),s.setValue(e),s.commit()}Object.defineProperty(e,"__esModule",{value:!0}),e.parts=void 0,e.render=i;var o=e.parts=new WeakMap}),define("lit-html",["exports","./lib/template-result.js","./lib/template.js","./lib/default-template-processor.js","./lib/template-instance.js","./lib/part.js","./lib/parts.js","./lib/dom.js","./lib/directive.js","./lib/render.js","./lib/template-factory.js"],function(e,t,n,r,i,o,a,s,l,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.svg=e.html=void 0,Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});e.html=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return new t.TemplateResult(e,i,"html",r.defaultTemplateProcessor)},e.svg=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return new t.SVGTemplateResult(e,i,"svg",r.defaultTemplateProcessor)}});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("redux",["exports"],t):t(e.Redux={})}(this,function(e){"use strict";function t(e){if("object"!==(void 0===e?"undefined":b(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function r(e,n,o){function i(){w===v&&(w=v.slice())}function u(){if(m)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function a(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(m)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return i(),w.push(e),function(){if(t){if(m)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,i();var r=w.indexOf(e);w.splice(r,1)}}}function c(e){if(!t(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,p=l(p,e)}finally{m=!1}for(var r=v=w,n=0;n<r.length;n++){(0,r[n])()}return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,c({type:y.REPLACE})}function d(){var e,t=a;return e={subscribe:function(e){function r(){e.next&&e.next(u())}if("object"!==(void 0===e?"undefined":b(e))||null===e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[h]=function(){return this},e}var f;if("function"==typeof n&&void 0===o&&(o=n,n=void 0),void 0!==o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(r)(e,n)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,p=n,v=[],w=v,m=!1;return c({type:y.INIT}),f={dispatch:c,subscribe:a,getState:u,replaceReducer:s},f[h]=d,f}function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function o(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e,r,n,o){var i=Object.keys(r),u=n&&n.type===y.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!t(e))return"The "+u+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+i.join('", "')+'"';var a=Object.keys(e).filter(function(e){return!r.hasOwnProperty(e)&&!o[e]});return a.forEach(function(e){o[e]=!0}),n&&n.type===y.REPLACE?void 0:a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+u+'. Expected to find one of the known reducer keys instead: "'+i.join('", "')+'". Unexpected keys will be ignored.':void 0}function u(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:y.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+y.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(e){for(var t=Object.keys(e),r={},a=0;a<t.length;a++){var c=t[a];void 0===e[c]&&n('No reducer provided for key "'+c+'"'),"function"==typeof e[c]&&(r[c]=e[c])}var s=Object.keys(r),d=void 0;d={};var f=void 0;try{u(r)}catch(e){f=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(f)throw f;var u=i(e,r,t,d);u&&n(u);for(var a=!1,c={},l=0;l<s.length;l++){var p=s[l],h=r[p],y=e[p],b=h(y,t);if(void 0===b){var v=o(p,t);throw new Error(v)}c[p]=b,a=a||b!==y}return a?c:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function s(e,t){if("function"==typeof e)return c(e,t);if("object"!==(void 0===e?"undefined":b(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":void 0===e?"undefined":b(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var i=r[o],u=e[i];"function"==typeof u&&(n[i]=c(u,t))}return n}function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function f(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=e.apply(void 0,n),u=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},a={getState:i.getState,dispatch:function(){return u.apply(void 0,arguments)}},c=t.map(function(e){return e(a)});return u=d.apply(void 0,c)(i.dispatch),v({},i,{dispatch:u})}}}function l(){}var p;p="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var h=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}(p),y={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};"string"==typeof l.name&&"isCrushed"!==l.name&&n("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=r,e.combineReducers=a,e.bindActionCreators=s,e.applyMiddleware=f,e.compose=d,e.__DO_NOT_USE__ActionTypes=y,Object.defineProperty(e,"__esModule",{value:!0})});
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("redux-thunk",[],e):"object"==typeof exports?exports.ReduxThunk=e():t.ReduxThunk=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,o=e.getState;return function(e){return function(r){return"function"==typeof r?r(n,o,t):e(r)}}}}e.__esModule=!0;var o=n();o.withExtraArgument=n,e.default=o}])});