define("text",["module"],function(e){"use strict";var t,n,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a="undefined"!=typeof location&&location.href,s=a&&location.protocol&&location.protocol.replace(/\:/,""),c=a&&location.hostname,l=a&&(location.port||void 0),d=[],u=e.config();return t={version:"2.0.0",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(r);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t++){n=i[t];try{e=new ActiveXObject(n)}catch(e){}if(e){i=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),i=e.substring(0,n),o=e.substring(n+1,e.length);return n=o.indexOf("!"),-1!==n&&(t=o.substring(n+1,o.length),t="strip"===t,o=o.substring(0,n)),{moduleName:i,ext:o,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var r,a,s,c=t.xdRegExp.exec(e);return!c||(r=c[2],a=c[3],a=a.split(":"),s=a[1],a=a[0],!(r&&r!==n||a&&a!==i||(s||a)&&s!==o))},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,u.isBuild&&(d[e]=i),o(i)},load:function(e,n,i,o){if(o.isBuild&&!o.inlineText)return void i();u.isBuild=o.isBuild;var r=t.parseName(e),d=r.moduleName+"."+r.ext,m=n.toUrl(d),p=u.useXhr||t.useXhr;!a||p(m,s,c,l)?t.get(m,function(n){t.finishLoad(e,r.strip,n,i)},function(e){i.error&&i.error(e)}):n([d],function(e){t.finishLoad(r.moduleName+"."+r.ext,r.strip,e,i)})},write:function(e,n,i,o){if(d.hasOwnProperty(n)){var r=t.jsEscape(d[n]);i.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,i,o,r){var a=t.parseName(n),s=a.moduleName+"."+a.ext,c=i.toUrl(a.moduleName+"."+a.ext)+".js";t.load(s,i,function(n){var i=function(e){return o(c,e)};i.asModule=function(e,t){return o.asModule(e,c,t)},t.write(e,s,i,r)},r)}},"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),t.get=function(e,t){var i=n.readFileSync(e,"utf8");0===i.indexOf("\ufeff")&&(i=i.substring(1)),t(i)}):t.createXhr()?t.get=function(e,n,i){var o=t.createXhr();o.open("GET",e,!0),u.onXhr&&u.onXhr(o,e),o.onreadystatechange=function(t){var r,a;4===o.readyState&&(r=o.status,r>399&&r<600?(a=new Error(e+" HTTP status: "+r),a.xhr=o,i(a)):n(o.responseText))},o.send(null)}:"undefined"!=typeof Packages&&(t.get=function(e,t){var n,i,o=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),"utf-8")),s="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=a.readLine());)n.append(r),n.append(i);s=String(n.toString())}finally{a.close()}t(s)}),t}),define("text!desktop/templates/app/layout.html",[],function(){return'<div class="error-region"></div>\r\n<h1 id="desktop-heading" class="accessible-not-visible">{{ i18n(\'headers.h1.desktop\') }}</h1>\r\n<h2 id="money-bar-heading" class="accessible-not-visible">{{ i18n(\'headers.h2.moneybar\') }}</h2>\r\n<div class="moneybar-region">\r\n</div>\r\n<div class="taskscenter-region">\r\n</div>\r\n<h2 class="accessible-not-visible">{{ i18n(\'headers.h2.lastOperationsAndAccountsList\')}}</h2>\r\n<div class="accounts-history-region">\r\n  <div class="accounts-history-tabs"></div>\r\n    <div class="history-region" id="historyTabPanelContainer" role="tabpanel" aria-labelledby="historyTabId"></div>\r\n    <div class="accounts-region" id="accountsTabPanelContainer" role="tabpanel" aria-labelledby="accountsTabId"></div>\r\n</div>\r\n<div class="messages-region">\r\n</div>\r\n<div class="last-login-region"></div>\r\n<div class="pfm-region"></div>'}),define("desktop/js/app/views/layout",["text!desktop/templates/app/layout.html"],function(e){return Backbone.Marionette.Layout.extend({template:e,className:"sliding-region",attributes:{id:"desktop-app-view"},regions:{moneybar:".moneybar-region",history:".history-region",accounts:".accounts-region",tabs:".accounts-history-tabs",messages:".messages-region",lastLogin:".last-login-region",tasksCenter:".taskscenter-region"}})}),define("desktop/js/app/views/preloader-view",[],function(){return Backbone.Marionette.ItemView.extend({template:'<div class="loading-icon"></div>',tagName:"div"})}),define("desktop/js/app/app",["./views/layout","./views/preloader-view"],function(e,t){"use strict";function n(){$("#content").css("min-height",$(window).height()-$("#header").height())}var i=new Backbone.Marionette.Application;return i.cache={moneyBar:{model:null,messageBoxModel:null,rangeBarPosition:null},history:{},accounts:{},messages:{},pfm:{}},i.updateOneClickPlaceholder=null,i.oneClickTooltipContainer=null,i.unloadLayout=function(){this.off(),$(window).off("resize.desktop");try{this.cache={moneyBar:{model:null,messageBoxModel:null,rangeBarPosition:null},history:{},accounts:{},messages:{},pfm:{}},this.moneyBarLayout=null,this.removeRegion("main")}catch(e){}},i.initLayout=function(){$(window).off("resize.desktop").on("resize.desktop",n),n(),window.PIE&&$('[class*="btn"], [class*="btn-carret"] span, .underline-decoration, .underline-decoration .hover, input[type="text"] ').each(function(){PIE.attach(this)});var o=this,r=new e;o.addRegions({main:"#desktop-page .content"}),this.main.show(r),o.on("error",function(){}),o.on("start",function(){Ebre.Modules.Desktop.TasksCenter.ShowTasksCenter?(o.trigger("load:taskscenter"),r.$el.find(".moneybar-region").hide()):(o.trigger("load:moneybar"),r.$el.find(".taskscenter-region").hide()),Ebre.Modules.Desktop.Accounts.defaultDesktopTab==Ebre.Modules.Desktop.ViewTypes[0].viewType?o.trigger("load:history"):o.trigger("load:accounts"),o.trigger("load:messages"),o.trigger("load:tabs"),o.trigger("load:lastLogin")}),o.on("load:tabs",function(){require(["desktop/js/app/views/tabmenu"],function(e){var t=new e({app:o,collection:new Backbone.Collection(Ebre.Modules.Desktop.TabMenuItems)});r.tabs.show(t)})}),o.on("load:moneybar",function(){if(Ebre.Modules.Desktop.MoneyBar.isMoneyBarConfigured)r.$el.append(new t({className:"moneybar-preloader"}).render().$el),require(["desktop/js/moneybar/views/moneybar-layout"],function(e){o.moneyBarLayout=new e,r.moneybar.show(o.moneyBarLayout),o.moneyBarLayout.loadMoneyBar()});else{var e=Backbone.Marionette.ItemView.extend({template:'{{I18n.t("moneyBar.notAvailableMessage")}} <a href="#Settings/MoneyBar">{{I18n.t("settings")}}...</a>',tagName:"div",className:"moneybarNotConfigured"});r.moneybar.show(new e),r.moneybar.$el.css({minHeight:"20px"})}}),o.on("load:taskscenter",function(){require(["desktop/js/taskscenter/views/taskscenter-layout"],function(e){var t=new e;r.tasksCenter.show(t),t.loadTasksCenter()})}),o.on("savings-tooltip:reset",function(){$(".money-bar .income-savings .transfer-arrow").mytooltip("close"),i.trigger("savings-tooltip:restart")}),o.on("savings-tooltip:restart",function(){var e=$("#savings-transfer-tooltip"),t=$(".money-bar .income-savings .transfer-arrow");e.find(".ui-tooltip-invalid").remove(),e.find(".error").text(""),e.find(".error").removeAttr("role"),e.find(".savings-transfer-btn").attr("disabled","disabled"),e.find(".confirmation-space").remove(),e.find(".savings-amount").removeClass("transfer-confirmed"),e.find(".transfer-space").show(),t.mytooltip("title","show"),t.mytooltip("mask","remove"),e.find('input[type="text"]').val(""),t.mytooltip("reposition")}),o.on("error:auth",function(e){$(".money-bar .income-savings .transfer-arrow").mytooltip("mask","remove");var t=$(".row-auth-code .code-input").closest("div").find("span.error");t.removeAttr("role"),t.text(e),setTimeout(function(){t.attr("role","alert")},500),$(".row-auth-code .code-input").closest(".content-tooltip-form").addClass("ui-tooltip-invalid"),$(".money-bar .income-savings .transfer-arrow").mytooltip("reposition"),$("input.commit").removeClass("transfer-confirmed")}),o.on("oc-KG-tooltip:confirmKO",function(e){$("#oc-KO-start").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show(),require(["desktop/js/moneybar/views/tooltips/one-click/oc-KO-confirm-view","desktop/js/moneybar/models/tooltips/one-click/oc-KO-confirm-model"],function(t,n){var i=new t({model:new n(e)});$("#oc-KG-tooltip").append(i.render().$el),i.onPostRender(),o.trigger("oc-tooltip:reposition")})}),o.on("oc-KG-tooltip:confirm",function(e){$("#oc-KG-start").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show(),require(["desktop/js/moneybar/views/tooltips/one-click/oc-KG-confirm-view","desktop/js/moneybar/models/tooltips/one-click/oc-KG-confirm-model"],function(t,n){var i=new t({model:new n(e)});$("#oc-KG-tooltip").append(i.render().$el),i.onPostRender(),o.trigger("oc-tooltip:reposition")})}),o.on("oc-KG-tooltip:confirmUKO",function(e){$("#oc-UKO-start").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show(),require(["desktop/js/moneybar/views/tooltips/one-click/oc-UKO-confirm-view","desktop/js/moneybar/models/tooltips/one-click/oc-UKO-confirm-model"],function(t,n){var i=new t({model:new n(e)});$("#oc-KG-tooltip").append(i.render().$el),i.onPostRender(),o.trigger("oc-tooltip:reposition")})}),o.on("oc-KG-tooltip:confirmUKK",function(e){$("#oc-UKK-start").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show(),require(["desktop/js/moneybar/views/tooltips/one-click/oc-UKK-confirm-view","desktop/js/moneybar/models/tooltips/one-click/oc-UKK-confirm-model"],function(t,n){var i=new t({model:new n(e)});$("#oc-KG-tooltip").append(i.render().$el),i.onPostRender(),o.trigger("oc-tooltip:reposition")})}),o.on("oc-KG-tooltip:confirmUSRQC",function(e){$("#oc-USRQC-start").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show(),require(["desktop/js/moneybar/views/tooltips/one-click/oc-USRQC-confirm-view","desktop/js/moneybar/models/tooltips/one-click/oc-USRQC-confirm-model"],function(t,n){var i=new t({model:new n(e)});$("#oc-KG-tooltip").append(i.render().$el),i.onPostRender(),o.trigger("oc-tooltip:reposition")})}),o.on("oc-KG-tooltip:confirmPKK",function(e){$("#oc-PKK-start").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show(),require(["desktop/js/moneybar/views/tooltips/one-click/oc-PKK-confirm-view","desktop/js/moneybar/models/tooltips/one-click/oc-PKK-confirm-model"],function(t,n){var i=new t({model:new n(e)});$("#oc-KG-tooltip").append(i.render().$el),i.onPostRender(),o.trigger("oc-tooltip:reposition")})}),o.on("oc-KG-tooltip:restart",function(){$("#oc-KG-start").remove(),$("#oc-KG-confirm").remove(),$("#oc-KO-start").remove(),$("#oc-KO-confirm").remove(),$("#oc-UKK-start").remove(),$("#oc-UKK-confirm").remove(),$("#oc-UKO-start").remove(),$("#oc-UKO-confirm").remove(),$("#oc-USRQC-start").remove(),$("#oc-USRQC-confirm").remove(),$("#oc-PKK-start").remove(),$("#oc-PKK-confirm").remove(),$("#oc-KG-tooltip .ui-tooltip-title a").show()}),o.on("oc-tooltip:close",function(){i.oneClickTooltipContainer.mytooltip("close")}),o.on("oc-tooltip:auth-error",function(e){var t=$("#oc-KG-tooltip");t.find(".validation").addClass("error");var n=t.find(".validation span.error");n.removeAttr("role"),n.text(e),setTimeout(function(){n.attr("role","alert")},500)}),o.on("oc-tooltip:reposition",function(){i.oneClickTooltipContainer.mytooltip("reposition"),$("#oc-KG-tooltip .arrow-down").css("left",135),$("#oc-KG-tooltip .arrow-up").css("left",135)}),o.on("oc-tooltip:show-mask",function(e,t){t=void 0==t||t,i.oneClickTooltipContainer.mytooltip("mask",e?"add":"remove",t),t||(e?$(".ui-tooltip-mask").css("cursor","wait"):$(".ui-tooltip-mask").css("cursor","auto"))}),o.on("savings-transfer-tooltip:show-confirmation",function(e,t){$("#savings-transfer-tooltip .confirmation-space").remove(),require(["desktop/js/moneybar/views/tooltips/transfer-confirmation","desktop/js/moneybar/models/tooltips/transfer-confirmation"],function(n,i){var o=_.extend(t.attributes,{authType:e.authType});switch(e.authType.toUpperCase()){case"S":_.extend(o,{operationNumber:e.authMessageParam1,currentDate:e.authMessageParam2});break;case"T":_.extend(o,{tanNumber:e.authMessageParam1,tanListNumber:e.authMessageParam2})}var r=new n({model:new i(o)}),a=r.render();$("#savings-transfer-tooltip").append(a.$el).children(".transfer-space").hide(),$("#savings-transfer-tooltip .arrow arrow-down").hide(),$("#savings-transfer-tooltip .confirmation-space").show(),$(".money-bar .income-savings .transfer-arrow").mytooltip("title","hide").mytooltip("reposition");var s=r.$el.find(".code-input");s.length?(s.focus(),s.on("keydown",function(e){13==(e.keyCode?e.keyCode:e.charCode)&&(r.$el.find(".commit").hasClass("transfer-confirmed")||(r.$el.find(".commit").addClass("transfer-confirmed"),r.$el.find(".commit").click()))})):r.$el.find("input.commit").focus(),LoadAuthService(function(e){e.initialize({templateName:"mini",callbackTokenCancel:function(){$(".btn-gray-gradient.cancel").click()},hiddenButtons:$(".btn-red-gradient.commit"),placeholder:$(".row-auth-code"),buttonsContainer:$(".buttons-container"),areaName:"emax"}).then(function(){$(".btn-red-gradient.commit").click()}),$(".btn-gray-gradient.cancel").on("click",function(){e.cancel()})})})}),o.on("show:message",function(e,t){Ebre.Common.createMessage({message:e.text,key:"transfer-esit-message",cssStyle:t||"info-conditional"})}),o.on("show:successmessage",function(e,t){Ebre.Common.createMessage({title:e.text,key:"transfer-esit-message",cssStyle:t||"success-conditional"})}),o.on("close:tooltips",function(){$(".ui-tooltip-caller").mytooltip("close")}),o.on("load:history",function(){r.$el.append(new t({className:"history-accounts-preloader"}).render().$el),require(["desktop/js/history/views/history-layout"],function(e){var t=new e;r.history.show(t),t.loadData()})}),o.on("load:accounts",function(){r.$el.append(new t({className:"history-accounts-preloader"}).render().$el),require(["desktop/js/accounts/views/accounts-layout"],function(e){var t=new e;r.accounts.show(t),t.loadData()})}),o.on("load:lastLogin",function(){require(["desktop/js/lastLogin/views/lastLogin-layout"],function(e){var t=new e;r.lastLogin.show(t)})}),o.on("show:history",function(){if(r.$el.find("#accounts-list-pane").hide(),_.isEmpty(o.cache.history))return void o.trigger("load:history");r.$el.find(".history-accounts-preloader").fadeOut("slow"),r.$el.find("#history-list-pane").show()}),o.on("show:accounts",function(){if(r.$el.find("#history-list-pane").hide(),_.isEmpty(o.cache.accounts))return void o.trigger("load:accounts");r.$el.find(".history-accounts-preloader").fadeOut("slow"),r.$el.find("#accounts-list-pane").show(),r.$el.find(".jspContainer").height(280)}),o.on("load:messages",function(){r.$el.append(new t({className:"messages-preloader"}).render().$el),Ebre.Modules.Desktop.WhirlWindScripts&&require([Ebre.Modules.Desktop.WhirlWindScripts],function(){require(["desktop/js/messages/views/messages-composite-view",Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/adv-init-messages-top-seven.js"],function(e,t){var n=new e;r.messages.show(n);var i=$("#messageBoxRightList");t(i,n),i.css({visibility:"visible",display:"none"}).fadeIn("slow");var o=r.$el.find(".messages-preloader");o.fadeOut("slow",function(){o.remove()})})})}),o.trigger("start")},_.bind(i.unloadLayout,i),_.bind(i.initLayout,i),i}),define("desktop/js/app/i18n/pl-PL",[],function(){return{pl:{plannedOperations:"Operacje zaplanowane",transfer:"Wykonaj przelew",toYourAccount:"Na własne konto",rechargePhone:"Doładuj telefon",newDomestic:"Do osoby lub firmy",freeResources:"Wolne środki",balance:"Dostępne środki",moneyTransfer:"Podaj kwotę przelewu",from:"Z",to:"Na",amount:"Kwota",enterSmsCode:"Hasło SMS",enterTanCode:"Hasło jednorazowe",ownFunds:"Środki własne",currentCreditLimit:"Aktualny limit kredytowy",availableResources:"Dostępne środki",plan:"Zaplanuj",submit:"Zatwierdź",cancel:"Anuluj",help:"Pomoc",settings:"Ustawienia",savings:"Oszczędności",commissionLabel:"Koszt przelewu",edit:"Edytuj",currentAccount:"Rachunek bieżący",desktop:"Pulpit",pfm:{incomes:"Wpływy",expenses:"Wydatki",from:"od",to:"do"},history:{empty:"Czekamy na Twoją pierwszą operację :)",tabName:"Ostatnie operacje",bottomTabName:"Zobacz całą historię"},accounts:{empty:"Brak rachunków na liście",tabName:"Lista rachunków",summary:"Razem",balance:"Saldo",availableBalance:"Dostępne środki",history:"Historia operacji",operations:{transfer:{own:"Przelew własny",domestic:"Przelew krajowy",defined:"Przelew zdefiniowany",zus:"Przelew do ZUS",tax:"Przelew podatku"},history:"Historia operacji"}},headers:{h1:{desktop:"Pulpit"},h2:{messages:"Wiadomości",moneybar:"Pasek finansów",lastOperationsAndAccountsList:"Ostatnie operacje i lista rachunków"}},moneyBar:{notAvailableMessage:"Pasek finansów nie jest skonfigurowany.",buttons:{},availableAssets:{help:"Pasek finansów prezentuje stan Twojego konta uwzględniając płatności zaplanowane w danym okresie rozliczeniowym zwanym Moim miesiącem. Korzystając ze skrótów możesz w łatwy sposób zlecać przelewy i doładowywać telefon."},incomeSavings:{notEnoughMoneyError:"Nie posiadasz tylu środków na koncie",smsCodeError:"Nieprawidlowy kod SMS",smsCodeForDay:"(nr {0}. z dnia {1})",tanNumber:"(nr {1} z listy {0})",transferFromEmax:"Wykonaj przelew z Emax na Ekonto"},oneClick:{titleKG:"Kredyt gotówkowy",amountKG:"Kwota",periodKG:"Okres",maxKG:"max.",instalmentOneKG:"Liczba rat",instalmentTwoKG:"zależy od kwoty",instalmentKG:"Rata",instalmentMontlyKG:"Miesięczna rata",noteOneLinkTextKG:"Czytaj dalej.",noteTwo:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.",noteThree:"Aby kontynuować zaznacz, że zapoznałeś się z dokumentami.",noteTwoKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.",noteThreeKG:"Aby kontynuować zaznacz, że zapoznałeś się z dokumentami.",noteFourKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",noteFourKO:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Aneks kredytowy.",btnNextKG:"Dalej",btnAcceptKG:"Zatwierdź",btnCancelKG:"Odrzuć",btnAccept:"Zatwierdź",btnReject:"Odrzuć",documentsByMailKG:"Dokumenty kredytowe wyślemy do Ciebie mailem",documentsByMail:"Dokumenty kredytowe wyślemy do Ciebie mailem",amountModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",amountModificationGranted:"Dostępna kwota kredytu:",creditIncreaseModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",maxCreditIncrease:"Dostępna kwota podwyższenia",waitTitle:"Trwa rozpatrywanie Twojego wniosku.",waitText:"Poniżej 30 SEK.",titleKO:"Kredyt odnawialny",creditSuccessTitleKG:"Umowa została zaakceptowana",creditSuccessBodyKG:"Dodatkowe <strong>{0}</strong> wkrótce wpłynie na Twój rachunek.",creditSuccessTitleKO:"Aneks do umowy kredytu został zaakceptowany",creditSuccessBodyKO:"Limit kredytu odnawialnego został podwyższony do <strong>{0}</strong>.",refusalTitle:"Wniosek został rozpatrzony negatywnie",refusalBody:"Twój wniosek został rozpatrzony negatywnie z powodu braku zdolności kredytowej.",otherErrorTitle:"Przepraszamy, usługa chwilowo niedostępna",otherErrorBody:"Spróbuj za chwilę wykonać tą operację ponownie.",errorTitle:"Wystąpił błąd podczas rozpatrywania wniosku",monthKG:"miesiąc",monthsKG:"miesiące",months2KG:"miesięcy",currentLimitKO:"Obecny limit",previousLimitKO:"Dotychczasowy limit",increaseByKO:"Zwiększ o",increaseMaxKO:"max",newLimitKO:"Nowy limit",btnNextKO:"Dalej",pdfErrorNoteOneKG:"Dokumenty są w trakcie przygotowywania.",pdfErrorNoteTwoKG:"Kliknij za 10 sekund.",pdfExceptionNoteOneKG:"Wystąpił błąd w trakcie pobierania dokumentu.",pdfExceptionNoteTwoKG:"Spróbuj ponownie za chwilę.",pdfErrorNoteOne:"Dokumenty są w trakcie przygotowywania.",pdfErrorNoteTwo:"Kliknij za 10 sekund.",pdfExceptionNoteOne:"Wystąpił błąd w trakcie pobierania dokumentu.",pdfExceptionNoteTwo:"Spróbuj ponownie za chwilę.",pdfErrorBtnKG:"OK",pdfErrorBtnOK:"OK",creditNotExistsTitleKG:"Ta oferta jest już nieaktualna",creditNotExistsBodyKG:"Przejdź do Pasażu i sprawdź inne produkty kredytowe.",Yes:"Tak",No:"Nie",UKK:{title:"Karta kredytowa",limitLabel:"Limit karty",cardTypeLabel:"Wybrany typ karty",minLimitInfoMsg:"Minimalny wnioskowany limit karty wynosi {0}. Kwota została zmieniona.",maxLimitInfoMsg:"Maksymalny wnioskowany limit karty wynosi {0}. Kwota została zmieniona.",roundLimitInfoMsg:"Kwota wnioskowanego limitu powinna być wyrażona w setkach PLN. Kwota została zmieniona.",maxLimitLabel:"max",paymentAccountLabel:"Rachunek do spłaty karty",quickCashLabel:"Chcę skorzystać z szybkiej gotówki",quickCashTooltipMsg:"Szybka gotówka to przelew z limitu karty kredytowej na wskazany przez Ciebie rachunek. Przelew zostanie rozłożony na równe raty w ramach usługi Spłaty na raty. Za przelew pobierana jest prowizja zgodnie z Tabelą Opłat i Prowizji.",Yes:"Tak",No:"Nie",quickCashAmountLabel:"Kwota przelewu",quickCashAccountLabel:"Rachunek do przelewu",periodsLabel:"Okres spłaty",monthlyInstallmentLabel:"Miesięczna rata",milesAndMoreProgramLabel:"Czy jesteś uczestnikiem programu Miles&More?",milesAndMoreNumberLabel:"Numer w programie Miles&More",milesAndMoreNoError:"Niepoprawny numer karty Miles&More.",btnNext:"Dalej",quickCashAmountSummaryLabel:"Kwota szybkiej gotówki",installmentNumberLabel:"Liczba rat",months:"miesięcy",commissionLabel:"Prowizja za przelew szybkiej gotówki",applicationSuccessTitle:"Umowa została zaakceptowana",applicationSuccessBody:"Wkrótce otrzymasz kartę kredytową z limitem <strong>{0}</strong>.",noteFour:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",promotionLabel:"Chcę wziąć udział w promocji",noteOneLinkText:"Zobacz koszty kredytu"},UKO:{title:"Kredyt odnawialny",accountsListLabel:"Numer rachunku",creditLimitLabel:"Limit kredytu",creditLimitConfirmLabel:"Limit kredytu odnawialnego",accountNumberConfirmLabel:"Numer rachunku",noteFour:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",applicationSuccessTitle:"Umowa została zaakceptowana",applicationSuccessBody:"Dodatkowe <strong>{0}</strong> wkrótce wpłynie na Twój rachunek.",noteOneLinkText:"Zobacz koszty kredytu"},USRQC:{title:"Spłaty na raty w karcie kredytowej",cardsListLabel:"Wybierz kartę",currentDebtLabel:"Aktualne zadłużenie",quickCashAmountLabel:"Kwota przelewu szybkiej gotówki",quickCashTooltipMsg:"Szybka gotówka to przelew z limitu karty kredytowej na wskazany przez Ciebie rachunek. Przelew zostanie rozłożony na równe raty w ramach usługi Spłaty na raty. Za przelew pobierana jest prowizja zgodnie z Tabelą Opłat i Prowizji.",amountLabel:"Kwota do rozłożenia na raty",accountsListLabel:"Rachunek do przelewu",promotionLabel:"Chcę wziąć udział w promocji",periodsLabel:"Okres spłaty",monthlyInstallmentLabel:"Miesięczna rata",amountModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",amountModificationGranted:"Dostępna kwota do rozłożenia na raty:",confirmCardLabel:"Karta kredytowa",confirmQuickCashAmountLabel:"Kwota szybkiej gotówki",confirmQuickCashCommission:"Prowizja za przelew szybkiej gotówki",confirmPayInInstallmentAmountLabel:"Kwota usługi Spłaty na raty",confirmPeriodLabel:"Liczba rat",month:"miesięcy",confirmMonthlyInstallmentLabel:"Miesięczna rata",noteFour:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",applicationSuccessTitle:"Wniosek został zarejestrowany prawidłowo",applicationSuccessBody:"Kwota <strong>{0}</strong> zostanie rozłożona na {1}.",installmentVarietyFor1:"ratę",installmentVarietyFor234:"raty",installmentVarietyForOthers:"rat"},PKK:{title:"Podwyższenie limitu karty kredytowej",cardsListLabel:"Wybierz kartę",promotionLabel:"Chcę wziąć udział w promocji",increaseLimitLabel:"Zwiększ limit o",newLimitLabel:"Nowy limit karty",maxLimitLabel:"max",maxLimitInfoMsg:"Kwota wnioskowanego limitu jest większa od maksymalnego limitu karty. Kwota została zmieniona.",amountModificationGranted:"Dostępna kwota:",confirmCardLabel:"Karta kredytowa",confirmGrantedLimit:"Dotychczasowy limit",confirmNewLimit:"Nowy limit",confirmIncreaseLimitCommission:"Prowizja za podwyższenie limitu",noteFour:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",applicationSuccessTitle:"Aneks został zaakceptowany",applicationSuccessBody:"Limit Twojej karty kredytowej zostanie zwiększony o dodatkowe <strong>{0}</strong>.",noteOneLinkText:"Zobacz koszty kredytu"}},notAvailableErrorTitle:"Przepraszam,",notAvailableErrorMessage:"Pasek finansów jest w tej chwili niedostępny"},lastLogin:{success:"Ostatnie udane logowanie",unSuccess:"Ostatnie nieudane logowanie",none:"brak"},tasksCenter:{calendar:{next:"Następny",previous:"Poprzedni",currentWeek:"Twoje zadania na bieżący tydzień",chosenWeek:"Twoje zadania na tydzień"},timelineTask:{actions:{deleteTask:"Usuń",addToBasket:"Dodaj do koszyka",pay:"Zapłać",confirm:"Potwierdź",details:"szczegóły",newTask:"+ Nowe zadanie",tasksList:"Lista zadań",fillAmounts:{label:"Zatwierdź",tooltip:"Są wymagane tylko przy pierwszym zadaniu lub od nowego roku."},otherAmounts:"Inne kwoty",setCycle:"Ustaw jako cykl"},labels:{vatAmount:"Kwota VAT:",priority:"Priorytet:",recipient:"Odbiorca:",document:"Dokument:",category:"Kategoria:",additional:"Opis:",termDate:"Termin",formOfTax:"Forma opodatkowania:",PIT:"PIT",VAT:"VAT",hiringEmployees:"Zatrudniam pracowników:",yes:"tak",no:"nie",companyDetailsInfo:"Zdefiniuj okresy rozliczania i formę opodatkowania w Twojej firmie. Będziemy pamiętać o obowiązujących terminach płatności podatków i ubezpieczeń w Twojej firmie.",infoAboutDescription:"(tytuł sugerowany na podstawie poprzedniej płatności)",period:"Cykl:",infoAboutPeriod:"(cykliczność obliczona na podstawie ostatnich płatności)",infoAboutTerm:"(przelew zostanie zrealizowany z datą bieżącą)",invoice:"Faktura:",nip:"Nip:"},hideTaskPopup:{text:"To jest zadanie cykliczne",thisTask:"Usuń zadanie",cycle:"Usuń całą serię",cancel:"Anuluj"},priority:{1:"Niski",5:"Średni",9:"Wysoki"},formOfTaxation:{1:"karta podatkowa",2:"ryczałt od przychodów",3:"na zasadach ogólnych",4:"podatek liniowy"},taxPaymentType:{1:"nie dotyczy",2:"miesięczny",3:"kwartalny"},zusSettings:{updateAmountDescription:"Zatwierdź lub zmodyfikuj obowiązujące Ciebie składki płatności do ZUS. Dzięki temu zadanie będzie zawierać właściwą kwotę.",emptyAmountDescription:"Zaktualizuj obowiązujące Ciebie składki płatności do ZUS. Dzięki temu zadanie będzie zawierać właściwą kwotę.",updateAmountAndAccountDescription:"Zatwierdź lub zmodyfikuj obowiązujące Ciebie składki płatności do ZUS oraz wskaż Twój indywidualny nr rachunku do wpłat na ZUS. Dzięki temu zadanie będzie zawierać właściwą kwotę i numer rachunku.",emptyAmountAndAccountDescription:"Zaktualizuj obowiązujące Ciebie składki płatności do ZUS oraz wskaż Twój indywidualny nr rachunku do wpłat na ZUS. Dzięki temu zadanie będzie zawierać właściwą kwotę i numer rachunku.",legalNote:"Wartości składek w szablonach są prezentowane na podstawie oficjalnych danych publikowanych przez Zakład Ubezpieczeń Społecznych. Wysokość składki dla Twojej firmy może być inna. Pamiętaj o jej aktualizacji zgodnie z obowiązującymi Twoją firmę przepisami.",selectZusAccountPlaceholder:"Wybierz z szablonu książki odbiorców",selectZusAccountLabel:"Rachunek ZUS",selectZusAccountInfo:"(zostanie zapisany jako domyślny, możesz go zmienić w ustawieniach)",addNewZusAccount:"Dodaj nowy",yes:"Tak",no:"Nie",healthInsurance:"Ubezpieczenie zdrowotne",socialSecurityInsurance:"Ubezpieczenie społeczne",pensionFund:"Fundusz Pracy i FGŚP",workFund:"Fundusz Emerytur Pomostowych",localCurrency:"PLN",selectTemplateLabel:"Wybierz z szablonu:",selectSicknessOptionLabel:"Składka chorobowa:",template:{MINNP:"ZUS preferencyjny (nowe firmy)",MINP:"Minimalne składki dla przedsiębiorcy",ZDR:"Tylko składka zdrowotna"}},emptyWeek:"Brak zaplanowanych zadań do wykonania w tym tygodniu."},notifications:{overdueTasksMessage:"Masz {0} zaległych, ważnych zadań z poprzednich dni.",matchedTasksMessage:"Oznaczyliśmy twoje zadania jako wykonane.",search:"Sprawdź"},transferDashboard:{balance:"dostępne środki",transfer:"Przelew",newDomestic:"do osoby lub firmy",toYourAccount:"na własne konto"}},latest:"Wiadomości",noMessages:"Nie masz wiadomości w skrzynce. Wejdź do mBank marketu - produkty bankowe i usługi dodatkowe w jednym miejscu!",showAllMessages:"Zobacz wszystkie",introSkip:"pomiń",transferCost:"Pierwszy przelew z konta eMAX plus w danym miesiącu kalendarzowym jest bezpłatny."}}}),define("desktop/js/app/i18n/en-GB",[],function(){return{"en-GB":{plannedOperations:"Planned operations",transfer:"Transfer",toYourAccount:"To your account",rechargePhone:"Recharge phone",freeResources:"Available money",balance:"Balance",moneyTransfer:"Money transfer",from:"From",to:"To",amount:"Amount",enterSmsCode:"SMS code",enterTanCode:"Tan code",ownFunds:"Own funds",currentCreditLimit:"Current credit limit",availableResources:"Available resources",plan:"Plan",submit:"Submit",cancel:"Cancel",help:"Help",settings:"Settings",savings:"Savings",commissionLabel:"Transfer cost",currentAccount:"Current Account",desktop:"Desktop",history:{empty:"We are waiting for your first operation :)",tabName:"Last operations",bottomTabName:"See whole history"},accounts:{empty:"No accounts",tabName:"Accounts list",summary:"Summary",balance:"Balance",availableBalance:"Available balance",history:"Operations history"},moneyBar:{notAvailableMessage:"Money bar is unavailable",buttons:{},availableAssets:{help:"Pasek finansów jest narzędziem, które możesz wykorzystywać do zarządzania planowanymi płatnościami i regulowania bieżących operacji. Zielona część reprezentuje Twoje konto rozliczeniowe, natomiast niebieska konto oszczędnościowe (jeśli je posiadasz)."},incomeSavings:{notEnoughMoneyError:"You do not have so many funds in your account",smsCodeError:"Invalid SMS code",smsCodeForDay:"(no. {0}, of {1})",tanNumber:"Number {0} of list number: {1}",transferFromEmax:"Transfer from Emax to Ekonto"},oneClick:{titleKG:"Kredyt gotówkowy",amountKG:"Kwota",periodKG:"Okres",maxKG:"max.",instalmentOneKG:"Liczba rat",instalmentTwoKG:"zależy od kwoty",instalmentKG:"Rata",instalmentMontlyKG:"Miesięczna rata",noteOneLinkTextKG:"Czytaj dalej.",noteTwoKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.",noteThreeKG:"Aby kontynuować zaznacz, że zapoznałeś się z dokumentami.",noteFourKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",noteFourKO:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Aneks kredytowy.",btnNextKG:"Dalej",btnAcceptKG:"Zatwierdź",btnCancelKG:"Odrzuć",documentsByMailKG:"Dokumenty kredytowe wyślemy do Ciebie mailem",amountModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",amountModificationGranted:"Dostępna kwota kredytu:",creditIncreaseModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",maxCreditIncrease:"Dostępna kwota podwyższenia",waitTitle:"Trwa rozpatrywanie Twojego wniosku.",waitText:"Poniżej 30 SEK.",titleKO:"Kredyt odnawialny",creditSuccessTitleKG:"Umowa została zaakceptowana",creditSuccessBodyKG:"Dodatkowe <strong>{0}</strong> wkrótce wpłynie na Twój rachunek.",creditSuccessTitleKO:"Aneks do umowy kredytu został zaakceptowany",creditSuccessBodyKO:"Limit kredytu odnawialnego został podwyższony do <strong>{0}</strong>.",refusalTitle:"Wniosek został rozpatrzony negatywnie",refusalBody:"Twój wniosek został rozpatrzony negatywnie z powodu braku zdolności kredytowej.",otherErrorTitle:"Przepraszamy, usługa chwilowo niedostępna",otherErrorBody:"Spróbuj za chwilę wykonać tą operację ponownie.",errorTitle:"Wystąpił błąd podczas rozpatrywania wniosku",monthKG:"miesiąc",monthsKG:"miesiące",months2KG:"miesięcy",currentLimitKO:"Obecny limit",previousLimitKO:"Dotychczasowy limit",increaseByKO:"Zwiększ o",increaseMaxKO:"max",newLimitKO:"Nowy limit",btnNextKO:"Dalej",pdfErrorNoteOneKG:"Dokumenty są w trakcie przygotowywania.",pdfErrorNoteTwoKG:"Kliknij za 10 sekund.",pdfExceptionNoteOneKG:"Wystąpił błąd w trakcie pobierania dokumentu.",pdfExceptionNoteTwoKG:"Spróbuj ponownie za chwilę.",pdfErrorBtnKG:"OK",creditNotExistsTitleKG:"Ta oferta jest już nieaktualna",creditNotExistsBodyKG:"Przejdź do Pasażu i sprawdź inne produkty kredytowe."},notAvailableErrorTitle:"Sorry,",notAvailableErrorMessage:"MoneyBar is currently unavailable"},lastLogin:{success:"Last successful login",unSuccess:"Last unsuccessful login",none:"none"},latest:"Messages",showAllMessages:"Show all",introSkip:"skip"}}}),define("desktop/js/app/i18n/sk-SK",[],function(){return{sk:{plannedOperations:"Plánované operácie",transfer:"Vykonať platbu",toYourAccount:"Na môj účet",rechargePhone:"Dobiť mobil",freeResources:"Disponibilný zostatok",balance:"Disponibilný zostatok",moneyTransfer:"Zadať sumu prevodu",from:"Z",to:"Na",amount:"Suma",enterSmsCode:"SMS kód",enterTanCode:"Jednorazové heslo",ownFunds:"Vlastné prostriedky",currentCreditLimit:"Aktuálny kreditný limit",availableResources:"Disponibilný zostatok",plan:"naplánovaných",submit:"Potvrdiť",cancel:"Zrušiť",help:"Pomoc",settings:"Nastavenia",savings:"Úspory",edit:"Upraviť",currentAccount:"Bežný účet",desktop:"Pulpit",pfm:{incomes:"Príjmy",expenses:"Výdavky",from:"od",to:"do"},history:{empty:"Čakáme na Vašu prvú operáciu",tabName:"Posledné operácie",bottomTabName:"Zobraziť celú históriu"},accounts:{empty:"Žiadny účet",tabName:"Zoznam účtov",summary:"Spolu",balance:"Zostatok",availableBalance:"Disponibilný zostatok",history:"História operácií",operations:{transfer:{own:"Previesť na vlastný účet",domestic:"Vykonať platbu",defined:"Preddefinovaná platba",zus:"Platba do zdravotnej/sociálnej poisťovne",tax:"Platba dane"},history:"História operácií"}},headers:{h1:{desktop:"Hlavné menu"},h2:{messages:"Správy",moneybar:"Moje peniaze",lastOperationsAndAccountsList:"Posledné operácie a zoznam účtov"}},moneyBar:{notAvailableMessage:'"Moje peniaze" nie sú nastavené.',buttons:{},availableAssets:{help:'"Moje peniaze" predstavujú stav účtu, a zohľadňujú plánované platby v období nazývanom "Môj mesiac".'},incomeSavings:{notEnoughMoneyError:"Na účte nie je dosatok prostriedkov",smsCodeError:"Nesprávny SMS kód",smsCodeForDay:"(č {0}. zo dňa {1})",tanNumber:"(č {1} zo zoznamu {0})",transferFromEmax:"Platba z Emax  na Ekonto"},oneClick:{titleKG:"Kredyt gotówkowy",amountKG:"Kwota",periodKG:"Okres",maxKG:"max.",instalmentOneKG:"Liczba rat",instalmentTwoKG:"zależy od kwoty",instalmentKG:"Rata",instalmentMontlyKG:"Miesięczna rata",noteOneLinkTextKG:"Czytaj dalej.",noteTwoKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.",noteThreeKG:"Aby kontynuować zaznacz, że zapoznałeś się z dokumentami.",noteFourKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",noteFourKO:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Aneks kredytowy.",btnNextKG:"Dalej",btnAcceptKG:"Zatwierdź",btnCancelKG:"Odrzuć",documentsByMailKG:"Dokumenty kredytowe wyślemy do Ciebie mailem",amountModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",amountModificationGranted:"Dostępna kwota kredytu:",creditIncreaseModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",maxCreditIncrease:"Dostępna kwota podwyższenia",waitTitle:"Trwa rozpatrywanie Twojego wniosku.",waitText:"Poniżej 30 SEK.",titleKO:"Kredyt odnawialny",creditSuccessTitleKG:"Umowa została zaakceptowana",creditSuccessBodyKG:"Dodatkowe <strong>{0}</strong> wkrótce wpłynie na Twój rachunek.",creditSuccessTitleKO:"Aneks do umowy kredytu został zaakceptowany",creditSuccessBodyKO:"Limit kredytu odnawialnego został podwyższony do <strong>{0}</strong>.",refusalTitle:"Wniosek został rozpatrzony negatywnie",refusalBody:"Twój wniosek został rozpatrzony negatywnie z powodu braku zdolności kredytowej.",otherErrorTitle:"Przepraszamy, usługa chwilowo niedostępna",otherErrorBody:"Spróbuj za chwilę wykonać tą operację ponownie.",errorTitle:"Wystąpił błąd podczas rozpatrywania wniosku",monthKG:"miesiąc",monthsKG:"miesiące",months2KG:"miesięcy",currentLimitKO:"Obecny limit",previousLimitKO:"Dotychczasowy limit",increaseByKO:"Zwiększ o",increaseMaxKO:"max",newLimitKO:"Nowy limit",btnNextKO:"Dalej",pdfErrorNoteOneKG:"Dokumenty są w trakcie przygotowywania.",pdfErrorNoteTwoKG:"Kliknij za 10 sekund.",pdfExceptionNoteOneKG:"Wystąpił błąd w trakcie pobierania dokumentu.",pdfExceptionNoteTwoKG:"Spróbuj ponownie za chwilę.",pdfErrorBtnKG:"OK",creditNotExistsTitleKG:"Ta oferta jest już nieaktualna",creditNotExistsBodyKG:"Przejdź do Pasażu i sprawdź inne produkty kredytowe."},notAvailableErrorTitle:"Prepáčte,",notAvailableErrorMessage:'"Moje peniaze" sú v tejto chvíli nedostupné'},lastLogin:{success:"Posledné úspešné prihlásenie",unSuccess:"Posledné neúspešné prihlásenie",none:"nie je"},latest:"Správy",noMessages:"Nemáte žiadné správy. Zatiaľ sa ale môžete pozrieť, čo je v ponuke nášho Supermarketu.",showAllMessages:"Zobraziť všetky",introSkip:"preskočiť",transferCost:"Platba z eMAX+ na mKONTO je bezplatná."}}}),define("desktop/js/app/i18n/cs-CZ",[],function(){return{cs:{plannedOperations:"Plánované operace",transfer:"Provést platbu",toYourAccount:"Převést na vlastní účet",rechargePhone:"Dobít mobil",freeResources:"Volné prostředky",balance:"Dostupné prostředky",moneyTransfer:"Zadat částku převodu",from:"Z",to:"Na",amount:"Částka",enterSmsCode:"SMS kód",enterTanCode:"Jednorazové heslo",ownFunds:"Vlastní prostředky",currentCreditLimit:"Aktuální kreditní limit",availableResources:"Dostupné prostředky",plan:"Naplánovat",submit:"Potvrdit",cancel:"Zrušit",help:"Pomoc",settings:"Nastavení",savings:"Úspory",edit:"Upravit",currentAccount:"Běžný úćet",desktop:"Pulpit",pfm:{incomes:"Příjmy",expenses:"Výdavky",from:"od",to:"do"},history:{empty:"Těšíme se na vaší první operaci :)",tabName:"Poslední operace",bottomTabName:"Zobrazit celou historii"},accounts:{empty:"Žádný účet",tabName:"Seznam účtů",summary:"Součet",balance:"Zůstatek",availableBalance:"Disponibilní zůstatek",history:"Historie operací",operations:{transfer:{own:"Převést na vlastní účet",domestic:"Provést platbu",defined:"Předdefinovaná platba",zus:"Platba za sociální / zdravotní pojištění",tax:"Platba daně"},history:"Historie operací"}},headers:{h1:{desktop:"Hlavní menu"},h2:{messages:"Zprávy",moneybar:"Panel financí",lastOperationsAndAccountsList:"Poslední operace a seznam účtů"}},moneyBar:{notAvailableMessage:"Panel financí není zkonfigurován.",buttons:{},availableAssets:{help:'Panel financí zobrazuje stav účtu spolu s plánovanými operacemi v období  "Můj měsíc".'},incomeSavings:{notEnoughMoneyError:"Na účtu není dostatek prostředků",smsCodeError:"Nesprávný SMS kód",smsCodeForDay:"(č {0}. ze dne {1})",tanNumber:"(č {1} se seznamu {0})",transferFromEmax:"Platba z Emax na Ekonto"},oneClick:{titleKG:"Kredyt gotówkowy",amountKG:"Kwota",periodKG:"Okres",maxKG:"max.",instalmentOneKG:"Liczba rat",instalmentTwoKG:"zależy od kwoty",instalmentKG:"Rata",instalmentMontlyKG:"Miesięczna rata",noteOneLinkTextKG:"Czytaj dalej.",noteTwoKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.",noteThreeKG:"Aby kontynuować zaznacz, że zapoznałeś się z dokumentami.",noteFourKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",noteFourKO:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Aneks kredytowy.",btnNextKG:"Dalej",btnAcceptKG:"Zatwierdź",btnCancelKG:"Odrzuć",documentsByMailKG:"Dokumenty kredytowe wyślemy do Ciebie mailem",amountModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",amountModificationGranted:"Dostępna kwota kredytu:",creditIncreaseModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",maxCreditIncrease:"Dostępna kwota podwyższenia",waitTitle:"Trwa rozpatrywanie Twojego wniosku.",waitText:"Poniżej 30 SEK.",titleKO:"Kredyt odnawialny",creditSuccessTitleKG:"Umowa została zaakceptowana",creditSuccessBodyKG:"Dodatkowe <strong>{0}</strong> wkrótce wpłynie na Twój rachunek.",creditSuccessTitleKO:"Aneks do umowy kredytu został zaakceptowany",creditSuccessBodyKO:"Limit kredytu odnawialnego został podwyższony do <strong>{0}</strong>.",refusalTitle:"Wniosek został rozpatrzony negatywnie",refusalBody:"Twój wniosek został rozpatrzony negatywnie z powodu braku zdolności kredytowej.",otherErrorTitle:"Przepraszamy, usługa chwilowo niedostępna",otherErrorBody:"Spróbuj za chwilę wykonać tą operację ponownie.",errorTitle:"Wystąpił błąd podczas rozpatrywania wniosku",monthKG:"miesiąc",monthsKG:"miesiące",months2KG:"miesięcy",currentLimitKO:"Obecny limit",previousLimitKO:"Dotychczasowy limit",increaseByKO:"Zwiększ o",increaseMaxKO:"max",newLimitKO:"Nowy limit",btnNextKO:"Dalej",pdfErrorNoteOneKG:"Dokumenty są w trakcie przygotowywania.",pdfErrorNoteTwoKG:"Kliknij za 10 sekund.",pdfExceptionNoteOneKG:"Wystąpił błąd w trakcie pobierania dokumentu.",pdfExceptionNoteTwoKG:"Spróbuj ponownie za chwilę.",pdfErrorBtnKG:"OK",creditNotExistsTitleKG:"Ta oferta jest już nieaktualna",creditNotExistsBodyKG:"Przejdź do Pasażu i sprawdź inne produkty kredytowe."},notAvailableErrorTitle:"Promiňte,",notAvailableErrorMessage:"Panel financí není momentálně dostupný"},lastLogin:{success:"Poslední úspěšné přihlášení ",unSuccess:"Poslední neúspěšné přihlášení",none:"chybí"},latest:"Zprávy",noMessages:"Nemáte žádné zprávy. Zatím sa ale můžete mrknout, co má v nabídce náš Supermarket.",showAllMessages:"Zobrazit všechny",introSkip:"přeskočit",transferCost:"První převod z účtu eMAX+ v měsíci je zdarma."}}}),define("desktop/js/app/i18n/pl-OR",[],function(){return{or:{plannedOperations:"Operacje zaplanowane",transfer:"Wykonaj przelew",toYourAccount:"Na własne konto",rechargePhone:"Doładuj telefon",freeResources:"Wolne środki",balance:"Dostępne środki",moneyTransfer:"Podaj kwotę przelewu",from:"Z",to:"Na",amount:"Kwota",enterSmsCode:"Hasło SMS",enterTanCode:"Hasło jednorazowe",ownFunds:"Środki własne",currentCreditLimit:"Aktualny limit kredytowy",availableResources:"Dostępne środki",plan:"Zaplanuj",submit:"Zatwierdź",cancel:"Anuluj",help:"Pomoc",settings:"Ustawienia",savings:"Oszczędności",commissionLabel:"Koszt przelewu",edit:"Edytuj",currentAccount:"Rachunek bieżący",desktop:"Pulpit",pfm:{incomes:"Wpływy",expenses:"Wydatki",from:"od",to:"do"},history:{empty:"Czekamy na Twoją pierwszą operację :)",tabName:"Ostatnie operacje",bottomTabName:"Zobacz całą historię"},accounts:{empty:"Brak rachunków na liście",tabName:"Lista rachunków",summary:"Razem",balance:"Saldo",availableBalance:"Dostępne środki"},moneyBar:{notAvailableMessage:"Pasek finansów nie jest skonfigurowany.",buttons:{},availableAssets:{help:"Pasek finansów prezentuje stan Twojego konta uwzględniając płatności zaplanowane w danym okresie rozliczeniowym zwanym Moim miesiącem. Korzystając ze skrótów możesz w łatwy sposób zlecać przelewy i doładowywać telefon."},incomeSavings:{notEnoughMoneyError:"Nie posiadasz tylu środków na koncie",smsCodeError:"Nieprawidlowy kod SMS",smsCodeForDay:"(nr {0}. z dnia {1})",tanNumber:"(nr {1} z listy {0})",transferFromEmax:"Wykonaj przelew z Emax na Ekonto"},oneClick:{titleKG:"Kredyt gotówkowy",amountKG:"Kwota",periodKG:"Okres",maxKG:"max.",instalmentOneKG:"Liczba rat",instalmentTwoKG:"zależy od kwoty",instalmentKG:"Rata",instalmentMontlyKG:"Miesięczna rata",noteOneLinkTextKG:"Czytaj dalej.",noteTwoKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.",noteThreeKG:"Aby kontynuować zaznacz, że zapoznałeś się z dokumentami.",noteFourKG:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Umowę kredytową.",noteFourKO:"Zapoznałem się z dokumentami kredytowymi i akceptuję ich treść.<br/>Klikając Zatwierdź składasz Wniosek i zawierasz Aneks kredytowy.",btnNextKG:"Dalej",btnAcceptKG:"Zatwierdź",btnCancelKG:"Odrzuć",documentsByMailKG:"Dokumenty kredytowe wyślemy do Ciebie mailem",amountModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",amountModificationGranted:"Dostępna kwota kredytu:",creditIncreaseModificationTitle:"Kwota, o którą wnioskujesz, jest zbyt wysoka.",maxCreditIncrease:"Dostępna kwota podwyższenia",waitTitle:"Trwa rozpatrywanie Twojego wniosku.",waitText:"Poniżej 30 SEK.",titleKO:"Kredyt odnawialny",creditSuccessTitleKG:"Umowa została zaakceptowana",creditSuccessBodyKG:"Dodatkowe <strong>{0}</strong> wkrótce wpłynie na Twój rachunek.",creditSuccessTitleKO:"Aneks do umowy kredytu został zaakceptowany",creditSuccessBodyKO:"Limit kredytu odnawialnego został podwyższony do <strong>{0}</strong>.",refusalTitle:"Wniosek został rozpatrzony negatywnie",refusalBody:"Twój wniosek został rozpatrzony negatywnie z powodu braku zdolności kredytowej.",otherErrorTitle:"Przepraszamy, usługa chwilowo niedostępna",otherErrorBody:"Spróbuj za chwilę wykonać tą operację ponownie.",errorTitle:"Wystąpił błąd podczas rozpatrywania wniosku",monthKG:"miesiąc",monthsKG:"miesiące",months2KG:"miesięcy",currentLimitKO:"Obecny limit",previousLimitKO:"Dotychczasowy limit",increaseByKO:"Zwiększ o",increaseMaxKO:"max",newLimitKO:"Nowy limit",btnNextKO:"Dalej",pdfErrorNoteOneKG:"Dokumenty są w trakcie przygotowywania.",pdfErrorNoteTwoKG:"Kliknij za 10 sekund.",pdfExceptionNoteOneKG:"Wystąpił błąd w trakcie pobierania dokumentu.",pdfExceptionNoteTwoKG:"Spróbuj ponownie za chwilę.",pdfErrorBtnKG:"OK",creditNotExistsTitleKG:"Ta oferta jest już nieaktualna",creditNotExistsBodyKG:"Przejdź do Pasażu i sprawdź inne produkty kredytowe."},notAvailableErrorTitle:"Przepraszam,",notAvailableErrorMessage:"Pasek finansów jest w tej chwili niedostępny"},latest:"Wiadomości",noMessages:"Nie masz wiadomości w skrzynce, przejdż do sekcji z ofertą bankową.",showAllMessages:"Zobacz wszystkie",introSkip:"pomiń",transferCost:"Pierwszy przelew z Konta Oszczędnościowego w danym miesiącu kalendarzowym jest bezpłatny."}}}),define("desktop/js/app/locale",["./i18n/pl-PL","./i18n/en-GB","./i18n/sk-SK","./i18n/cs-CZ","./i18n/pl-OR"],function(e,t,n,i,o){return _.extend({},e,t,n,i,o)}),define("desktop/js/app/main",["./app","./locale"],function(e,t){"use strict";function n(){I18n.translations=$.extend(!0,{},I18n.translations,t)}return{initialize:function(){n(),e.unloadLayout(),e.initLayout()},destroy:function(){e.unloadLayout()}}}),define("text!desktop/templates/tabmenu.html",[],function(){return' <div class="section-nav">\r\n     <ul class="nav-horizontal" role="tablist"></ul>\r\n</div>\r\n<span class="underline-decoration transparent">\r\n    <span class="hover"></span>\r\n</span>'}),define("desktop/js/app/views/tabmenu-item",[],function(){return Backbone.Marionette.ItemView.extend({template:'<a href="{{ link }}">{{ i18n(text) }}</a>',tagName:"li",className:"sub-item",attributes:{role:"tab"},events:{click:"setActiveTab"},initialize:function(){this.model.on("selected",this.itemSelected,this)},setActiveTab:function(e){e.preventDefault(),this.$el.addClass("active").siblings().removeClass("active"),this.model.trigger("fire",this.model.get("triggers"))},itemSelected:function(e,t){this.$el.addClass("active").siblings().removeClass("active"),this.$el.attr("aria-selected","true").siblings().attr("aria-selected","false")}})}),define("desktop/js/services",["./app/app"],function(e){return{GetMoneyBarData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.GetMoneyBarData,data:"{}",unique:"lastwins",groupName:"Desktop-MoneyBar-GetMoneyBarData",error:function(e,t){$("#desktop-app-view .moneybar-region, #desktop-app-view .moneybar-preloader").remove(),Ebre.Common.createErrorMessage(e)}}).success(function(t){e.success(t)})},PrepareTransfer:function(){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.PrepareTransfer,error:function(t,n){e.trigger("savings-tooltip:reset"),Ebre.Common.createErrorMessage(t)}})},Transfer:function(t){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.Transfer,data:{amount:t.amount},dataType:"json",contentType:"application/x-www-form-urlencoded;charset=UTF-8",error:function(t,n){e.trigger("savings-tooltip:reset"),Ebre.Common.createErrorMessage(t)}}).success(function(e){"S"==e.authType&&(e.authMessageParam2=I18n.strftime(I18n.parseDate(e.authMessageParam2),"%d.%m.%Y")),t.success(e)})},ConfirmTransfer:function(t){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.ConfirmTransfer,data:{amount:t.data.amount,authCode:t.data.authCode,authType:t.data.authType},contentType:"application/x-www-form-urlencoded;charset=UTF-8",error:function(t,n){e.trigger("savings-tooltip:reset"),Ebre.Common.createErrorMessage(t)}}).success(function(e){t.success(e)})},GetPfmData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.Pfm.ServiceUrl.GetPfmData,data:"{}"}).success(function(t){e.success(t)})},GetLastOperations:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.History.ServiceUrl.GetLastOperations,data:"{}",unique:"lastwins",groupName:"Desktop-TOP7-GetLastOperations"}).success(function(t){e.success(t)})},GetAccountsList:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.Accounts.ServiceUrl.GetAccountsList,data:"{}",unique:"lastwins",groupName:"Desktop-Accounts-GetAccountsList"}).success(function(t){e.success(t)})},SetNavigationDataForMoneyBar:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.SetNavigationDataForMoneyBar,data:{link:e.params.link},contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)})},SetNavigationDataForAccounts:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.SetNavigationDataForAccounts,data:{link:e.params.link,senderAccount:e.params.senderAccount,currency:e.params.currency},contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)})},SetNavigationDataForHistory:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.SetNavigationDataForHistory,data:{transactionId:e.params.transactionId,authorizationId:e.params.authorizationId,accountNumber:e.params.accountNumber,creditCardNumber:e.params.creditCardNumber,openEdition:e.params.openEdition},contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)})},SetNavigationToAccountHistory:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.SetNavigationToAccountHistory,data:{accountNumber:e.params.accountNumber},contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)})},SetNavigationDataForAccount:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.Accounts.ServiceUrl.SetNavigationDataForAccount,data:{accountNumber:e.accountNumber},contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)})},SaveDefaultDesktopViewType:function(e){Ebre.Modules.Desktop.Accounts.defaultDesktopTab!=e.viewType&&(Ebre.Modules.Desktop.Accounts.defaultDesktopTab=e.viewType,Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.Accounts.ServiceUrl.SaveDefaultDesktopViewType,data:{viewType:e.viewType},contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){Ebre.Modules.Desktop.Accounts.defaultDesktopTab=e.viewType}))},OneClickCalculateInstallmentKG:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickCalculateInstallmentKG,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickSaveKG:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickSaveKG,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickSaveKO:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickSaveKO,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickSaveUKO:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickSaveUKO,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickSaveUKK:function(e){JSON.stringify(e.params);Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickSaveUKK,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickSaveUSRQC:function(e){JSON.stringify(e.params);Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickSaveUSRQC,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickSavePKK:function(e){JSON.stringify(e.params);Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickSavePKK,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickConfirmKG:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickConfirmKG,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickGetPDF:function(e){var t=Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetPDF;t+="?uwApplicationId="+encodeURIComponent(e.params.uwApplicationId),t+="&symbol="+encodeURIComponent(e.params.symbol),t+="&title="+encodeURIComponent(e.params.title),t+="&bankSymbol="+encodeURIComponent(e.params.bankSymbol),Ebre.Proxy.VeneziaDownloadPrintout(t,{},{fn:function(t,n){""!=t&&(-1!==t.indexOf(Ebre.Modules.Desktop.OneClickDocumentNotReady)?e.error(!1):e.error(!0))},scope:this},{fn:function(t){e.success()},scope:this})},OneClickGetPdfStatus:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetPDFStatus,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickPrepareConfirm:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickPrepareConfirm,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickGetConfig:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetConfig,data:e.params,contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).success(function(t){e.success(t)})},OneClickGetUKKInitData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetUKKInitData,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickCalculateInstallmentUKK:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickCalculateInstallmentUKK,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickCalculateInstallmentUSRQC:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickCalculateInstallmentUSRQC,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickGetUKOInitData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetUKOInitData,data:JSON.stringify(e.params)}).success(function(t){e.success(t)})},OneClickGetUSRQCInitData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetUSRQCInitData,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},OneClickGetPKKInitData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetPKKInitData,data:JSON.stringify(e.params)}).success(function(t){e.success(t)})},OneClickGetCreditCardCurrentDebt:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.OneClickGetCreditCardCurrentDebt,data:JSON.stringify(e.params)}).success(function(t){e.success(t)}).error(function(){e.error()})},GetTasks:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetTasks,error:function(e,t){(e||Ebre.Venezia.Rodo)&&Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},GetAllTasksForDay:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetAllTasksForDay,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},GetPaymentLink:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetPaymentLink,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},GetZusAccounts:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetZusAccounts,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},SetTaskDone:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.SetTaskDone,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success()})},UndoTask:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.UndoTask,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success()})},HideTask:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.HideTask,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success()})},HideTaskDefinition:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.HideTaskDefinition,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success()})},MarkTaskAsSeen:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.MarkTaskAsSeen,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success()})},GetNotificationAboutOverdueTasks:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetNotificationAboutOverdueTasks,error:function(e){(e||Ebre.Venezia.Rodo)&&Ebre.Common.createErrorMessage(e)},data:"{}"}).success(function(t){e.success(t)})},GetNotificationAboutMatchedTasks:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetNotificationAboutMatchedTasks,error:function(e){(e||Ebre.Venezia.Rodo)&&Ebre.Common.createErrorMessage(e)},data:"{}"}).success(function(t){e.success(t)})},SetNavigationDataForTasksList:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.SetNavigationDataForTasksList,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},ConfirmCompanyDetails:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.ConfirmCompanyDetails,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},GetInternalLink:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.GetInternalLink,error:function(t){Ebre.Common.createErrorMessage(t),e.error()},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},DoExternalRedirect:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.DoExternalRedirect,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},SaveTaskCreatorNavigationData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.SaveTaskCreatorNavigationData,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},SetZusSettingsFromTemplate:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.SetZusSettingsFromTemplate,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},SetZusSettingsAddressBookTemplate:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.SetZusSettingsAddressBookTemplate,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},SetSettingsNavigationData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.TasksCenter.ServiceUrl.SetSettingsNavigationData,error:function(e){Ebre.Common.createErrorMessage(e)},data:JSON.stringify(e.data)}).success(function(t){e.success(t)})},GetDirectCreditOfferData:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.GetDirectCreditOfferData,error:function(e,t){Ebre.Common.createErrorMessage(e)}}).success(function(t){e.success(t)})},GetDirectCreditOfferDataForFirm:function(e){Ebre.Proxy.VeneziaPostJSON({url:Ebre.Modules.Desktop.MoneyBar.ServiceUrl.GetDirectCreditOfferDataForFirm,error:function(e,t){Ebre.Common.createErrorMessage(e)}}).success(function(t){e.success(t)})}}}),define("desktop/js/app/views/tabmenu",["text!desktop/templates/tabmenu.html","./tabmenu-item","../../services"],function(e,t,n){return Backbone.Marionette.CompositeView.extend({template:e,itemView:t,tagName:"div",className:"section-header normal-view",fireOnApp:function(e){_.isEmpty(e)||this.app.trigger(e)},initialize:function(e){function t(e,t){var r=this.collection.find(function(t){return t.get("name")===e});o.on("show:"+e,function(){r.trigger("selected"),i.underlineActiveItem(),n.SaveDefaultDesktopViewType({viewType:t})},this)}var i=this,o=e.app,r=e.collection;this.collection=r,this.app=o,this.bindTo(this.collection,"fire",this.fireOnApp,this),this.collection.each(function(e){t.call(i,e.get("name"),e.get("viewType"))})},underlineActiveItem:function(){this.hover=this.$(".underline-decoration > .hover");var e=this.$("li.active");e.length&&this.hover.stop().animate({width:e.width(),left:e.position().left+parseInt(e.css("margin-left"),10)},800)},appendHtml:function(e,t){var n=t.model.get("controlsTab"),i=t.model.get("name")+"TabId",o=t.model.get("gemiusActionId"),r=t.model.get("gemiusActionName"),n=t.model.get("name")+"TabPanelContainer";t.$el.attr("aria-controls",n),t.$el.attr("id",i),t.$el.attr("data-gemius-event-type","action"),t.$el.attr("data-gemius-event-action-id",o),t.$el.attr("data-gemius-event-action-name",r),e.$(".section-nav .nav-horizontal").append(t.el)}})}),define("text!desktop/templates/moneybar/moneybar-layout.html",[],function(){return'<div class="container">\r\n    <article id="desktop-article">\r\n\t    <div class="message-box box-wrapper"></div>\r\n        <div class="money-bar">\r\n            <div class="headers"></div>\r\n            <div class="bars">\r\n                <div class="income-credit section">\r\n                    <div class="bar"></div>\r\n                </div>\r\n                <div class="available-assets section"></div>\r\n                <div class="income-savings section"></div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n</div>\r\n'}),define("desktop/js/moneybar/models/money-bar",["../../app/app","../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({initialize:function(){},sync:function(e,i,o){"read"===e&&t.GetMoneyBarData({success:o.success,error:n||o.error})},afterSync:function(){this.get("currentAccNumber")?this.set("currentAccountDescription",this.get("currentAccName")?Ebre.Extensions.format("{0} {1}",this.get("currentAccName"),this.get("currentAccNumber")):this.get("currentAccNumber"),{silent:!0}):this.set("currentAccountDescription","",{silent:!0}),this.get("savingAccNumber")?this.set("savingsAccountDescription",this.get("savingAccName")?Ebre.Extensions.format("{0} {1}",this.get("savingAccName"),this.get("savingAccNumber")):this.get("savingAccNumber"),{silent:!0}):this.set("savingsAccountDescription","",{silent:!0})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-KG.html",[],function(){return'<div id="oc-KG-instalment-calc">\r\n    <table class="table">\r\n        <tr>\r\n            <th>\r\n                {{I18n.t(\'moneyBar.oneClick.amountKG\')}}<br />\r\n                {{I18n.t(\'moneyBar.oneClick.maxKG\')}} {{I18n.toCurrency(maxAmount, {delimiter: " ", separator: "", precision: 0})}} {{currency}}\r\n            </th>\r\n            <td>\r\n                <div class="row validation">\r\n                    <div class="input">\r\n                        <input id="oc-KG-inp-amount" type="text" value="{{defaultAmount}}" /> {{currency}}\r\n                    </div>\r\n                    <span class="error"></span>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n                <p>\r\n                    {{I18n.t(\'moneyBar.oneClick.instalmentOneKG\')}}<br />\r\n                    {{I18n.t(\'moneyBar.oneClick.instalmentTwoKG\')}}\r\n                </p>\r\n            </th>\r\n            <td>\r\n                <div id="slider">\r\n                    <div class="active" data-active="">\r\n                        <span>{{defaultPeriod}}</span>\r\n                    </div>\r\n                    <div class="line">\r\n                    </div>\r\n                    <ul style="left: 0px">\r\n                    </ul>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n                {{I18n.t(\'moneyBar.oneClick.instalmentMontlyKG\')}}\r\n            </th>\r\n            <td>\r\n                <span class="amount">{{l10nCurrency(defaultInstalment, currency)}}</span> <span class="currency">\r\n                    {{currency}}</span>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n            </th>\r\n            <td>\r\n                <a id="oc-KG-btn-accept" href="#" class="btn-red-gradient">{{I18n.t(\'moneyBar.oneClick.btnNextKG\')}}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th class="long" colspan="2">\r\n                {{disclaimerText}} <a id="oc-disclaimer-link" href="#" title="" target="_blank">\r\n                    {{I18n.t(\'moneyBar.oneClick.noteOneLinkTextKG\')}}</a>\r\n            </th>\r\n        </tr>\r\n    </table>\r\n    <div class="infoBox">\r\n        <span class="button show"> </span>\r\n        <div class="containerInfoBox">\r\n            <div class="scroll">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-KG-amount-modification" class="content-tooltip medium" style="display: none">\r\n    <h4>\r\n        {{I18n.t(\'moneyBar.oneClick.amountModificationTitle\')}}</h4>\r\n    <div class="activeAmount">\r\n        <div class="label">\r\n            {{I18n.t(\'moneyBar.oneClick.amountModificationGranted\')}}</div>\r\n        <div class="data">\r\n            <span class="amount"></span><span class="currency"> {{currency}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="actions">\r\n        <a class="btn-red-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnAcceptKG\')}}</a>\r\n        <a class="btn-gray-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnCancelKG\')}}</a>\r\n    </div>\r\n</div>\r\n<div id="oc-KG-wait" class="content-tooltip loading long" style="display: none;">\r\n    <h3>\r\n        {{I18n.t(\'moneyBar.oneClick.waitTitle\')}}</h3>\r\n    <div class="loader">\r\n        {{I18n.t(\'moneyBar.oneClick.waitText\')}}\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-KG-view",["../../../../app/app","text!desktop/templates/moneybar/one-click-tooltips/oc-KG.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"oc-KG-start",amountTimer:void 0,amountReady:!0,infoBoxTimeout:!1,infoBoxStatus:!1,infoBoxHidingTime:350,events:{"click #oc-KG-btn-accept":function(){if(this.amountReady)return this.hideInfoBox(0),$("#oc-KG-tooltip .ui-tooltip-title h5").text(""),this.showInMode("W"),this.saveData(),!1},"blur #oc-KG-inp-amount":"onAmountBlur","keypress  #oc-KG-inp-amount":"onAmountKeypress","click #oc-KG-amount-modification .btn-red-gradient":"onAmountModifiedConfirm","click #oc-KG-amount-modification .btn-gray-gradient":function(){return e.trigger("oc-tooltip:close"),!1},"mouseover .infoBox:not(.disabled) .button":"infoBoxButtonShow","mouseleave .infoBox:not(.disabled) .button":"infoBoxButtonHide","mouseleave .infoBox:not(.disabled) .containerInfoBox":"infoBoxButtonHide"},onAmountKeypress:function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=$(e.currentTarget),n=e.which,i=e.keyCode;if(13===n)return t.blur(),!0;if(n>=48&&n<=57||8===i||(37===i||39===i||46===i)&&0===n){var o=this;return this.setAmountState(!1),void 0!=this.amountTimer&&clearTimeout(this.amountTimer),this.amountTimer=setTimeout(function(){o.setAmountValue(e)},2e3),!0}return!1},setAmountState:function(e){this.amountReady!==e&&(this.amountReady=e,e?(this.$el.find("#oc-KG-btn-accept").css("cursor","pointer"),this.$el.find("#oc-KG-btn-accept").animate({opacity:"1"},200)):(this.$el.find("#oc-KG-btn-accept").css("cursor","default"),this.$el.find("#oc-KG-btn-accept").animate({opacity:"0.5"},200)))},onAmountBlur:function(e){void 0!==this.amountTimer&&clearTimeout(this.amountTimer),this.setAmountValue(e)},setAmountValue:function(e){return this.prepareAmountValue(this,$(e.currentTarget))>0&&this.calculateInstallmentKG(!0),!1},prepareAmountValue:function(e,t){var n=t.val().replace(" ","");if(n=new RegExp("^\\d+$").test(n)?Ebre.Common.toNumber(n).valueOf():0,e.model.get("defaultAmount")!==n){var i=e.model.get("minAmount"),o=e.model.get("maxAmount"),r=e.model.get("amountStep");return n<i?n=i:n>o?n=o:n%r!=0&&(n=Math.round(n/r)*r),t.val(I18n.toCurrency(n,{delimiter:" ",separator:"",precision:0})),e.model.set("defaultAmount",n),n}return 0},infoBoxButtonShow:function(e){this.infoBoxStatus||this.showInfoBox()},infoBoxButtonHide:function(e){var t=$(e.relatedTarget);if((t.parents(".containerInfoBox").length||t.hasClass("containerInfoBox"))&&this.infoBoxStatus)return!0;this.infoBoxStatus&&this.hideInfoBox()},showInfoBox:function(){var e=this,t=$("#oc-KG-tooltip"),n=e.$(".infoBox"),i=n.find(".containerInfoBox").outerWidth(),o=t.width();e.infoBoxStatus=!0,n.addClass("disabled"),void 0===t.attr("data-width")&&t.attr("data-width",o),t.stop().animate({width:o+i},{duration:350,step:function(e){n.css("right",e-o-i)},complete:function(){n.find(".button").addClass("showBtn"),n.removeClass("disabled")}})},hideInfoBox:function(e){var t=this,n=$("#oc-KG-tooltip"),i=t.$(".infoBox"),o=parseFloat(n.attr("data-width")),r=i.find(".containerInfoBox").outerWidth();void 0===e&&(e=this.infoBoxHidingTime),t.infoBoxTimeout=!0,i.addClass("disabled"),t.infoBoxStatus=!1,n.stop().animate({width:o},{duration:e,step:function(e){i.css("right",e-o-r)},complete:function(){i.find(".button").removeClass("showBtn"),i.removeClass("disabled")}})},hideInfoBoxDelay:function(e){var t=this;setTimeout(function(){t.infoBoxTimeout||t.hideInfoBox()},e)},onRender:function(){var t=this;$("#oc-KG-tooltip .ui-tooltip-title h5").text(I18n.t("moneyBar.oneClick.titleKG")),this.$el.find("#oc-disclaimer-link").attr("href",this.model.get("disclaimerUrl")),this.$el.find(".infoBox .scroll").text(this.model.get("loanExample")),setTimeout(function(){t.slide.init(t),t.slide.renderPeriodsHtml(0),e.trigger("oc-tooltip:reposition")},0),setTimeout(function(){t.showInfoBox(),t.hideInfoBoxDelay(4e4),t.$(".infoBox .containerInfoBox").jScrollPane()},500)},calculateInstallmentKG:function(t){var n=this;e.trigger("oc-tooltip:show-mask",!0),this.model.fetch({success:function(){if(999===n.model.get("minimumPeriod")||n.model.isMinimumPeriodOutside())return e.trigger("oc-tooltip:close"),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.creditNotExistsTitleKG"),message:I18n.t("moneyBar.oneClick.creditNotExistsBodyKG"),cssStyle:"error-conditional"}),void e.updateOneClickPlaceholder();n.renderPartial(t),n.$el.find("#oc-KG-inp-amount").val(I18n.toCurrency(n.model.get("defaultAmount"),{delimiter:" ",separator:"",precision:0})),e.trigger("oc-tooltip:show-mask",!1)},error:function(){e.trigger("oc-tooltip:close")}})},renderPartial:function(e){this.$el.find("#oc-KG-instalment-calc span.amount").text(Ebre.Common.formatNumber(this.model.get("defaultInstalment"))),this.setAmountState(!0);var t=this;e&&setTimeout(function(){t.slide.renderPeriodsHtml(500)},0)},saveData:function(){var t=this;this.model.save(void 0,{success:function(n){var i="",o="";n.get("success")?n.get("amountModified")?t.showAmountModification():e.trigger("oc-KG-tooltip:confirm",t.model.attributes):(e.trigger("oc-tooltip:close"),""!=n.get("error")?(o=I18n.t("moneyBar.oneClick.otherErrorTitle"),i=I18n.t("moneyBar.oneClick.otherErrorBody")):""!=n.get("message")&&(o=I18n.t("moneyBar.oneClick.refusalTitle"),i=n.get("message"),e.updateOneClickPlaceholder()),Ebre.Common.createMessage({title:o,message:i,cssStyle:"error-conditional"}))},error:function(){e.trigger("oc-tooltip:close")}})},prepareConfirm:function(){var t=this;this.model.prepareConfirm({success:function(){e.trigger("oc-tooltip:show-mask",!1),e.trigger("oc-KG-tooltip:confirm",t.model.attributes)},error:function(){e.trigger("oc-tooltip:close")}})},onAmountModifiedConfirm:function(){return e.trigger("oc-tooltip:show-mask",!0),this.prepareConfirm(),!1},showAmountModification:function(){this.model.set("defaultAmount",this.model.get("grantedAmount")),this.$el.find("#oc-KG-amount-modification span.amount").text(Ebre.Common.formatNumber(this.model.get("defaultAmount"))),this.showInMode("M")},showInMode:function(t){var n=this.$el.find("#oc-KG-instalment-calc"),i=this.$el.find("#oc-KG-amount-modification"),o=this.$el.find("#oc-KG-wait");switch(t){case"M":$("#oc-KG-tooltip .ui-tooltip-title a").show(),n.hide(),i.show(),o.hide();break;case"W":$("#oc-KG-tooltip .ui-tooltip-title a").hide(),n.hide(),i.hide(),o.show()}e.trigger("oc-tooltip:reposition")},slide:{slider:null,width:26,w:0,position:"",text:"",eq:"",view:null,draggingStarted:null,init:function(e){this.view=e,this.slider=this.view.$el.find("#slider"),this.container=this.slider.find("ul"),this.active=this.slider.find(".active"),this.width=26,this.w=0,this.position="",this.text="",this.eq="",this.draggingStarted=!1,this.bindChangeVal(),this.draggable()},renderPeriodsHtml:function(e){var t="",n=this;_.each(this.view.model.get("periods"),function(e){e>=n.view.model.get("minimumPeriod")&&(t+="<li><span>"+e+"</span></li>")}),this.container.html(t),this.elements=this.container.find("li"),this.allWidth=this.width*this.elements.length,this.slider.find(".line").animate({width:this.allWidth-2},e),this.slider.animate({width:this.allWidth},e),this.sliderWidth=this.allWidth,this.sliderHalf=this.sliderWidth/2,this.setActive(e),this.bindElClick()},setActive:function(e){var t=this.view.model.getDefaultPeriodData();this.active.find("span").text(t.value),this.active.animate({left:t.index*this.width-this.w},e),1===this.elements.length?(this.active.addClass("disabled"),this.active.draggable("disable")):(this.active.removeClass("disabled"),this.active.draggable("enable"))},bindChangeVal:function(){var e=this;this.active.bind("changeVal",function(t){var n=$(this).find("span").text();n=parseInt(n),e.view.model.set("defaultPeriod",n),e.view.calculateInstallmentKG(!1)})},bindElClick:function(){var e=this;e.slider.find("li").bind("click",function(){var t=$(this).prevAll().length,n=e.elements.eq(t).find("span").text();e.active.find("span").text(n),e.active.trigger("changeVal"),e.active.animate({left:t*e.width-e.w},500)})},draggable:function(){var e=this;e.active.draggable({axis:"x",containment:"#slider",drag:function(t,n){if(!e.draggingStarted){e.draggingStarted=!0;var i=e.view.$el.find("#oc-KG-inp-amount");e.view.prepareAmountValue(e.view,i)}var o=n.position.left;e.allWidth>e.sliderWidth&&o>e.sliderHalf?(e.w=o-e.sliderHalf,e.w*=(e.allWidth-e.sliderWidth)/(e.sliderHalf-e.width),e.sliderWidth+e.w>e.allWidth&&(e.w=e.allWidth-e.sliderWidth)):e.w=0,e.container.animate({left:-1*e.w},0);var r=Math.round((o+e.w)/e.width),a=e.elements.eq(r).find("span").text();$(this).find("span").text(a)},stop:function(t,n){var i=n.position.left,o=(i+e.w)/e.width,r=Math.round(o),a=e.elements.eq(r).find("span").text();$(this).find("span").text(a),e.active.trigger("changeVal"),$(this).animate({left:r*e.width-e.w},100),e.draggingStarted=!1}})}}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-KG-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"read"===e?t.OneClickCalculateInstallmentKG({params:{defaultAmount:this.get("defaultAmount"),defaultPeriod:this.get("defaultPeriod"),bankSymbol:this.get("bankSymbol"),productSymbol:this.get("productSymbol"),tarrifVersion:this.get("tarrifVersion")},success:i.success,error:i.error}):"create"===e&&t.OneClickSaveKG({params:{amount:this.get("defaultAmount"),period:this.get("defaultPeriod"),bankSymbol:this.get("bankSymbol"),productSymbol:this.get("productSymbol"),tarrifVersion:this.get("tarrifVersion"),accountNumber:this.get("accountNumber")},success:i.success,error:i.error})},getDefaultPeriodData:function(){var e=this.get("periods"),t=0,n=e.length-1,o=0,r=0;for(i=0;i<e.length;i++)e[i]<this.get("minimumPeriod")&&o++,e[i]==this.get("defaultPeriod")&&(r=i);return n=o>r?0:r-o,this.get("defaultPeriod")<this.get("minimumPeriod")?(t=e[o],this.set("defaultPeriod",t)):t=e[r],{index:n,value:t}},isMinimumPeriodOutside:function(){var e=this.get("periods"),t=e.length-1;return this.get("minimumPeriod")>e[t]},prepareConfirm:function(e){var n=this;t.OneClickPrepareConfirm({params:{uwApplicationId:this.get("UwApplicationId")},success:function(t){n.attributes=_.extend(n.attributes,t),e.success()},error:e.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-KO.html",[],function(){return'<div id="oc-KO-application">\r\n    <table class="table ko">\r\n        <tr>\r\n            <th>\r\n                {{I18n.t(\'moneyBar.oneClick.currentLimitKO\')}}\r\n            </th>\r\n            <td>\r\n                {{I18n.toCurrency(currentLimit, {delimiter: " ", separator: "", precision: 0})}}\r\n                {{currency}}\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n                {{I18n.t(\'moneyBar.oneClick.increaseByKO\')}}\r\n                <br />\r\n                ({{I18n.t(\'moneyBar.oneClick.increaseMaxKO\')}}. {{I18n.toCurrency(maxLimitIncrease, {delimiter: " ", separator: "", precision:\r\n                0})}} {{currency}})\r\n            </th>\r\n            <td>\r\n                <div class="row validation">\r\n                    <div class="input">\r\n                        <input type="text" value="{{creditIncrease}}" name="oc-KO-credit-increase" class="maxAmount"\r\n                            data-max="{{maxLimitIncrease}}" />\r\n                        {{currency}} <span class="error"></span>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n                {{I18n.t(\'moneyBar.oneClick.newLimitKO\')}}\r\n            </th>\r\n            <td>\r\n                <span id="oc-KO-newLimit" class="amount">{{l10nCurrency(currentLimit + creditIncrease,\r\n                    currency)}}</span> <span class="currency">{{currency}}</span>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n            </th>\r\n            <td>\r\n                <a class="btn-red-gradient" id="oc-KO-btn-accept">{{I18n.t(\'moneyBar.oneClick.btnNextKO\')}}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th class="long" colspan="2">\r\n                {{disclaimerText}} <a id="oc-disclaimer-link" href="#" title="" target="_blank">\r\n                    {{I18n.t(\'moneyBar.oneClick.noteOneLinkTextKG\')}}</a>\r\n            </th>\r\n        </tr>\r\n    </table>\r\n    <div class="infoBox">\r\n        <span class="button show"> </span>\r\n        <div class="containerInfoBox">\r\n            <div class="scroll">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-KO-amount-modification" class="content-tooltip medium" style="display: none">\r\n    <h4>\r\n        {{I18n.t(\'moneyBar.oneClick.creditIncreaseModificationTitle\')}}</h4>\r\n    <div class="activeAmount">\r\n        <div class="label">\r\n            {{I18n.t(\'moneyBar.oneClick.maxCreditIncrease\')}}</div>\r\n        <div class="data">\r\n            <span class="amount"></span><span class="currency"> {{currency}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="actions">\r\n        <a id="oc-KO-modification-accept" class="btn-red-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnAcceptKG\')}}</a>\r\n        <a class="btn-gray-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnCancelKG\')}}</a>\r\n    </div>\r\n</div>\r\n<div id="oc-KO-wait" class="content-tooltip loading long" style="display: none;">\r\n    <h3>\r\n        {{I18n.t(\'moneyBar.oneClick.waitTitle\')}}</h3>\r\n    <div class="loader">\r\n        {{I18n.t(\'moneyBar.oneClick.waitText\')}}\r\n    </div>\r\n</div>'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-KO-view",["../../../../app/app","text!desktop/templates/moneybar/one-click-tooltips/oc-KO.html"],function(e,t,n){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"oc-KO-start",amountTimer:void 0,amountReady:!0,infoBoxTimeout:!1,infoBoxStatus:!1,infoBoxHidingTime:350,initialize:function(){this.$el.find("#oc-KO-newLimit").html(this.model.get("currentLimit")+this.model.get("creditIncrease"))},events:{"click #oc-KO-btn-accept":"submitCreditIncreaseRequest","keypress .maxAmount":"setAmount","blur .maxAmount":"onAmountBlur","click #oc-KO-amount-modification .btn-red-gradient":function(){return e.trigger("oc-tooltip:show-mask",!0),this.prepareConfirm(),!1},"click #oc-KO-amount-modification .btn-gray-gradient":function(){return e.trigger("oc-tooltip:close"),!1},"mouseover .infoBox:not(.disabled) .button":"infoBoxButtonShow","mouseleave .infoBox:not(.disabled) .button":"infoBoxButtonHide","mouseleave .infoBox:not(.disabled) .containerInfoBox":"infoBoxButtonHide"},setAmount:function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=this.$el.find(".maxAmount"),n=e.which,i=e.keyCode;if(13===n)return t.blur(),!0;if(n>=48&&n<=57||8===i||(37===i||39===i||46===i)&&0===n){var o=this;return this.setAmountState(!1),void 0!=this.amountTimer&&clearTimeout(this.amountTimer),this.amountTimer=setTimeout(function(){o.validateAmount(e)},2e3),!0}return!1},setAmountState:function(e){if(this.amountReady!=e){var t=this;e?this.$el.find("#oc-KO-btn-accept").animate({opacity:"1"},200,function(){t.$el.find("#oc-KO-btn-accept").css("cursor","pointer"),t.amountReady=e}):(this.$el.find("#oc-KO-btn-accept").css("cursor","default"),this.amountReady=e,this.$el.find("#oc-KO-btn-accept").animate({opacity:"0.5"},200))}},onAmountBlur:function(e){void 0!=this.amountTimer&&clearTimeout(this.amountTimer),this.validateAmount(e)},validateAmount:function(e){var t=this.$el.find(".maxAmount"),n=t.val().replace(" ","");n=new RegExp("^\\d+$").test(n)?Ebre.Common.toNumber(n).valueOf():0;var i=t.attr("data-max"),o=this.model.get("minLimitIncrease"),r=this.model.get("step");""===n&&(n=0),n=parseInt(n,10),i=parseInt(i,10),n>=i?n=i:n<=o?n=o:n%r!=0&&(n=Math.round(n*(1/r))*r),t.val(I18n.toCurrency(n,{delimiter:" ",separator:"",precision:0})),this.$el.find("#oc-KO-newLimit").html(I18n.toCurrency(this.model.get("currentLimit")+n,this.model.get("currency"))),this.setAmountState(!0)},prepareConfirm:function(){var t=this;this.model.prepareConfirm({success:function(){e.trigger("oc-tooltip:show-mask",!1),e.trigger("oc-KG-tooltip:confirmKO",t.model.attributes)},error:function(){e.trigger("oc-tooltip:close")}})},showInMode:function(t){var n=this.$el.find("#oc-KO-application"),i=this.$el.find("#oc-KO-amount-modification"),o=this.$el.find("#oc-KO-wait");switch(t){case"M":$("#oc-KG-tooltip .ui-tooltip-title a").show(),n.hide(),i.show(),o.hide();break;case"W":$("#oc-KG-tooltip .ui-tooltip-title a").hide(),$("#oc-KG-tooltip .ui-tooltip-title h5").text(""),n.hide(),i.hide(),o.show()}e.trigger("oc-tooltip:reposition")},submitCreditIncreaseRequest:function(){if(this.amountReady){this.hideInfoBox(0);var t=this.$el.find(".maxAmount").val().replace(" ","");this.model.set("creditIncrease",parseInt(t,10));var n=this;this.showInMode("W"),this.model.save(void 0,{success:function(t){t.get("success")?t.get("amountModified")?n.showAmountModification():e.trigger("oc-KG-tooltip:confirmKO",n.model.attributes):(e.trigger("oc-tooltip:close"),""!=t.get("error")?(errTitle=I18n.t("moneyBar.oneClick.otherErrorTitle"),errMsg=I18n.t("moneyBar.oneClick.otherErrorBody")):""!=t.get("message")&&(errTitle=I18n.t("moneyBar.oneClick.refusalTitle"),errMsg=t.get("message"),e.updateOneClickPlaceholder()),Ebre.Common.createMessage({title:errTitle,message:errMsg,cssStyle:"error-conditional"}))},error:function(){e.trigger("oc-tooltip:close")}})}},showAmountModification:function(){var e=this.model.get("grantedAmount")-this.model.get("currentLimit");this.model.set("creditIncrease",e),this.$el.find("#oc-KO-amount-modification span.amount").text(Ebre.Common.formatNumber(this.model.get("creditIncrease"))),this.showInMode("M")},infoBoxButtonShow:function(e){this.infoBoxStatus||this.showInfoBox()},infoBoxButtonHide:function(e){var t=$(e.relatedTarget);if((t.parents(".containerInfoBox").length||t.hasClass("containerInfoBox"))&&this.infoBoxStatus)return!0;this.infoBoxStatus&&this.hideInfoBox()},showInfoBox:function(){var e=this,t=$("#oc-KG-tooltip"),n=e.$(".infoBox"),i=n.find(".containerInfoBox").outerWidth(),o=t.width();e.infoBoxStatus=!0,n.addClass("disabled"),void 0===t.attr("data-width")&&t.attr("data-width",o),t.stop().animate({width:o+i},{duration:350,step:function(e){n.css("right",e-o-i)},complete:function(){n.find(".button").addClass("showBtn"),n.removeClass("disabled")}})},hideInfoBox:function(e){var t=this,n=$("#oc-KG-tooltip"),i=t.$(".infoBox"),o=parseFloat(n.attr("data-width")),r=i.find(".containerInfoBox").outerWidth();void 0===e&&(e=this.infoBoxHidingTime),t.infoBoxTimeout=!0,i.addClass("disabled"),t.infoBoxStatus=!1,n.stop().animate({width:o},{duration:e,step:function(e){i.css("right",e-o-r)},complete:function(){i.find(".button").removeClass("showBtn"),i.removeClass("disabled")}})},hideInfoBoxDelay:function(e){var t=this;setTimeout(function(){t.infoBoxTimeout||t.hideInfoBox()},e)},onRender:function(){var t=this;$("#oc-KG-tooltip .ui-tooltip-title h5").text(I18n.t("moneyBar.oneClick.titleKO")),this.$el.find("#oc-disclaimer-link").attr("href",this.model.get("disclaimerUrl")),this.$el.find(".infoBox .scroll").text(this.model.get("loanExample")),e.trigger("oc-tooltip:reposition"),setTimeout(function(){t.showInfoBox(),t.hideInfoBoxDelay(4e4),t.$(".infoBox .containerInfoBox").jScrollPane()},500)}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-KO-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){if("create"===e){var o=this.get("creditIncrease")+this.get("currentLimit");t.OneClickSaveKO({params:{requestedLimit:o,bankSymbol:this.get("bankSymbol"),productSymbol:this.get("productSymbol"),tarrifVersion:this.get("tarrifVersion"),accountNumber:this.get("accountNumber")},success:i.success,error:i.error})}},prepareConfirm:function(e){var n=this;t.OneClickPrepareConfirm({params:{uwApplicationId:this.get("UwApplicationId")},success:function(t){n.attributes=_.extend(n.attributes,t),e.success()},error:e.error})}})}),define("desktop/js/moneybar/views/tooltips/one-click/common/oc-base-view",["../../../../../app/app"],function(e){return Backbone.Marionette.ItemView.extend({tipSelectors:["span[rel=tooltip]"],defaultTooltipConfig:{placement:"top",animation:!0,style:"oneclick-tooltip",delay:200,width:280,plain:!0},boxHidingTime:350,initialize:function(){},onRender:function(){this.bindTooltips(),this.activateLegalNotes()},activateLegalNotes:function(){var e=this,t=this.model.get("LegalNotes");t&&(this.$el.find(".infoBox .scroll").text(t.Text),this.$el.find("#oc-disclaimer-link").attr("href",t.DisclaimerUrl),setTimeout(function(){e.showInfoBox(),e.hideInfoBoxDelay(4e4),e.$(".infoBox .containerInfoBox").jScrollPane()},500))},bindTooltips:function(){var e=this;_.each(this.tipSelectors,function(t){var n=$(this.el).find(t);e.registerTooltip(n,{})},this)},registerTooltip:function(e,t){$.extend(t,this.defaultTooltipConfig),e.tooltip(t)},infoBoxButtonShow:function(){this.infoBoxStatus||this.showInfoBox()},infoBoxButtonHide:function(e){var t=$(e.relatedTarget);if((t.parents(".containerInfoBox").length||t.hasClass("containerInfoBox"))&&this.infoBoxStatus)return!0;this.infoBoxStatus&&this.hideInfoBox()},showInfoBox:function(){var e=this,t=$("#oc-KG-tooltip"),n=e.$(".infoBox"),i=n.find(".containerInfoBox").outerWidth(),o=t.width();e.infoBoxStatus=!0,n.addClass("disabled"),void 0===t.attr("data-width")&&t.attr("data-width",o),t.stop().animate({width:o+i},{duration:350,step:function(e){n.css("right",e-o-i)},complete:function(){n.find(".button").addClass("showBtn"),n.removeClass("disabled")}})},hideInfoBox:function(e){var t=this,n=$("#oc-KG-tooltip"),i=t.$(".infoBox"),o=parseFloat(n.attr("data-width")),r=i.find(".containerInfoBox").outerWidth();void 0===e&&(e=this.boxHidingTime),t.infoBoxTimeout=!0,i.addClass("disabled"),t.infoBoxStatus=!1,n.stop().animate({width:o},{duration:e,step:function(e){i.css("right",e-o-r)},complete:function(){i.find(".button").removeClass("showBtn"),i.removeClass("disabled")}})},hideInfoBoxDelay:function(e){var t=this;setTimeout(function(){t.infoBoxTimeout||t.hideInfoBox()},e)},changeInfoBoxHeight:function(e,t){var n=this;n.$(".infoBox .containerInfoBox").css("height",e),t&&n.showInfoBox(),n.hideInfoBoxDelay(4e4),n.$(".infoBox .containerInfoBox").jScrollPane()},slide:{slider:null,width:26,w:0,position:"",text:"",eq:"",view:null,draggingStarted:null,init:function(e){this.view=e,this.slider=this.view.$el.find("#slider"),this.container=this.slider.find("ul"),this.active=this.slider.find(".active"),this.width=26,this.w=0,this.position="",this.text="",this.eq="",this.draggingStarted=!1,this.bindChangeVal(),this.draggable()},renderPeriodsHtml:function(e){var t="",n=this;_.each(this.view.model.get("periods"),function(e){n.view.model.get("minimumPeriod")&&(t+="<li><span>"+e+"</span></li>")}),this.container.html(t),this.elements=this.container.find("li"),this.allWidth=this.width*this.elements.length,this.slider.find(".line").animate({width:this.allWidth-2},e),this.slider.animate({width:this.allWidth},e),this.sliderWidth=this.allWidth,this.sliderHalf=this.sliderWidth/2,this.setActive(e),this.bindElClick()},setActive:function(e){var t=this.view.model.getDefaultPeriodData();this.active.find("span").text(t.value),this.active.animate({left:t.index*this.width-this.w},e),1===this.elements.length?(this.active.addClass("disabled"),this.active.draggable("disable")):(this.active.removeClass("disabled"),this.active.draggable("enable"))},bindChangeVal:function(){var e=this;this.active.bind("changeVal",function(t){var n=$(this).find("span").text();n=parseInt(n),e.view.model.set("defaultPeriod",n)})},bindElClick:function(){var e=this;e.slider.find("li").bind("click",function(){var t=$(this).prevAll().length,n=e.elements.eq(t).find("span").text();e.active.find("span").text(n),e.active.trigger("changeVal"),e.active.animate({left:t*e.width-e.w},500)})},draggable:function(){var e=this;e.active.draggable({axis:"x",containment:"#slider",drag:function(t,n){e.draggingStarted||(e.draggingStarted=!0);var i=n.position.left;e.allWidth>e.sliderWidth&&i>e.sliderHalf?(e.w=i-e.sliderHalf,e.w*=(e.allWidth-e.sliderWidth)/(e.sliderHalf-e.width),e.sliderWidth+e.w>e.allWidth&&(e.w=e.allWidth-e.sliderWidth)):e.w=0,e.container.animate({left:-1*e.w},0);var o=Math.round((i+e.w)/e.width),r=e.elements.eq(o).find("span").text();$(this).find("span").text(r)},stop:function(t,n){var i=n.position.left,o=(i+e.w)/e.width,r=Math.round(o),a=e.elements.eq(r).find("span").text();$(this).find("span").text(a),e.active.trigger("changeVal"),$(this).animate({left:r*e.width-e.w},100),e.draggingStarted=!1}})}},showInMode:function(t){var n=this.$el.find("#oc-application"),i=this.$el.find("#oc-amount-modification"),o=this.$el.find("#oc-wait");switch(t){case"M":$("#oc-KG-tooltip .ui-tooltip-title a").show(),n.hide(),i.show(),o.hide();break;case"W":$("#oc-KG-tooltip .ui-tooltip-title a").hide(),$("#oc-KG-tooltip .ui-tooltip-title h5").text(""),n.hide(),i.hide(),o.show()}e.trigger("oc-tooltip:reposition")},setAcceptButtonState:function(e,t){var n=this;n.readyState!==e&&(e?t.animate({opacity:"1"},200,function(){t.css("cursor","pointer"),n.readyState=e}):(t.css("cursor","default"),n.readyState=e,t.animate({opacity:"0.5"},200)))},saveForm:function(t){var n=this;this.showInMode("W"),this.model.save(void 0,{success:function(i){if(i.get("success"))i.get("amountModified")?n.showAmountModification(t):e.trigger(n.showConfirmationEventName,n.model.attributes);else{e.trigger("oc-tooltip:close");var o="",r="";""!=i.get("error")?(r=I18n.t("moneyBar.oneClick.otherErrorTitle"),o=I18n.t("moneyBar.oneClick.otherErrorBody")):""!=i.get("message")&&(r=I18n.t("moneyBar.oneClick.refusalTitle"),o=i.get("message"),e.updateOneClickPlaceholder()),Ebre.Common.createMessage({title:r,message:o,cssStyle:"error-conditional"})}},error:function(){e.trigger("oc-tooltip:close")}})},showAmountModification:function(e){var t=this.model.get("grantedAmount");this.model.set(e,t),this.$el.find("#oc-amount-modification span.amount").text(Ebre.Common.formatNumber(t)),this.showInMode("M")},onAmountModifiedConfirm:function(){return e.trigger("oc-tooltip:show-mask",!0),this.prepareConfirm(),!1},prepareConfirm:function(){var t=this;this.model.prepareConfirm({success:function(){e.trigger("oc-tooltip:show-mask",!1),e.trigger(t.showConfirmationEventName,t.model.attributes)},error:function(){e.trigger("oc-tooltip:close")}})},changeTooltipHeight:function(e,t){var n=this;n.hideInfoBox(),setTimeout(function(){var i=$("#oc-KG-tooltip"),o=e.outerHeight(),r=i.height();n.heightChanged=!0,void 0===i.attr("data-height")&&i.attr("data-height",r),i.stop().animate({height:r+o},{duration:350,step:function(e){i.css("height",e-r-o)},complete:function(){n.changeInfoBoxHeight(i.height()-30,t),e.show()}})},360)},restoreTooltipHeight:function(e,t,n){var i=this;i.hideInfoBox(),setTimeout(function(){var o=$("#oc-KG-tooltip"),r=parseFloat(o.attr("data-height")),a=e.outerHeight();void 0===n&&(n=this.boxHidingTime),i.heightChanged=!1,o.stop().animate({height:r},{duration:n,step:function(t){e.hide(),o.css("height",t-r-a)},complete:function(){i.changeInfoBoxHeight(o.height()-30,t)}})},360)}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-UKK.html",[],function(){return'{%\r\nvar selectedCreditCard = $.grep(CreditCards, function(e){ return e.IsSelected == true; })[0];\r\n%}\r\n\r\n<div class="infoBox-wrapper">\r\n    <div class="infoBox">\r\n        <span class="button show"></span>\r\n        <div class="containerInfoBox">\r\n            <div class="scroll">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-application">\r\n    <div class="ukk">\r\n        {% if(promotionCode)\r\n        { %}\r\n            <div class="row promotion-row">\r\n                <p class="long label">{{I18n.t(\'moneyBar.oneClick.UKK.promotionLabel\')}}</p>\r\n                <p class="field radio">\r\n                    <span class="radio-wrapper checked" data-id="true">\r\n                        <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.UKK.Yes\')}}\r\n                    <span class="radio-wrapper" data-id="false">\r\n                        <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.UKK.No\')}}\r\n                </p>\r\n            </div>\r\n        {% } %}\r\n        <div class="row">\r\n            <p class="list-label label">{{I18n.t(\'moneyBar.oneClick.UKK.cardTypeLabel\')}}</p>\r\n            <p class="credit-cards-list-container field"></p>\r\n            <img src="{{ selectedCreditCard.ImageUrl }}" class="card-image" />\r\n        </div>\r\n        <div class="row limit">\r\n            <p class="label limit">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.limitLabel\')}}<br />\r\n                ({{I18n.t(\'moneyBar.oneClick.UKK.maxLimitLabel\')}}. {{I18n.toCurrency(MaxLimit, {delimiter: " ", separator: "", precision:\r\n                0})}} {{currency}})\r\n            </p>\r\n            <p class="field">\r\n                <span class="row validation">\r\n                    <span class="input">\r\n                        <input id="oc-UKK-inp-limit" type="text" value="{{DefaultLimit}}" />\r\n                        {{currency}}\r\n                    </span>\r\n                    <span class="info"></span>\r\n                </span>\r\n            </p>\r\n        </div>\r\n        <div class="miles-and-more" style="display: none;">\r\n            <div class="row miles-more">\r\n                <p class="long label">{{I18n.t(\'moneyBar.oneClick.UKK.milesAndMoreProgramLabel\')}}</p>\r\n                <p class="field radio">\r\n                    <span class="radio-wrapper" data-id="true">\r\n                        <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.UKK.Yes\')}}\r\n                    <span class="radio-wrapper checked" data-id="false">\r\n                        <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.UKK.No\')}}\r\n                </p>\r\n            </div>\r\n            <div class="row miles-and-more-number" style="display: none;">\r\n                <p class="long label">{{I18n.t(\'moneyBar.oneClick.UKK.milesAndMoreNumberLabel\')}}</p>\r\n                <p class="field">\r\n                    <span class="row validation">\r\n                        <span class="input">\r\n                            <input id="oc-UKK-miles-more-inp" type="text" value="" />\r\n                        </span>\r\n                        <span class="error"></span>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <p class="list-label long label">{{I18n.t(\'moneyBar.oneClick.UKK.paymentAccountLabel\')}}</p>\r\n            <p class="payment-accounts-list-container field"></p>\r\n        </div>\r\n        <div class="row quick-cash">\r\n            <p class="long label">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.quickCashLabel\')}}\r\n                <span data-original-title="{{I18n.t(\'moneyBar.oneClick.UKK.quickCashTooltipMsg\')}}" rel="tooltip" class="btn-gray-gradient btn-small ui-tooltip-caller">\r\n                    <i class="icon-question-mark"></i>\r\n                </span>\r\n            </p>\r\n            <p class="field radio">\r\n                <span class="radio-wrapper" data-id="true">\r\n                    <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.UKK.Yes\')}}\r\n                <span class="radio-wrapper checked" data-id="false">\r\n                    <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.UKK.No\')}}\r\n            </p>\r\n        </div>\r\n        <div class="quick-cash-container" style="display: none">\r\n            <div class="row">\r\n                <p class="label">{{I18n.t(\'moneyBar.oneClick.UKK.quickCashAmountLabel\')}}</p>\r\n                <p class="field">\r\n                    <span class="row validation">\r\n                        <span class="input">\r\n                            <input id="oc-UKK-quick-cash-inp" type="text" value="{{QuickCashAmount}}" />\r\n                            {{currency}}\r\n                        </span>\r\n                        <span class="info"></span>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n            <div class="row">\r\n                <p class="long label cashAccount">{{I18n.t(\'moneyBar.oneClick.UKK.quickCashAccountLabel\')}}</p>\r\n                <p class="quick-cash-accounts-list-container field"></p>\r\n            </div>\r\n            <div class="row">\r\n                <p class="label periods">{{I18n.t(\'moneyBar.oneClick.UKK.periodsLabel\')}}</p>\r\n                <div class="slider-container">\r\n                    <div id="slider">\r\n                        <div class="active" data-active="">\r\n                            <span>{{defaultPeriod}}</span>\r\n                        </div>\r\n                        <div class="line"></div>\r\n                        <ul></ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row installment">\r\n                <p class="label installment">{{I18n.t(\'moneyBar.oneClick.UKK.monthlyInstallmentLabel\')}}</p>\r\n                <p class="field">\r\n                    <span class="amount">{{l10nCurrency(Installment, currency)}}</span> <span class="currency">{{currency}}</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="ukk-accept">\r\n        <a class="btn-red-gradient" id="oc-UKK-btn-accept">{{I18n.t(\'moneyBar.oneClick.UKK.btnNext\')}}</a>\r\n    </div>\r\n    <div class="ukk-footer">\r\n        <div class="row">\r\n            <span class="disclaimer-text">{{LegalNotes.DisclaimerText}}</span>\r\n            <a id="oc-disclaimer-link" href="#" title="" target="_blank">{{I18n.t(\'moneyBar.oneClick.UKK.noteOneLinkText\')}}</a>\r\n            \x3c!--todo: noteOneLinkTextKG --\x3e\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-wait" class="content-tooltip loading long" style="display: none;">\r\n    <h3>{{I18n.t(\'moneyBar.oneClick.waitTitle\')}}</h3>\r\n    <div class="loader">\r\n        {{I18n.t(\'moneyBar.oneClick.waitText\')}}\r\n    </div>\r\n</div>\r\n'}),define("text!desktop/templates/moneybar/one-click-tooltips/common/dd-list.html",[],function(){return'<select id="{{ controlId }}" class="beautify-select" />\r\n            \r\n    \r\n'}),define("text!desktop/templates/moneybar/one-click-tooltips/common/dd-list-item.html",[],function(){return"{{ Label }}"}),define("desktop/js/moneybar/views/tooltips/one-click/common/dd-list-item",["text!desktop/templates/moneybar/one-click-tooltips/common/dd-list-item.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,tagName:"option",onRender:function(){this.$el.attr("value",this.model.get("Value")),!0===this.model.get("IsSelected")&&this.$el.attr("selected","selected")}})}),define("desktop/js/moneybar/views/tooltips/one-click/common/dd-list",["text!desktop/templates/moneybar/one-click-tooltips/common/dd-list.html","./dd-list-item"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,itemViewContainer:"select",itemView:t,tagName:"div",initialize:function(){this.collection.on("reset",this.render,this)},onRender:function(){this.$el.find("#"+this.model.get("controlId")).sSelect()},activate:function(e){var t=this;t.vent=e,this.$el.find("#"+this.model.get("controlId")).bind("change.sSelect",function(e){t.vent.trigger("dropDownList:change")})},getSelectedModel:function(){var e=this.getSelectedValue();return this.collection.where({Value:e})[0]},getSelectedValue:function(){return this.$el.find("#"+this.model.get("controlId")).getSetSSValue()}})}),define("desktop/js/moneybar/views/tooltips/one-click/utils/amount-validation-helper",[],function(){return{validateAmount:function(e,t,n,i){var o=e,r=this.validateNumber(o.val());r=this.validateAmountValue(r,t,n,i),o.val(I18n.toCurrency(r,{delimiter:" ",separator:"",precision:0}))},validateNumber:function(e){var t=e.replace(" ","");return t=new RegExp("^\\d+$").test(t)?Ebre.Common.toNumber(t).valueOf():0,""===t&&(t=0),t},validateAmountValue:function(e,t,n,i){var o=parseInt(e,10);return t=parseInt(t,10),o>=t?o=t:o<=n?o=n:void 0!==i&&o%i!=0&&(o=Math.round(o*(1/i))*i),o},roundFloorValue:function(e,t){var n=e;return void 0!==t&&n%t!=0&&(n=Math.floor(n*(1/t))*t),n},roundCeilValue:function(e,t){var n=e;return void 0!==t&&n%t!=0&&(n=Math.ceil(n*(1/t))*t),n}}}),define("desktop/js/moneybar/views/tooltips/one-click/utils/radio-helper",[],function(){return{initRadioButtons:function(e){e.find(".radio-wrapper").each(function(){$(this).on("click",function(){0==$(this).hasClass("checked")&&($(this).siblings().removeClass("checked"),$(this).addClass("checked"),$(this).trigger("radioChanged"))})})},getRadioBtnChecked:function(e){return e.find(".radio-wrapper.checked").attr("data-id")}}}),define("desktop/js/moneybar/views/tooltips/one-click/oc-UKK-view",["../../../../app/app","./common/oc-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-UKK.html","./common/dd-list","./utils/amount-validation-helper","./utils/radio-helper"],function(e,t,n,i,o,r){return t.extend({template:n,tagName:"div",id:"oc-UKK-start",readyState:!0,milesAndMoreState:!0,initialize:function(){var e=this;t.prototype.initialize.apply(this,_.toArray(arguments)),e.creditCardTypesList=new i({model:new Backbone.Model({controlId:"creditCardTypes"}),collection:new Backbone.Collection(e.model.get("CreditCards"))}),e.paymentAccountsList=new i({model:new Backbone.Model({controlId:"paymentAccountsList"}),collection:new Backbone.Collection(e.model.get("PaymentAccounts"))}),e.quickCashAccountsList=new i({model:new Backbone.Model({controlId:"quickCashAccountsList"}),collection:new Backbone.Collection(e.model.get("QuickCashAccounts"))}),e.model.set("cardType",e.creditCardTypesList.collection.where({IsSelected:!0})[0].get("Value")),this.changeInstallment(),this.model.on("change:defaultPeriod",this.changeInstallment,this),this.model.on("change:QuickCashAmount",this.changeInstallment,this),this.innerVent=new Backbone.Marionette.EventAggregator,this.innerVent.bindTo("dropDownList:change",this.onCardChange,this)},events:{"blur #oc-UKK-inp-limit":"onLimitBlur","keypress  #oc-UKK-inp-limit":"onInputKeypress","mouseover .infoBox:not(.disabled) .button":"infoBoxButtonShow","mouseleave .infoBox:not(.disabled) .button":"infoBoxButtonHide","mouseleave .infoBox:not(.disabled) .containerInfoBox":"infoBoxButtonHide",'click .quick-cash .radio-wrapper[data-id="true"] > input':"showQuickCashPanel",'click .quick-cash .radio-wrapper[data-id="false"] > input':"hideQuickCashPanel","blur #oc-UKK-quick-cash-inp":"onQuickCashAmountBlur","keypress  #oc-UKK-quick-cash-inp":"onInputKeypress",'click .miles-and-more .radio-wrapper[data-id="true"] > input':"showMilesAndMorePanel",'click .miles-and-more .radio-wrapper[data-id="false"] > input':"hideMilesAndMorePanel","blur #oc-UKK-miles-more-inp":"onMilesAndMoreNoBlur","keypress  #oc-UKK-miles-more-inp":"onInputKeypress","click #oc-UKK-btn-accept":"submitUKK","radioChanged .promotion-row .radio-wrapper":"changeInstallment"},onRender:function(){var n=this;t.prototype.onRender.apply(this,_.toArray(arguments)),this.storeRefs(),$("#oc-KG-tooltip .ui-tooltip-title h5").text(I18n.t("moneyBar.oneClick.UKK.title")),this.$el.find(".credit-cards-list-container").append(this.creditCardTypesList.render().$el),this.$el.find(".payment-accounts-list-container").append(this.paymentAccountsList.render().$el),this.$el.find(".quick-cash-accounts-list-container").append(this.quickCashAccountsList.render().$el),this.creditCardTypesList.activate(this.innerVent),this.setNewCardsCollection(),this.readyState=!0,this.checkMilesAndMore(),setTimeout(function(){n.slide.init(n),n.slide.renderPeriodsHtml(0),e.trigger("oc-tooltip:reposition")},0),r.initRadioButtons(this.$el),e.trigger("oc-tooltip:reposition")},storeRefs:function(){this.quickCashContainer=this.$el.find(".quick-cash-container"),this.quickCashRadio=this.$el.find("div.quick-cash.row > p.radio"),this.milesAndMoreContainer=this.$el.find("div.miles-and-more"),this.milesAndMoreNumberRow=this.$el.find(".miles-and-more-number"),this.milesAndMoreRadio=this.$el.find("div.miles-more.row > p.radio"),this.acceptButton=this.$el.find("#oc-UKK-btn-accept")},onLimitBlur:function(e){this.clearTimer(this.limitTimer),this.setLimitValue(e)},onInputKeypress:function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=$(e.currentTarget),n=e.which,i=e.keyCode;return 13===n?(t.blur(),!0):(n>=48&&n<=57||8===i||(37===i||39===i||46===i)&&0===n)&&(this.setAcceptButtonState(!1,this.acceptButton),t.is("#oc-UKK-inp-limit")?(this.clearTimer(this.limitTimer),this.setLimitTimer(e)):t.is("#oc-UKK-quick-cash-inp")?(this.clearTimer(this.quickCashAmountTimer),this.setQuickCashTimer(e)):t.is("#oc-UKK-miles-more-inp")&&(this.clearTimer(this.milesAndMoreNoTimer),this.setMilesAndMoreNoTimer(e)),!0)},showQuickCashPanel:function(e){this.showPanel(this.quickCashContainer,!0)},hideQuickCashPanel:function(e){this.showPanel(this.quickCashContainer,!1)},onQuickCashAmountBlur:function(e){this.clearTimer(this.quickCashAmountTimer);var t=o.validateNumber($(e.currentTarget).val());this.setQuickCashAmount(t,!0)},changeInstallment:function(){var t=this;e.trigger("oc-tooltip:show-mask",!0);var n=t.creditCardTypesList.getSelectedValue();n&&t.model.set("cardType",n),this.setIsPromotion(),this.model.calculateInstallment({success:function(){var n=t.model.get("Installment");t.$el.find(".quick-cash-container span.amount").text(Ebre.Common.formatNumber(n)),e.trigger("oc-tooltip:show-mask",!1)},error:function(){e.trigger("oc-tooltip:close")}})},checkMilesAndMore:function(){var e=this.creditCardTypesList.getSelectedModel().get("IsMilesAndMore");this.clearMilesAndMoreContainer(),this.showMilesAndMoreContainer(e)},showMilesAndMorePanel:function(e){this.milesAndMoreState=!1,this.setAcceptButtonState(!1,this.acceptButton),this.milesAndMoreNumberRow.show()},hideMilesAndMorePanel:function(e){this.milesAndMoreState=!0,this.setAcceptButtonState(!0,this.acceptButton),this.milesAndMoreNumberRow.hide()},onMilesAndMoreNoBlur:function(e){this.clearTimer(this.milesAndMoreNoTimer),this.setMilesAndMoreNo(e)},submitUKK:function(){var t=this;if(this.readyState){this.hideInfoBox(0);var n=this.creditCardTypesList.getSelectedModel();t.model.set("cardType",n.get("Value")),t.model.set("cardName",n.get("Label")),t.model.set("cardImageUrl",n.get("ImageUrl"));var i=this.paymentAccountsList.getSelectedValue();t.model.set("paymentAccountNumber",i);var o=this.getRadioBtnChecked(this.milesAndMoreRadio);t.model.set("isMilesAndMore",o);var a=this.$el.find("input[id='oc-UKK-miles-more-inp']").val();t.model.set("milesAndMoreNumber",a);var s=this.getRadioBtnChecked(this.quickCashRadio);if(t.model.set("quickCash",s),"true"===s){var c=this.quickCashAccountsList.getSelectedValue();t.model.set("quickCashAccountNumber",c)}var l=this.model.get("promotionCode"),d=null;l&&$.parseJSON(r.getRadioBtnChecked(this.$el.find(".promotion-row")))&&(d=l),this.model.set("promotion",d),t.model.save(void 0,{success:function(n){if(n.get("success"))n.get("amountModified")?t.showAmountModification():e.trigger("oc-KG-tooltip:confirmUKK",t.model.attributes);else{e.trigger("oc-tooltip:close");var i="",o="";""!==n.get("error")?(o=I18n.t("moneyBar.oneClick.otherErrorTitle"),i=I18n.t("moneyBar.oneClick.otherErrorBody")):""!==n.get("message")&&(o=I18n.t("moneyBar.oneClick.refusalTitle"),i=n.get("message"),e.updateOneClickPlaceholder()),Ebre.Common.createMessage({title:o,message:i,cssStyle:"error-conditional"})}},error:function(){e.trigger("oc-tooltip:close")}}),this.showInMode("W")}},onCardChange:function(){var e=this.creditCardTypesList.getSelectedModel();this.$el.find(".card-image").attr("src",e.get("ImageUrl")),this.checkMilesAndMore()},setLimitValue:function(e){var t=this,n=$(e.currentTarget),i=o.validateNumber(n.val());if(t.model.get("DefaultLimit")!==i){var r=n.parents(".row.validation").find(".info");r.text("");var a=t.model.get("MinLimit"),s=t.model.get("MaxLimit"),c=t.model.get("step");return i<a?(i=a,t.createMessage(r,"min")):i>s?(i=s,t.createMessage(r,"max")):i%c!=0&&(i=Math.round(i/c)*c,t.createMessage(r,"round")),n.val(I18n.toCurrency(i,{delimiter:" ",separator:"",precision:0})),t.model.set("DefaultLimit",i),t.setQuickCashAmountByLimit(i),t.setNewCardsCollection(),t.milesAndMoreState&&t.setAcceptButtonState(!0,t.acceptButton),i}return 0},setQuickCashAmountByLimit:function(e){var t=this.model.get("QuickCashFactor"),n=e*t;this.setQuickCashAmount(n,!1)},setQuickCashAmount:function(e,t){var n,i=this.model.get("step"),r=this.model.get("MinQuickCashAmount");n=t?this.model.get("MaxQuickCashAmount"):o.roundFloorValue(e,i),e=o.validateAmountValue(e,n,r,i),this.$el.find("#oc-UKK-quick-cash-inp").val(I18n.toCurrency(e,{delimiter:" ",separator:"",precision:0})),this.model.set("QuickCashAmount",e),t||this.model.set("MaxQuickCashAmount",n),this.milesAndMoreState&&this.setAcceptButtonState(!0,this.acceptButton)},setMilesAndMoreNo:function(e){var t=$(e.currentTarget),n=t.parents(".row.validation").find(".error");n.text(""),t.val().match(/^\d{15}$/)?(this.milesAndMoreState=!0,this.setAcceptButtonState(!0,this.acceptButton)):(this.milesAndMoreState=!1,this.setAcceptButtonState(!1,this.acceptButton),n.text(I18n.t("moneyBar.oneClick.UKK.milesAndMoreNoError")))},setNewCardsCollection:function(){for(var e=this,t=e.model.get("DefaultLimit"),n=e.model.get("CreditCards"),i=n.slice(0),o=i.length-1;o>=0;o--){var r=i[o];r.MaxCreditLimit>=t&&r.MinCreditLimit<=t||i.splice(o,1)}e.creditCardTypesList.collection.reset(i),e.onCardChange(),e.creditCardTypesList.activate(e.innerVent)},setLimitTimer:function(e){var t=this;this.limitTimer=setTimeout(function(){t.setLimitValue(e)},2e3)},clearTimer:function(e){void 0!=e&&clearTimeout(e)},setQuickCashTimer:function(e){var t=this;this.quickCashAmountTimer=setTimeout(function(){var n=o.validateNumber($(e.currentTarget).val());t.setQuickCashAmount(n,!0)},2e3)},setMilesAndMoreNoTimer:function(e){var t=this;this.milesAndMoreNoTimer=setTimeout(function(){t.setMilesAndMoreNo(e)},2e3)},getRadioBtnChecked:function(e){return e.find(".radio-wrapper.checked").attr("data-id")},createMessage:function(e,t){var n,i,o=this;switch(t){case"min":n=I18n.t("moneyBar.oneClick.UKK.minLimitInfoMsg"),i=I18n.toCurrency(o.model.get("MinLimit"),{delimiter:" ",separator:"",precision:0})+" "+o.model.get("currency"),n=n.replace(/\{0\}/,i);break;case"max":n=I18n.t("moneyBar.oneClick.UKK.maxLimitInfoMsg"),i=I18n.toCurrency(o.model.get("MaxLimit"),{delimiter:" ",separator:"",precision:0})+" "+o.model.get("currency"),n=n.replace(/\{0\}/,i);break;case"round":n=I18n.t("moneyBar.oneClick.UKK.roundLimitInfoMsg")}e.text(n)},clearMilesAndMoreContainer:function(){this.milesAndMoreContainer.find(".row.validation").find(".error").text(""),$("#oc-UKK-miles-more-inp").val("")},showMilesAndMoreContainer:function(e){e?this.milesAndMoreContainer.show():($('.miles-and-more .radio-wrapper[data-id="false"] > input').trigger("click"),this.milesAndMoreContainer.hide())},showPanel:function(e,t){t?this.changeTooltipHeight(e,!0):this.restoreTooltipHeight(e,!0)},setIsPromotion:function(){if(this.model.get("promotionCode")){var e=this.$el.find(".promotion-row");e.length?this.model.set("isPromotion",$.parseJSON(r.getRadioBtnChecked(e))):this.model.set("isPromotion",!0)}else this.model.set("isPromotion",!1)}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-UKK-model",["../../../../services"],function(e){return Backbone.Model.extend({sync:function(t,n,i){"read"===t?e.OneClickGetUKKInitData({params:{initData:{ProductCode:n.get("productCode"),CreditCardTypes:n.get("creditCardTypes"),DefaultCreditCardSymbol:n.get("defaultCreditCard"),DefaultPaymentAccNo:n.get("defaultPaymentAccNo"),DefaultQuickCashAccNo:n.get("defaultQuickCashAccNo"),DefaultAmount:n.get("defaultAmount"),Step:n.get("step")}},success:i.success,error:i.error}):"create"===t&&e.OneClickSaveUKK({params:{applicationData:{Limit:this.get("DefaultLimit"),CardType:this.get("cardType"),PaymentAccountNumber:this.get("paymentAccountNumber"),QuickCash:this.get("quickCash"),QuickCashAmount:this.get("QuickCashAmount"),QuickCashAccountNumber:this.get("quickCashAccountNumber"),QuickCashPeriod:this.get("defaultPeriod"),IsMilesAndMore:this.get("isMilesAndMore"),MilesAndMoreNumber:this.get("milesAndMoreNumber"),BankSymbol:this.get("bankSymbol"),ProductSymbol:this.get("productSymbol"),TarrifVersion:this.get("tarrifVersion"),Promotion:this.get("promotion")}},success:i.success,error:i.error})},calculateInstallment:function(t){var n=this;e.OneClickCalculateInstallmentUKK({params:{installmentData:{CardType:n.get("cardType"),Amount:n.get("QuickCashAmount"),Period:n.get("defaultPeriod"),IsPromotion:n.get("isPromotion"),Offer:{BankSymbol:n.get("bankSymbol"),ProductSymbol:n.get("productSymbol"),TarrifVersion:n.get("tarrifVersion")}}},success:function(e){n.attributes=_.extend(n.attributes,e),t.success()},error:t.error})},getDefaultPeriodData:function(){for(var e,t=this.get("periods"),n=0,i=0,o=0;o<t.length;o++)t[o]<this.get("minimumPeriod")&&n++,t[o]==this.get("defaultPeriod")&&(i=o);var r=n>i?0:i-n;return this.get("defaultPeriod")<this.get("minimumPeriod")?(e=t[n],this.set("defaultPeriod",e)):e=t[i],{index:r,value:e}}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-UKO.html",[],function(){return'<div class="infoBox-wrapper">\r\n    <div class="infoBox">\r\n        <span class="button show"></span>\r\n        <div class="containerInfoBox">\r\n            <div class="scroll">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-application">\r\n    <table class="table uko">\r\n        <tr>\r\n            <th class="list-label">{{I18n.t(\'moneyBar.oneClick.UKO.accountsListLabel\')}}</th>\r\n            <td class="accounts-list-container" />\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.UKO.creditLimitLabel\')}}\r\n                <br />\r\n                ({{I18n.t(\'moneyBar.oneClick.increaseMaxKO\')}}. {{I18n.toCurrency(maxAmount, {delimiter: " ", separator: "", precision:\r\n                0})}} {{currency}})\r\n            </th>\r\n            <td>\r\n                <div class="row validation">\r\n                    <div class="input">\r\n                        <input type="text" value="{{defaultAmount}}" name="oc-UKO-credit-amount" class="creditAmount"\r\n                            data-max="{{maxAmount}}" />\r\n                        {{currency}} <span class="error"></span>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th></th>\r\n            <td>\r\n                <a class="btn-red-gradient" id="oc-UKO-btn-accept">{{I18n.t(\'moneyBar.oneClick.btnNextKO\')}}</a>\r\n            </td>\r\n        </tr>\r\n        <tr class="legal-notes-row">\r\n            <th class="long" colspan="2">\r\n                <span class="disclaimer-text">{{LegalNotes.DisclaimerText}}</span><a id="oc-disclaimer-link" href="#" title="" target="_blank">{{I18n.t(\'moneyBar.oneClick.UKO.noteOneLinkText\')}}</a>\r\n            </th>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<div id="oc-amount-modification" class="content-tooltip medium" style="display: none">\r\n    <h4>{{I18n.t(\'moneyBar.oneClick.amountModificationTitle\')}}</h4>\r\n    <div class="activeAmount">\r\n        <div class="label">\r\n            {{I18n.t(\'moneyBar.oneClick.amountModificationGranted\')}}\r\n        </div>\r\n        <div class="data">\r\n            <span class="amount"></span><span class="currency">{{currency}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="actions">\r\n        <a id="oc-UKO-modification-accept" class="btn-red-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n        <a class="btn-gray-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnReject\')}}</a>\r\n    </div>\r\n</div>\r\n<div id="oc-wait" class="content-tooltip loading long oc-wait" style="display: none;">\r\n    <h3>{{I18n.t(\'moneyBar.oneClick.waitTitle\')}}</h3>\r\n    <div class="loader">\r\n        {{I18n.t(\'moneyBar.oneClick.waitText\')}}\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-UKO-view",["../../../../app/app","./common/oc-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-UKO.html","./common/dd-list","./utils/amount-validation-helper"],function(e,t,n,i,o){return t.extend({template:n,tagName:"div",id:"oc-UKO-start",amountReady:!0,initialize:function(){var e=this;t.prototype.initialize.apply(this,_.toArray(arguments)),e.accountsList=new i({model:new Backbone.Model({controlId:"accountsList"}),collection:new Backbone.Collection(e.model.get("Accounts"))}),this.showConfirmationEventName="oc-KG-tooltip:confirmUKO"},events:{"click #oc-UKO-btn-accept":"submitUKO","keypress .creditAmount":"setAmount","blur .creditAmount":"onAmountBlur","mouseover .infoBox:not(.disabled) .button":"infoBoxButtonShow","mouseleave .infoBox:not(.disabled) .button":"infoBoxButtonHide","mouseleave .infoBox:not(.disabled) .containerInfoBox":"infoBoxButtonHide","click #oc-amount-modification .btn-red-gradient":"onAmountModifiedConfirm","click #oc-amount-modification .btn-gray-gradient":function(){return e.trigger("oc-tooltip:close"),!1}},submitUKO:function(){if(this.amountReady){this.hideInfoBox(0);var e=this.accountsList.getSelectedValue();this.model.set("accountNumber",e);var t=this.$el.find("input[name='oc-UKO-credit-amount']").val().replace(" ","");this.model.set("creditAmount",parseInt(t,10)),this.saveForm("creditAmount")}},setAmount:function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=this.$el.find(".creditAmount"),n=e.which,i=e.keyCode;if(13===n)return t.blur(),!0;if(n>=48&&n<=57||8===i||(37===i||39===i||46===i)&&0===n){var o=this;return this.setAmountState(!1),void 0!=this.amountTimer&&clearTimeout(this.amountTimer),this.amountTimer=setTimeout(function(){o.validateAmount(e)},2e3),!0}return!1},onAmountBlur:function(e){void 0!=this.amountTimer&&clearTimeout(this.amountTimer),this.validateAmount(e)},validateAmount:function(e){var t=this.$el.find(".creditAmount"),n=this.model.get("maxAmount"),i=this.model.get("minAmount"),r=this.model.get("step");o.validateAmount(t,n,i,r),this.setAmountState(!0)},setAmountState:function(e){if(this.amountReady!=e){var t=this;e?this.$el.find("#oc-UKO-btn-accept").animate({opacity:"1"},200,function(){t.$el.find("#oc-UKO-btn-accept").css("cursor","pointer"),t.amountReady=e}):(this.$el.find("#oc-UKO-btn-accept").css("cursor","default"),this.amountReady=e,this.$el.find("#oc-UKO-btn-accept").animate({opacity:"0.5"},200))}},onRender:function(){t.prototype.onRender.apply(this,_.toArray(arguments)),$("#oc-KG-tooltip .ui-tooltip-title h5").text(I18n.t("moneyBar.oneClick.UKO.title")),this.$el.find(".accounts-list-container").append(this.accountsList.render().$el),e.trigger("oc-tooltip:reposition")}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-UKO-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"read"===e?t.OneClickGetUKOInitData({params:{advProductCode:n.get("advProductCode"),defaultAccountFromCrm:n.get("defaultAccountFromCrm")},success:i.success,error:i.error}):"create"===e&&t.OneClickSaveUKO({params:{applicationData:{Amount:this.get("creditAmount"),AccountNumber:this.get("accountNumber"),BankSymbol:this.get("bankSymbol"),ProductSymbol:this.get("productSymbol"),TarrifVersion:this.get("tarrifVersion"),Promotion:this.get("promotionCode")}},success:i.success,error:i.error})},prepareConfirm:function(e){var n=this;t.OneClickPrepareConfirm({params:{uwApplicationId:this.get("UwApplicationId")},success:function(t){n.attributes=_.extend(n.attributes,t),e.success()},error:e.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-USRQC.html",[],function(){return'{% \r\nvar selectedCreditCard = $.grep(CreditCards, function(e){ return e.IsSelected == true; })[0];\r\nvar cardCurrency = selectedCreditCard.Currency;\r\n%}\r\n\r\n<div id="oc-application">\r\n    <div class="image-container">\r\n        <img src="{{ selectedCreditCard.ImageUrl }}" class="card-image-small" />\r\n    </div>\r\n    <table class="table usrqc">\r\n        {% if(promotionCode)\r\n            { %}\r\n        <tr class="promotion-row">\r\n            <th>{{I18n.t(\'moneyBar.oneClick.USRQC.promotionLabel\')}}</th>\r\n            <td class="radio">\r\n                <span class="radio-wrapper checked" data-id="true">\r\n                    <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.Yes\')}}\r\n                <span class="radio-wrapper" data-id="false">\r\n                    <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.No\')}}\r\n            </td>\r\n        </tr>\r\n        {% } %}\r\n        <tr>\r\n            <th class="list-label">{{I18n.t(\'moneyBar.oneClick.USRQC.cardsListLabel\')}}</th>\r\n            <td class="credit-cards-list-container" />\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.USRQC.currentDebtLabel\')}}</th>\r\n            <td class="current-debt">{{ l10nCurrency(selectedCreditCard.CurrentDebt, cardCurrency) }} {{ cardCurrency }}</td>\r\n        </tr>\r\n        <tr>\r\n            <th class="quick-cash-label">\r\n                <span>{{I18n.t(\'moneyBar.oneClick.USRQC.quickCashAmountLabel\')}}</span>\r\n                <span data-original-title="{{I18n.t(\'moneyBar.oneClick.USRQC.quickCashTooltipMsg\')}}" rel="tooltip" class="btn-gray-gradient btn-small ui-tooltip-caller">\r\n                    <i class="icon-question-mark"></i>\r\n                </span>\r\n            </th>\r\n            <td>\r\n                <span class="row validation">\r\n                    <span class="input">\r\n                        <input id="oc-USRQC-quick-cash-inp" type="text" value="{{ QuickCashAmount }}" />\r\n                        {{currency}}\r\n                    </span>\r\n                    <span class="info"></span>\r\n                </span>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.USRQC.accountsListLabel\')}}</th>\r\n            <td class="accounts-list-container" />\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.USRQC.amountLabel\')}}</th>\r\n            <td>\r\n                <span class="row validation">\r\n                    <span class="input">\r\n                        <input id="oc-USRQC-amount-inp" type="text" value="{{ PayInIntallmentAmount }}" />\r\n                        {{currency}}\r\n                    </span>\r\n                    <span class="info"></span>\r\n                </span>\r\n            </td>\r\n        </tr>\r\n        <tr class="slider-row">\r\n            <th>{{I18n.t(\'moneyBar.oneClick.USRQC.periodsLabel\')}}</th>\r\n            <td class="slider-container">\r\n                <div id="slider">\r\n                    <div class="active" data-active="">\r\n                        <span>{{defaultPeriod}}</span>\r\n                    </div>\r\n                    <div class="line"></div>\r\n                    <ul></ul>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.USRQC.monthlyInstallmentLabel\')}}</th>\r\n            <td class="installment">\r\n                <span class="installment-amount">{{l10nCurrency(Installment, currency)}}</span> <span class="currency">{{currency}}</span>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th></th>\r\n            <td>\r\n                <a class="btn-red-gradient" id="oc-USRQC-btn-accept">{{I18n.t(\'moneyBar.oneClick.btnNextKO\')}}</a>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<div id="oc-amount-modification" class="content-tooltip medium" style="display: none">\r\n    <h4>{{I18n.t(\'moneyBar.oneClick.USRQC.amountModificationTitle\')}}</h4>\r\n    <div class="activeAmount">\r\n        <div class="label">\r\n            {{I18n.t(\'moneyBar.oneClick.USRQC.amountModificationGranted\')}}\r\n        </div>\r\n        <div class="data">\r\n            <span class="amount"></span> \r\n            <span class="currency"> {{currency}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="actions">\r\n        <a id="oc-UKO-modification-accept" class="btn-red-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n        <a class="btn-gray-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnReject\')}}</a>\r\n    </div>\r\n</div>\r\n<div id="oc-wait" class="content-tooltip loading long oc-wait" style="display: none;">\r\n    <h3>{{I18n.t(\'moneyBar.oneClick.waitTitle\')}}</h3>\r\n    <div class="loader">\r\n        {{I18n.t(\'moneyBar.oneClick.waitText\')}}\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-USRQC-view",["../../../../app/app","./common/oc-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-USRQC.html","./common/dd-list","../../../../services","./utils/amount-validation-helper","./utils/radio-helper"],function(e,t,n,i,o,r,a){return t.extend({template:n,tagName:"div",id:"oc-USRQC-start",amountReady:!0,readyState:!0,initialize:function(){t.prototype.initialize.apply(this,_.toArray(arguments)),this.cardsList=new i({model:new Backbone.Model({controlId:"cardsList"}),collection:new Backbone.Collection(this.model.get("CreditCards"))}),this.accountsList=new i({model:new Backbone.Model({controlId:"accountsList"}),collection:new Backbone.Collection(this.model.get("QuickCashAccounts"))}),this.innerVent=new Backbone.Marionette.EventAggregator,this.innerVent.bindTo("dropDownList:change",this.onCardChange,this);var e=$.grep(this.model.get("CreditCards"),function(e){return 1==e.IsSelected})[0];this.model.set("QuickCashAmount",e.AvailableLimit),this.model.set("MinQuickCashCalculatedAmount",this.calculateMinQuickCashAmount(e.CurrentDebt));var n=this.calculateMaxAmountToPayInInstallments(e.CurrentDebt,e.MaxLimit);this.model.set("PayInIntallmentAmount",n),this.model.set("selectedCardTypeCode",e.TypeCode),this.changeInstallment(),this.model.on("change:defaultPeriod",this.changeInstallment,this),this.model.on("change:PayInIntallmentAmount",this.changeInstallment,this),this.showConfirmationEventName="oc-KG-tooltip:confirmUSRQC"},onRender:function(){var n=this;t.prototype.onRender.apply(this,_.toArray(arguments)),n.storeRefs(),this.$el.find(".credit-cards-list-container").append(this.cardsList.render().$el),this.$el.find(".accounts-list-container").append(this.accountsList.render().$el),$("#oc-KG-tooltip .ui-tooltip-title h5").text(I18n.t("moneyBar.oneClick.USRQC.title")),this.cardsList.activate(this.innerVent),a.initRadioButtons(this.$el),setTimeout(function(){n.slide.init(n),n.slide.renderPeriodsHtml(0),e.trigger("oc-tooltip:reposition")},0),e.trigger("oc-tooltip:reposition")},storeRefs:function(){this.acceptButton=this.$el.find("#oc-USRQC-btn-accept")},events:{"blur #oc-USRQC-quick-cash-inp":"onQuickCashAmountBlur","keypress  #oc-USRQC-quick-cash-inp":"onInputKeypress","blur #oc-USRQC-amount-inp":"onPayInInstallmentAmountBlur","keypress  #oc-USRQC-amount-inp":"onInputKeypress","click #oc-USRQC-btn-accept":"submitUSRQC","click #oc-amount-modification .btn-red-gradient":"onAmountModifiedConfirm","click #oc-amount-modification .btn-gray-gradient":function(){return e.trigger("oc-tooltip:close"),!1},"radioChanged .promotion-row .radio-wrapper":"changeInstallment"},submitUSRQC:function(){if(this.readyState){this.hideInfoBox(0);var e=this.cardsList.getSelectedModel();this.model.set("selectedCardNumber",e.get("Value")),this.model.set("selectedCardName",e.get("Label")),this.model.set("selectedCardImageUrl",e.get("ImageUrl")),this.model.set("selectedCardContractNumber",e.get("ContractNumber")),this.model.set("selectedCardTypeCode",e.get("TypeCode"));var t=this.accountsList.getSelectedValue();this.model.set("selectedQuickCashAccount",t);var n=this.model.get("promotionCode"),i=null;n&&$.parseJSON(a.getRadioBtnChecked(this.$el.find(".promotion-row")))&&(i=n),this.model.set("promotion",i),this.saveForm("PayInIntallmentAmount")}},onQuickCashAmountBlur:function(e){this.clearTimer(this.quickCashAmountTimer);var t=r.validateNumber($(e.currentTarget).val());this.setQuickCashAmount(t)},onPayInInstallmentAmountBlur:function(e){this.clearTimer(this.payInInstallmentAmountTimer);var t=r.validateNumber($(e.currentTarget).val());this.setPayInInstallmentAmount(t)},onInputKeypress:function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=$(e.currentTarget),n=e.which,i=e.keyCode;return 13===n?(t.blur(),!0):(n>=48&&n<=57||8===i||(37===i||39===i||46===i)&&0===n)&&(this.setAcceptButtonState(!1,this.acceptButton),t.is("#oc-USRQC-quick-cash-inp")?(this.clearTimer(this.quickCashAmountTimer),this.setQuickCashTimer(e)):t.is("#oc-USRQC-amount-inp")&&(this.clearTimer(this.payInInstallmentAmountTimer),this.setPayInInstallmentTimer(e)),!0)},onCardChange:function(){var e=this.cardsList.getSelectedModel();this.model.set("MinQuickCashCalculatedAmount",this.calculateMinQuickCashAmount(e.get("CurrentDebt"))),this.$el.find(".card-image-small").attr("src",e.get("ImageUrl"));var t=e.get("CurrentDebt"),n=e.get("Currency");this.updateDefaultQuickCashAmount(e),null===t?this.updateCreditCardCurrentDebt(e):(this.$el.find(".current-debt").text(this.viewHelpers.l10nCurrency(t,n)+" "+n),this.updateDefaultPayInInstallmentAmount(e))},changeInstallment:function(){var t=this;e.trigger("oc-tooltip:show-mask",!0);var n=this.cardsList.getSelectedModel();n&&this.model.set("selectedCardTypeCode",n.get("TypeCode")),this.setIsPromotion(),this.model.calculateInstallment({success:function(){var n=t.model.get("Installment");t.$el.find("td.installment span.installment-amount").text(Ebre.Common.formatNumber(n)),e.trigger("oc-tooltip:show-mask",!1)},error:function(){e.trigger("oc-tooltip:close")}})},updateDefaultQuickCashAmount:function(e){this.model.set("QuickCashAmount",e.get("AvailableLimit")),this.$el.find("#oc-USRQC-quick-cash-inp").val(this.model.get("QuickCashAmount"))},updateDefaultPayInInstallmentAmount:function(e){var t=this.calculateMaxAmountToPayInInstallments(e.get("CurrentDebt"),e.get("MaxLimit"));this.model.set("PayInIntallmentAmount",t),this.$el.find("#oc-USRQC-amount-inp").val(this.model.get("PayInIntallmentAmount"))},updateCreditCardCurrentDebt:function(t){var n=this;e.trigger("oc-tooltip:show-mask",!0,!1),o.OneClickGetCreditCardCurrentDebt({params:{cardContract:t.get("ContractNumber")},success:function(i){e.trigger("oc-tooltip:show-mask",!1,!1);var o=t.get("Currency");t.set("CurrentDebt",i),n.$el.find(".current-debt").text(n.viewHelpers.l10nCurrency(i,o)+" "+o),n.updateDefaultPayInInstallmentAmount(t)},error:function(t){e.trigger("oc-tooltip:show-mask",!1,!1),e.trigger("oc-tooltip:close")}})},calculateMaxAmountToPayInInstallments:function(e,t){var n=this.model.get("QuickCashAmount"),i=this.model.get("step");if(e+n>t)return t;var o=e+n;return r.roundFloorValue(o,i)},calculateMinQuickCashAmount:function(e){var t,n=this.model.get("MinAmountToPayInInstallments"),i=this.model.get("step");return t=e<=n?n-e:this.model.get("MinQuickCashAmount"),r.roundCeilValue(t,i)},setQuickCashAmount:function(e){var t=this.cardsList.getSelectedModel(),n=t.get("AvailableLimit"),i=this.model.get("MinQuickCashCalculatedAmount"),o=this.model.get("step");e=r.validateAmountValue(e,n,i,o),this.model.set("QuickCashAmount",e),this.$el.find("#oc-USRQC-quick-cash-inp").val(I18n.toCurrency(e,{delimiter:" ",separator:"",precision:0})),this.setPayInInstallmentAmount(this.model.get("PayInIntallmentAmount"))},setPayInInstallmentAmount:function(e){var t=this.cardsList.getSelectedModel(),n=this.calculateMaxAmountToPayInInstallments(t.get("CurrentDebt"),t.get("MaxLimit")),i=this.model.get("MinAmountToPayInInstallments"),o=this.model.get("step");e=r.validateAmountValue(e,n,i,o),this.model.set("PayInIntallmentAmount",e),this.$el.find("#oc-USRQC-amount-inp").val(I18n.toCurrency(e,{delimiter:" ",separator:"",precision:0})),this.setAcceptButtonState(!0,this.acceptButton)},clearTimer:function(e){void 0!=e&&clearTimeout(e)},setQuickCashTimer:function(e){var t=this;this.quickCashAmountTimer=setTimeout(function(){var n=r.validateNumber($(e.currentTarget).val());t.setQuickCashAmount(n)},2e3)},setPayInInstallmentTimer:function(e){var t=this;this.payInInstallmentAmountTimer=setTimeout(function(){var n=r.validateNumber($(e.currentTarget).val());t.setPayInInstallmentAmount(n)},2e3)},setIsPromotion:function(){if(this.model.get("promotionCode")){var e=this.$el.find(".promotion-row");e.length?this.model.set("isPromotion",$.parseJSON(a.getRadioBtnChecked(e))):this.model.set("isPromotion",!0)}else this.model.set("isPromotion",!1)}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-USRQC-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"read"===e?t.OneClickGetUSRQCInitData({params:{initData:{ProductCode:n.get("advProductCode"),DefaultCreditCardSymbol:n.get("defaultCreditCard"),DefaultQuickCashAccNo:n.get("defaultQuickCashAccNo"),Step:n.get("step")}},success:i.success,error:i.error}):"create"===e&&t.OneClickSaveUSRQC({params:{applicationData:{CardNumber:this.get("selectedCardNumber"),CardContractNumber:this.get("selectedCardContractNumber"),CardTypeCode:this.get("selectedCardTypeCode"),QuickCashAccountNumber:this.get("selectedQuickCashAccount"),QuickCashAmount:this.get("QuickCashAmount"),Promotion:this.get("promotion"),PayInIntallmentAmount:this.get("PayInIntallmentAmount"),Period:this.get("defaultPeriod"),BankSymbol:this.get("bankSymbol"),ProductSymbol:this.get("productSymbol"),TarrifVersion:this.get("tarrifVersion")}},success:i.success,error:i.error})},getDefaultPeriodData:function(){for(var e,t=this.get("periods"),n=0,i=0,o=0;o<t.length;o++)t[o]<this.get("minimumPeriod")&&n++,t[o]==this.get("defaultPeriod")&&(i=o);var r=n>i?0:i-n;return this.get("defaultPeriod")<this.get("minimumPeriod")?(e=t[n],this.set("defaultPeriod",e)):e=t[i],{index:r,value:e}},calculateInstallment:function(e){var n=this;t.OneClickCalculateInstallmentUSRQC({params:{installmentData:{Amount:n.get("PayInIntallmentAmount"),Period:n.get("defaultPeriod"),CardType:n.get("selectedCardTypeCode"),IsPromotion:n.get("isPromotion"),Offer:{BankSymbol:n.get("bankSymbol"),ProductSymbol:n.get("productSymbol"),TarrifVersion:n.get("tarrifVersion")}}},success:function(t){n.attributes=_.extend(n.attributes,t),e.success()},error:e.error})},prepareConfirm:function(e){var n=this;t.OneClickPrepareConfirm({params:{uwApplicationId:this.get("UwApplicationId")},success:function(t){n.attributes=_.extend(n.attributes,t),e.success()},error:e.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-PKK.html",[],function(){return'{% \r\n    var selectedCreditCard = $.grep(CreditCards, function(e){ return e.IsSelected == true; })[0];\r\n    var cardCurrency = selectedCreditCard.Currency;\r\n    var newLimit = selectedCreditCard.MaxAvailableAmount + selectedCreditCard.GrantedLimit;\r\n%}\r\n\r\n<div class="infoBox-wrapper">\r\n    <div class="infoBox">\r\n        <span class="button show"></span>\r\n        <div class="containerInfoBox">\r\n            <div class="scroll">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-application">\r\n    <div class="image-container">\r\n        <img src="{{ selectedCreditCard.ImageUrl }}" class="card-image-small" />\r\n    </div>\r\n    <table class="table pkk">\r\n        {% if(promotionCode)\r\n        { %}\r\n        <tr class="promotion-row">\r\n            <th>{{I18n.t(\'moneyBar.oneClick.PKK.promotionLabel\')}}</th>\r\n            <td class="radio">\r\n                <span class="radio-wrapper checked" data-id="true">\r\n                    <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.Yes\')}}\r\n                <span class="radio-wrapper" data-id="false">\r\n                    <input type="radio"></span> {{ i18n(\'moneyBar.oneClick.No\')}}\r\n            </td>\r\n        </tr>\r\n        {% } %}\r\n        <tr>\r\n            <th class="list-label">{{I18n.t(\'moneyBar.oneClick.PKK.cardsListLabel\')}}</th>\r\n            <td class="credit-cards-list-container" />\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.PKK.increaseLimitLabel\')}}\r\n                <br />\r\n                ({{I18n.t(\'moneyBar.oneClick.PKK.maxLimitLabel\')}}. \r\n                <span id="increase-limit-amount-label">{{I18n.toCurrency(selectedCreditCard.MaxAvailableAmount, {delimiter: " ", separator: "", precision:0})}}</span> \r\n                <span class="card-currency">{{cardCurrency}}</span>)\r\n            </th>\r\n            <td>\r\n                <span>\r\n                    <span class="input">\r\n                        <input id="oc-PKK-amount-inp" type="text" value="{{ selectedCreditCard.MaxAvailableAmount }}" />\r\n                        <span class="card-currency">{{cardCurrency}}</span>\r\n                    </span>   \r\n                </span>\r\n            </td>\r\n        </tr>\r\n        <tr class="validation-row">\r\n            <td colspan="2">\r\n                <span class="info"></span>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>{{I18n.t(\'moneyBar.oneClick.PKK.newLimitLabel\')}}</th>\r\n            <td>\r\n                <span id="new-limit-amount" class="amount">{{l10nCurrency(newLimit, cardCurrency)}}</span> <span class="currency card-currency">{{cardCurrency}}</span>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <div class="bottom-anchored-container">\r\n        <div class="button-next-container">\r\n            <a class="btn-red-gradient" id="oc-PKK-btn-accept">{{I18n.t(\'moneyBar.oneClick.btnNextKO\')}}</a>\r\n        </div>\r\n        <div class="legal-notes-container">\r\n            <span class="disclaimer-text">{{LegalNotes.DisclaimerText}}</span>\r\n            <a id="oc-disclaimer-link" href="#" title="" target="_blank">{{I18n.t(\'moneyBar.oneClick.PKK.noteOneLinkText\')}}</a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="oc-amount-modification" class="content-tooltip medium" style="display: none">\r\n    <h4>{{I18n.t(\'moneyBar.oneClick.amountModificationTitle\')}}</h4>\r\n    <div class="activeAmount">\r\n        <div class="label">\r\n            {{I18n.t(\'moneyBar.oneClick.PKK.amountModificationGranted\')}}\r\n        </div>\r\n        <div class="data">\r\n            <span class="amount"></span>\r\n            <span> </span>\r\n            <span class="currency card-currency">{{cardCurrency}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="actions">\r\n        <a id="oc-PKK-modification-accept" class="btn-red-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n        <a class="btn-gray-gradient" href="#">{{I18n.t(\'moneyBar.oneClick.btnReject\')}}</a>\r\n    </div>\r\n</div>\r\n<div id="oc-wait" class="content-tooltip loading long oc-wait" style="display: none;">\r\n    <h3>{{I18n.t(\'moneyBar.oneClick.waitTitle\')}}</h3>\r\n    <div class="loader">\r\n        {{I18n.t(\'moneyBar.oneClick.waitText\')}}\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-PKK-view",["../../../../app/app","./common/oc-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-PKK.html","./common/dd-list","./utils/amount-validation-helper","./utils/radio-helper"],function(e,t,n,i,o,r){return t.extend({template:n,tagName:"div",id:"oc-PKK-start",readyState:!0,initialize:function(){t.prototype.initialize.apply(this,_.toArray(arguments)),this.cardsList=new i({model:new Backbone.Model({controlId:"cardsList"}),collection:new Backbone.Collection(this.model.get("CreditCards"))}),this.innerVent=new Backbone.Marionette.EventAggregator,this.innerVent.bindTo("dropDownList:change",this.onCardChange,this);var e=$.grep(this.model.get("CreditCards"),function(e){return 1==e.IsSelected})[0];this.model.set("IncreaseLimitAmount",e.MaxAvailableAmount),this.showConfirmationEventName="oc-KG-tooltip:confirmPKK"},events:{"mouseover .infoBox:not(.disabled) .button":"infoBoxButtonShow","mouseleave .infoBox:not(.disabled) .button":"infoBoxButtonHide","mouseleave .infoBox:not(.disabled) .containerInfoBox":"infoBoxButtonHide","blur #oc-PKK-amount-inp":"onAmountBlur","keypress  #oc-PKK-amount-inp":"onInputKeypress","click #oc-PKK-btn-accept":"submitPKK","click #oc-amount-modification .btn-red-gradient":"onAmountModifiedConfirm","click #oc-amount-modification .btn-gray-gradient":function(){return e.trigger("oc-tooltip:close"),!1}},submitPKK:function(){if(this.readyState){this.hideInfoBox(0);var e=this.cardsList.getSelectedModel(),t=this.model.get("IncreaseLimitAmount")+e.get("GrantedLimit");this.model.set("newLimit",t),this.model.set("selectedCard",e);var n=this.model.get("promotionCode"),i=null;n&&$.parseJSON(r.getRadioBtnChecked(this.$el.find(".promotion-row")))&&(i=n),this.model.set("promotion",i),this.saveForm("newLimit")}},onCardChange:function(){var e=this.cardsList.getSelectedModel(),t=this.$el.find("#oc-PKK-amount-inp");this.$el.find(".card-image-small").attr("src",e.get("ImageUrl"));var n=e.get("MaxAvailableAmount");t.val(n),this.$el.find("#increase-limit-amount-label").text(I18n.toCurrency(n,{delimiter:" ",separator:"",precision:0})),this.model.set("IncreaseLimitAmount",n);var i=e.get("Currency");this.$el.find(".card-currency").text(i),this.updateNewLimitAmount(),t.parents("tr").next().find(".info").text("")},onAmountBlur:function(e){this.clearTimer(this.quickCashAmountTimer);var t=o.validateNumber($(e.currentTarget).val());this.setAmount(t)},onRender:function(){t.prototype.onRender.apply(this,_.toArray(arguments)),this.storeRefs(),$("#oc-KG-tooltip .ui-tooltip-title h5").text(I18n.t("moneyBar.oneClick.PKK.title")),this.$el.find(".credit-cards-list-container").append(this.cardsList.render().$el),this.cardsList.activate(this.innerVent),r.initRadioButtons(this.$el),e.trigger("oc-tooltip:reposition")},storeRefs:function(){this.acceptButton=this.$el.find("#oc-PKK-btn-accept")},onInputKeypress:function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=$(e.currentTarget),n=e.which,i=e.keyCode;return 13===n?(t.blur(),!0):(n>=48&&n<=57||8===i||(37===i||39===i||46===i)&&0===n)&&(this.setAcceptButtonState(!1,this.acceptButton),t.is("#oc-PKK-amount-inp")&&(this.clearTimer(this.amountTimer),this.setAmountTimer(e)),!0)},updateNewLimitAmount:function(){var e=this.cardsList.getSelectedModel(),t=this.model.get("IncreaseLimitAmount")+e.get("GrantedLimit");this.$el.find("#new-limit-amount").text(this.viewHelpers.l10nCurrency(t,e.get("Currency")))},setAmount:function(e){if(this.model.get("IncreaseLimitAmount")!==e){var t=this.$el.find("#oc-PKK-amount-inp"),n=t.parents("tr").next().find(".info");n.text("");var i=this.cardsList.getSelectedModel(),r=i.get("MaxAvailableAmount"),a=this.model.get("step"),s=a;e>r&&n.text(I18n.t("moneyBar.oneClick.PKK.maxLimitInfoMsg")),e=o.validateAmountValue(e,r,s,a),this.model.set("IncreaseLimitAmount",e),t.val(e),this.updateNewLimitAmount(),this.setAcceptButtonState(!0,this.acceptButton)}},setAmountTimer:function(e){var t=this;this.amountTimer=setTimeout(function(){var n=o.validateNumber($(e.currentTarget).val());t.setAmount(n)},2e3)},clearTimer:function(e){void 0!=e&&clearTimeout(e)}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-PKK-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"read"===e?t.OneClickGetPKKInitData({params:{initData:{ProductCode:n.get("advProductCode"),DefaultCreditCardSymbol:n.get("defaultCreditCard"),Step:n.get("step"),MaxDryLimit:n.get("defaultAmount")}},success:i.success,error:i.error}):"create"===e&&t.OneClickSavePKK({params:{applicationData:{IncreaseLimitAmount:this.get("IncreaseLimitAmount"),GrantedLimit:this.get("selectedCard").get("GrantedLimit"),CardNumber:this.get("selectedCard").get("Value"),CardContractNumber:this.get("selectedCard").get("ContractNumber"),CardTypeCode:this.get("selectedCard").get("TypeCode"),Promotion:this.get("promotion"),BankSymbol:this.get("bankSymbol"),ProductSymbol:this.get("productSymbol"),TarrifVersion:this.get("tarrifVersion")}},success:i.success,error:i.error})},prepareConfirm:function(e){var n=this;t.OneClickPrepareConfirm({params:{uwApplicationId:this.get("UwApplicationId")},success:function(t){n.attributes=_.extend(n.attributes,t),e.success()},error:e.error})}})}),define("desktop/js/moneybar/models/tooltips/one-click/utils/models-validator",[],function(){return{validateUSRQCModel:function(e){var t=e.get("QuickCashAccounts"),n=e.get("CreditCards");return!(!t||0===t.length)&&!(!n||0===n.length)},validatePKKModel:function(e){var t=e.get("CreditCards");return!(!t||0===t.length)},validateUKKModel:function(e){var t=e.get("CreditCards");if(!t||0===t.length)return!1;var n=e.get("QuickCashAccounts");if(!n||0===n.length)return!1;var i=e.get("PaymentAccounts");return!(!i||0===i.length)},validateUKOModel:function(e){var t=e.get("Accounts");return!(!t||0===t.length)}}}),define("desktop/js/moneybar/views/income-credit",["../../app/app","./tooltips/one-click/oc-KG-view","../models/tooltips/one-click/oc-KG-model","../../services","./tooltips/one-click/oc-KO-view","../models/tooltips/one-click/oc-KO-model","./tooltips/one-click/oc-UKK-view","../models/tooltips/one-click/oc-UKK-model","./tooltips/one-click/oc-UKO-view","../models/tooltips/one-click/oc-UKO-model","./tooltips/one-click/oc-USRQC-view","../models/tooltips/one-click/oc-USRQC-model","./tooltips/one-click/oc-PKK-view","../models/tooltips/one-click/oc-PKK-model","../models/tooltips/one-click/utils/models-validator"],function(e,t,n,i,o,r,a,s,c,l,d,u,m,p,h){return function(f,k,v){$("#oc-KG-tooltip").remove(),e.updateOneClickPlaceholder=v,e.oneClickTooltipContainer=f.find(".credit-link"),e.oneClickTooltipContainer.attr("data-gemius-event-type","action"),e.oneClickTooltipContainer.attr("data-gemius-event-action-id","120119"),e.oneClickTooltipContainer.attr("data-gemius-event-action-name","desktop.moneybar.dodatkowe-srodki");var y=null,g=null,b=null;switch(k.ProductCode){case"KG":g=i.OneClickGetConfig({params:{advProductCode:k.ProductCode},success:function(e){g=e}}),y={ocView:null,title:I18n.t("moneyBar.oneClick.titleKG"),position:"center+65 bottom+28",side:"top",onShowFunc:function(e,i){this.ocView=new t({model:new n({defaultAmount:k.DefaultAmount,amountStep:k.Step,minAmount:k.MinAmount,maxAmount:k.MaxAmount,defaultInstalment:0,defaultPeriod:k.DefaultPeriod,minimumPeriod:0,periods:k.Periods,currency:k.Currency,accountNumber:k.AdditionalParameter,disclaimerText:g.disclaimerText,disclaimerUrl:g.disclaimerUrl,loanExample:g.loanExample,bankSymbol:k.UfBankSymbol,productSymbol:k.UfProductSymbol,tarrifVersion:k.TariffNo})}),$("#oc-KG-tooltip").append(this.ocView.render().$el),this.ocView.calculateInstallmentKG(!0)},onCloseFunc:function(t,n){this.ocView.hideInfoBox(),e.trigger("oc-KG-tooltip:restart")}};break;case"P_KO":g=i.OneClickGetConfig({params:{advProductCode:k.ProductCode},success:function(e){g=e}}),y={ocKOView:null,title:I18n.t("moneyBar.oneClick.titleKO"),position:"center+65 bottom+28",side:"top",onShowFunc:function(e,t){this.ocKOView=new o({model:new r({currentLimit:k.CurrentAmount,minLimitIncrease:k.MinAmount,maxLimitIncrease:k.MaxAmount,creditIncrease:k.DefaultAmount,step:k.Step,currency:k.Currency,accountNumber:k.AdditionalParameter,disclaimerText:g.disclaimerText,disclaimerUrl:g.disclaimerUrl,loanExample:g.loanExample,bankSymbol:k.UfBankSymbol,productSymbol:k.UfProductSymbol,tarrifVersion:k.TariffNo})}),$("#oc-KG-tooltip").append(this.ocKOView.render().$el)},onCloseFunc:function(t,n){this.ocKOView.hideInfoBox(),e.trigger("oc-KG-tooltip:restart")}};break;case"KK":y={ocUKKView:null,title:I18n.t("moneyBar.oneClick.UKK.title"),position:"center+65 top-28",side:"bottom",onShowFunc:function(t,n){var i=this,o=null;$("#oc-KG-tooltip").css("height",375),null!=b?(o=b,this.ocUKKView=new a({model:o}),$("#oc-KG-tooltip").append(i.ocUKKView.render().$el)):(e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!0),o=new s({productCode:k.ProductCode,defaultAmount:k.DefaultAmount,currency:k.Currency,step:k.Step,defaultPeriod:k.DefaultPeriod,minimumPeriod:k.Periods.sort(function(e,t){return e-t})[0],periods:k.Periods,creditCardTypes:k.CreditCardTypes,defaultCreditCard:k.DefaultCreditCard,defaultPaymentAccNo:k.DefaultPaymentAccNo,defaultQuickCashAccNo:k.DefaultQuickCashAccNo,bankSymbol:k.UfBankSymbol,productSymbol:k.UfProductSymbol,tarrifVersion:k.TariffNo,Installment:0,promotionCode:k.PromotionCode}),o.fetch({success:function(){if(!h.validateUSRQCModel(o))return void e.trigger("oc-tooltip:close");b=o,e.trigger("oc-tooltip:show-mask",!1),i.ocUKKView=new a({model:o}),$("#oc-KG-tooltip").append(i.ocUKKView.render().$el)}}))},onCloseFunc:function(t,n){this.ocUKKView&&(this.ocUKKView.hideInfoBox(),this.ocUKKView.heightChanged&&this.ocUKKView.restoreTooltipHeight(this.ocUKKView.$el.find(".quick-cash-container"))),e.trigger("oc-KG-tooltip:restart")}};break;case"KO":y={ocUKOView:null,title:I18n.t("moneyBar.oneClick.UKO.title"),position:"center+65 bottom+28",side:"top",onShowFunc:function(t,n){var i=this,o=null;$("#oc-KG-tooltip").addClass("oc-UKO-tooltip"),null!=b?(o=b,this.ocUKOView=new c({model:o}),$("#oc-KG-tooltip").append(i.ocUKOView.render().$el)):(e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!0),o=new l({advProductCode:k.ProductCode,defaultAccountFromCrm:k.DefaultAccount,minAmount:k.MinAmount,maxAmount:k.MaxAmount,defaultAmount:k.DefaultAmount,step:k.Step,currency:k.Currency,bankSymbol:k.UfBankSymbol,productSymbol:k.UfProductSymbol,tarrifVersion:k.TariffNo,promotionCode:k.PromotionCode}),o.fetch({success:function(){if(!h.validateUKOModel(o))return void e.trigger("oc-tooltip:close");b=o,e.trigger("oc-tooltip:show-mask",!1),i.ocUKOView=new c({model:o}),$("#oc-KG-tooltip").append(i.ocUKOView.render().$el)},error:function(){e.trigger("oc-tooltip:close")}}))},onCloseFunc:function(t,n){this.ocUKOView&&this.ocUKOView.hideInfoBox(),e.trigger("oc-KG-tooltip:restart")}};break;case"SNR_KK":y={ocUSRQCKView:null,title:I18n.t("moneyBar.oneClick.USRQC.title"),position:"center+65 top-28",side:"bottom",onShowFunc:function(t,n){var i=this,o=null;$("#oc-KG-tooltip").css("height",450),null!=b?(o=b,o.set("defaultPeriod",k.DefaultPeriod),o.set("Installment",0),this.ocUSRQCView=new d({model:o}),$("#oc-KG-tooltip").append(i.ocUSRQCView.render().$el)):(e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!0),o=new u({advProductCode:k.ProductCode,defaultAmount:k.DefaultAmount,defaultPeriod:k.DefaultPeriod,periods:k.Periods,minimumPeriod:k.Periods.sort(function(e,t){return e-t})[0],defaultCreditCard:k.DefaultCreditCard,defaultQuickCashAccNo:k.DefaultQuickCashAccNo,step:k.Step,currency:k.Currency,tarrifVersion:k.TariffNo,bankSymbol:k.UfBankSymbol,productSymbol:k.UfProductSymbol,promotionCode:k.PromotionCode}),o.fetch({success:function(){if(!h.validateUSRQCModel(o))return void e.trigger("oc-tooltip:close");b=o,e.trigger("oc-tooltip:show-mask",!1),i.ocUSRQCView=new d({model:o}),$("#oc-KG-tooltip").append(i.ocUSRQCView.render().$el)},error:function(){e.trigger("oc-tooltip:close")}}))},onCloseFunc:function(t,n){this.ocUKOView&&this.ocUKOView.hideInfoBox(),e.trigger("oc-KG-tooltip:restart")}};break;case"P_KK":y={ocPKKView:null,title:I18n.t("moneyBar.oneClick.PKK.title"),position:"center+65 top-28",side:"bottom",onShowFunc:function(t,n){var i=this,o=null;$("#oc-KG-tooltip").css("height",285),null!=b?(o=b,o.set("selectedCard",null),this.ocPKKView=new m({model:o}),$("#oc-KG-tooltip").append(i.ocPKKView.render().$el)):(e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!0),o=new p({advProductCode:k.ProductCode,defaultCreditCard:k.DefaultCreditCard,currency:k.Currency,step:k.Step,promotionCode:k.PromotionCode,defaultAmount:k.DefaultAmount,bankSymbol:k.UfBankSymbol,productSymbol:k.UfProductSymbol,tarrifVersion:k.TariffNo}),o.fetch({success:function(){if(!h.validatePKKModel(o))return void e.trigger("oc-tooltip:close");b=o,e.trigger("oc-tooltip:show-mask",!1),i.ocPKKView=new m({model:o}),$("#oc-KG-tooltip").append(i.ocPKKView.render().$el)},error:function(){e.trigger("oc-tooltip:close")}}))},onCloseFunc:function(t,n){this.ocUKOView&&this.ocUKOView.hideInfoBox(),e.trigger("oc-KG-tooltip:restart")}};break;default:y={onShowFunc:function(t,n){Ebre.Common.createErrorMessage("Unknown OneClick product code "+k.ProductCode,""),e.trigger("oc-tooltip:close")}}}f.find(".credit-link").mytooltip({tooltip:$("<div id='oc-KG-tooltip'>"),width:414,inDelay:0,outDelay:0,opening:"click",closing:"click",centerAfterShow:!1,closeOnExternalClick:!1,conditionToShow:function(e,t){return"hidden"===t.css("visibility")},closeOnEsc:!1,side:y.side,position:y.position,onShow:y.onShowFunc,onClose:y.onCloseFunc})}}),define("text!desktop/templates/moneybar/available-assets.html",[],function(){return'<div id="current-account-bar" class="bar">\r\n\t\t<div class="text left glow-up">\r\n\t\t\t<a href="#/calendar" class="planned-operations-link" data-gemius-event-type="action" data-gemius-event-action-id="120117" data-gemius-event-action-name="desktop.moneybar.operacje-zaplanowane">\r\n\t\t\t\t  {% if(currentAccPlanned > 0 && currentAccPlanned > currentAccBalance){ %}\r\n\t\t\t\t\t<span class=\'exclamation-mark\'>\r\n\t\t\t\t  {% } %}\r\n\t\t\t\t   <span class="f11">{{I18n.t(\'plannedOperations\')}}</span><br />\r\n\t\t\t\t    {% if(currentAccPlanned > 0 && currentAccPlanned > currentAccBalance){ %}\r\n\t\t\t\t    <span class="exclamation-char">!</span>{% } %}\r\n\t\t\t\t\t<span id="currentAccPlanned" class="amount">{{Ebre.Common.formatNumber(currentAccPlanned)}}</span>\r\n\t\t\t\t\t<span class="currency">{{currentAccCurrency}}</span>\r\n\t\t\t\t\t{% if(currentAccPlanned == 0){ %}\r\n\t\t\t\t\t<span>{{I18n.t(\'plan\').toLowerCase()}}</span>\r\n\t\t\t\t\t{% } %}\r\n\t\t\t\t{% if(currentAccPlanned > 0 && currentAccPlanned > currentAccBalance){ %}\r\n\t\t\t\t    </span>\r\n\t\t\t\t{% } %}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\r\n\r\n\t\t<div class="text right glow-up">\r\n\t\t\t<a href="#/accounts/current" class="current-account-link" data-gemius-event-type="action" data-gemius-event-action-id="120118" data-gemius-event-action-name="desktop.moneybar.wolne-srodki">\r\n\t\t\t  \t{% if(currentAccFree < 0){ %}\r\n\t\t\t\t<span class=\'exclamation-mark\'>\r\n\t\t\t\t{% } %}\r\n\t\t\t\t<span class="f11">{{I18n.t(\'freeResources\')}}</span><br />\r\n\t\t        \t{% if(currentAccFree < 0){ %}<span class="exclamation-char">!</span>{% } %}\r\n\t\t\t\t<span id="freeres" class="amount">{{Ebre.Common.formatNumber(currentAccFree)}}</span>\r\n\t\t\t\t<span class="currency">{{currentAccCurrency}}</span>\r\n\t\t\t\t{% if(currentAccFree < 0){ %}\r\n\t\t\t\t</span>\r\n\t\t\t\t{% } %}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\r\n    <div class="range-future"></div>\r\n{% if(!hideAllMoneyBarButtons){ %}\r\n            {% if(currentAccBalance > 0){ %}\r\n\t\t<div class="buttons">\r\n\t\t    {% } else { %}\r\n\t\t<div class="buttons-disabled">\r\n\t\t    {% } %}\r\n\t\t<a tabindex="1" id="transfer" href="#/transfer" class="btn-red-gradient" data-gemius-event-type="action" data-gemius-event-action-id="120112" data-gemius-event-action-name="desktop.moneybar.wykonaj-przelew">{{I18n.t(\'transfer\')}}</a>\r\n\t\t<a tabindex="2" id="my-transfer" href="#/transfer" class="btn-gray-gradient" data-gemius-event-type="action" data-gemius-event-action-id="120113" data-gemius-event-action-name="desktop.moneybar.na-wlasne-konto">{{I18n.t(\'toYourAccount\')}}</a>\r\n\r\n            {% if(Ebre.Entity.isPL() || Ebre.Entity.isOF()){ %}\r\n\t\t<a tabindex="3" id="phone-charge" href="#/transfer" class="btn-gray-gradient" data-gemius-event-type="action" data-gemius-event-action-id="120114" data-gemius-event-action-name="desktop.moneybar.doladuj-telefon">{{I18n.t(\'rechargePhone\')}}</a>\r\n            {% } %}\r\n        {% } else { %}\r\n\t\t<div class="buttons">\r\n        {% } %}\r\n\t    </div>\r\n\t<div class="nav-tools">\r\n\t\t<ul class="tabs bottom small">\r\n\t\t\t<li class="help">\r\n\t\t\t\t<a href="#" tabindex="4"><i class="icon-question-mark">?</i></a>\r\n\t\t\t</li>\r\n\t\t\t<li data-gemius-event-type="action" data-gemius-event-action-id="120116" data-gemius-event-action-name="desktop.moneybar.ustawienia">\r\n\t\t\t\t<a tabindex="5" id="settings-link" href="#/settings" title="{{I18n.t(\'settings\')}}"><i class="icon-gearworks">#</i></a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n'}),define("text!desktop/templates/moneybar/tooltip-account-state.html",[],function(){return'<dl>\r\n    <dt>{{I18n.t(\'currentCreditLimit\')}}</dt>\r\n    <dd><span class="actual-limit amount">{{Ebre.Common.formatNumber(currentAccCredLimit)}}</span>&nbsp;<span class="currency">{{currentAccCurrency}}</span></dd>\r\n    <dt>{{I18n.t(\'ownFunds\')}}</dt>\r\n    <dd><span class="own-resources amount">{{Ebre.Common.formatNumber(currentAccOwnFund)}}</span>&nbsp;<span class="currency">{{currentAccCurrency}}</span></dd>\r\n</dl>\r\n<hr />\r\n<dl>\r\n    <dt>{{I18n.t(\'availableResources\')}}</dt>\r\n    <dd class="bold"><span class="available-money">{{Ebre.Common.formatNumber(currentAccBalance)}}</span>&nbsp;<span class="currency">{{currentAccCurrency}}</span></dd>\r\n</dl>\r\n'}),define("desktop/js/moneybar/views/tooltips/account-state",["../../../app/app","text!desktop/templates/moneybar/tooltip-account-state.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"account-state-tooltip",initialize:function(){},onRender:function(){}})}),define("desktop/js/moneybar/views/available-assets",["../../app/app","text!desktop/templates/moneybar/available-assets.html","./tooltips/account-state","../../services"],function(e,t,n,i){return Backbone.Marionette.ItemView.extend({initialize:function(e){var t=this;this.model.on("change",function(){t.render()})},template:t,tagName:"div",events:{"click .buttons-disabled a":function(){return!1},"click .buttons #transfer":function(){return i.SetNavigationDataForMoneyBar({params:{link:"transfer"},success:function(e){Ebre.Common.NavigateTo(e)}}),!1},"click .buttons #my-transfer":function(){return i.SetNavigationDataForMoneyBar({params:{link:"my-transfer"},success:function(e){Ebre.Common.NavigateTo(e)}}),!1},"click .buttons #phone-charge":function(){if(Ebre.IB30.FeatureFlags.IsPaymentsPhoneChargeLiftingEnabled){var e=window.location.origin+"/payments/phonecharge";window.location.href=e}else i.SetNavigationDataForMoneyBar({params:{link:"phone-charge"},success:function(e){Ebre.Common.NavigateTo(e)}});return!1},"click .planned-operations-link":function(){return Ebre.Common.NavigateTo(Ebre.Modules.Desktop.Operations.Url.OperationListForMoneybar),!1},"click .current-account-link":function(){return i.SetNavigationDataForMoneyBar({params:{link:"current-account"},success:function(e){Ebre.Common.NavigateTo(e)}}),!1},"click #settings-link":function(){return Ebre.Common.NavigateTo(Ebre.Modules.Desktop.Settings.Url.MoneyBar),!1}},onRender:function(){var t=this;null!==e.cache.moneyBar.rangeBarPosition&&t.$el.find(".range-future:first").css({width:e.cache.moneyBar.rangeBarPosition+"%"}),setTimeout(function(){t.$el.find(".buttons-disabled a").animate({opacity:.5},2e3);var i=t.model.get("currentAccPlanned"),o=t.model.get("currentAccBalance"),r=i<o?600*i/o:600;i>0&&t.$el.find(".range-future:first").animate({width:r+"px"},1500),e.cache.moneyBar.rangeBarPosition=r;var a=t.$el,s=t.model;if($("#account-state-tooltip").remove(),Ebre.Venezia.Rodo){var c=new n({model:new Backbone.Model(s.attributes)});a.find(".bar").mytooltip({tooltip:c.render().$el,width:240,offset:{top:18,left:140},area:{minX:0,maxY:30},parentElement:"#desktop-page"})}$("#money-bar-available-assets-help-tooltip").remove();var l=a.find("li.help"),d=l.find("a");d.attr("aria-describedby","money-bar-available-assets-help-tooltip"),d.mytooltip({tooltip:$('<span role="tooltip"></span>').text(I18n.t("moneyBar.availableAssets.help")).attr("id","money-bar-available-assets-help-tooltip"),side:"bottom",position:"center top",offset:{top:5},parentElement:"#desktop-page"}),$("#settings-link-tooltip").remove();var u=$("#settings-link"),m=u.attr("title");u.attr("title",""),u.attr("aria-describedby","settings-link-tooltip"),u.mytooltip({tooltip:$('<span role="tooltip"></span>').text(m).attr("id","settings-link-tooltip"),side:"bottom",position:"center top",offset:{top:5},width:"auto",parentElement:"#desktop-page"})},200),this.$el.find("li.help a").click(function(){return!1})}})}),define("text!desktop/templates/moneybar/income-savings.html",[],function(){return'\r\n<div class="bar">\r\n\t<div class="text glow-up">\r\n\t\t<a href="#/accounts/saving" class="saving-account-link" data-gemius-event-type="action" data-gemius-event-action-id="120120" data-gemius-event-action-name="desktop.moneybar.oszczednosci">\r\n\t\t\t<span class="f11">{{I18n.t(\'savings\')}}</span><br />\r\n\t\t\t<span class="amount">{{Ebre.Common.formatNumber(savingAccBalance)}}</span>\r\n\t\t\t<span class="currency">{{savingAccCurrency}}</span>\r\n\t\t</a>\r\n\t</div>\r\n        {% if(savingAccBalance > 0){ %}\r\n    <a href="javascript:void(0);" class="transfer-arrow" tabindex="0" aria-label="{{I18n.t(\'moneyBar.incomeSavings.transferFromEmax\')}}" data-gemius-event-type="action" data-gemius-event-action-id="120121" data-gemius-event-action-name="desktop.moneybar.oszczednosci-przelew"></a>\r\n        {% } else { %}\r\n\t\t    <a href="javascript:void(0);" class="transfer-arrow-inactive"></a>\r\n\t    {% } %}\r\n</div>\r\n'}),define("text!desktop/templates/moneybar/tooltip-savings-transfer.html",[],function(){return'<div class="transfer-space">\r\n    <span class="nice-input-btn">\r\n        <input id="savingsTransferAmountInput" class="savings-amount" maxlength="22" type="text" value="" />\r\n        <button class="savings-transfer-btn" disabled="disabled">OK</button>\r\n    </span>\r\n    <span class="error"></span>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/savings",["../../../app/app","text!desktop/templates/moneybar/tooltip-savings-transfer.html"],function(e,t){function n(e){$(e).closest(".ui-tooltip").removeClass("ui-tooltip-invalid");var t=$(e).closest("div").find("span.error");t.text(""),t.removeAttr("role"),$(".money-bar .income-savings .transfer-arrow").mytooltip("reposition")}function i(e,t){e.find(".savings-amount").on("change",function(){if($(this).val(Ebre.Common.formatNumber($(this).val())),!$(this).val()||!Ebre.Extensions.isNumberRepresentation($(this).val().toString())||Ebre.Common.toNumber($(this).val()).valueOf()<.01)return n(this),$(this).siblings("button").attr("disabled","disabled"),$(this).val(""),!1;$(this).siblings("button").removeAttr("disabled"),n(this)}).on("keypress",function(e){e=e||window.event;var t="number"==typeof e.which?e.which:e.keyCode;if(13==t)return $(this).hasClass("transfer-confirmed")||($(this).addClass("transfer-confirmed"),$(this).siblings("button").click()),!1;if($(this).removeClass("transfer-confirmed"),!Ebre.Common.justNumber(e))return!1;if(this.value+String.fromCharCode(t)=="")$(this).siblings("button").attr("disabled","disabled");else if(this.value){var n=this.value.split(Ebre.Common.getLang().number.format.separator)[0].match(/\d/g);if(n&&n.length>=15&&8!=t&&0!=t&&(!e.ctrlKey||120!=t&&118!=t&&99!=t&&97!=t))return!1}}).on("keyup",function(e){e=e||window.event;"number"==typeof e.which?e.which:e.keyCode;parseFloat($(this).val().replace(",","."))<.01?$(this).siblings("button").attr("disabled","disabled"):$(this).siblings("button").removeAttr("disabled");var t=this.value.split(Ebre.Common.getLang().number.format.separator),n=t[0];if(void 0!==t[1])var i=t[1];n&&i&&i.length>2&&$(this).val(n+Ebre.Common.getLang().number.format.separator+i.substr(0,2))})}function o(t,i){t.find(".savings-transfer-btn").on("click",function(){$(this).blur();var t=$(this).siblings("input");if(t.val()){if(!Ebre.Extensions.isNumberRepresentation(t.val().toString()))return n(this),$(this).attr("disabled","disabled"),t.val(""),!1;if(Ebre.Common.toNumber(t.val())>i.get("savingAccBalance")){var o=$(this).closest("div").find("span.error");return o.text(I18n.t("moneyBar.incomeSavings.notEnoughMoneyError")),o.attr("role","alert"),$(this).attr("disabled","disabled"),$(this).closest(".ui-tooltip").addClass("ui-tooltip-invalid"),$(".money-bar .income-savings .transfer-arrow").mytooltip("reposition"),t.focus(),!1}if(Ebre.Common.toNumber(t.val())<.01)return!1;n(this),i.set("transferAmount",Ebre.Common.toNumber(t.val()).valueOf()),$(".money-bar .income-savings .transfer-arrow").mytooltip("mask","add",!0),i.save(void 0,{success:function(t,n){$(".money-bar .income-savings .transfer-arrow").mytooltip("mask","remove"),e.trigger("savings-transfer-tooltip:show-confirmation",n,t)}})}else $(this).attr("disabled","disabled"),t.focus()})}return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"savings-transfer-tooltip",initialize:function(){},onRender:function(){i(this.$el,this.model),o(this.$el,this.model)}})}),define("desktop/js/moneybar/models/tooltips/savings",["../../../app/app","../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.Transfer({amount:this.get("transferAmount"),accountNumber:this.get("currentAccNumber"),success:i.success,error:i.error})}})}),define("desktop/js/moneybar/views/income-savings",["../../app/app","text!desktop/templates/moneybar/income-savings.html","./tooltips/savings","../models/tooltips/savings","../../services"],function(e,t,n,i,o){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",events:{"click .transfer-arrow-inactive":function(){return!1},"click .saving-account-link":function(){return o.SetNavigationDataForMoneyBar({params:{link:"saving-account"},success:function(e){Ebre.Common.NavigateTo(e)}}),!1}},initialize:function(){var e=this;this.model.on("change",function(){e.render()})},onRender:function(){var t=this.$el,r=this.model;$("#savings-transfer-tooltip").remove();var a=new n({model:new i(r.attributes)});Ebre.Entity.isPL()||Ebre.Entity.isOF()?t.find(".transfer-arrow").mytooltip({tooltip:a.render().$el,title:Ebre.Extensions.format("{0} {1}",I18n.t("moneyTransfer"),r.get("savingAccCurrency")),titleElement:"<label for='savingsTransferAmountInput'></label>",width:220,opening:"click",closing:"click",side:"top",position:"bottom",offset:{top:20},onShow:function(t,n){setTimeout(function(){e.trigger("savings-tooltip:restart"),n.find("input:visible:first").focus(),o.PrepareTransfer()},0)},onClose:function(t){e.trigger("savings-tooltip:restart")},closeOnEsc:!1,closeOnExternalClick:!1,parentElement:"#desktop-page"}):t.find(".transfer-arrow").click(function(){return o.SetNavigationDataForMoneyBar({params:{link:"saving-account-to-current-account"},success:function(e){Ebre.Common.NavigateTo(e)}}),!1})}})}),define("desktop/js/moneybar/models/tooltips/direct-credit-offer",["../../../app/app","../../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({sync:function(e,i,o){"read"===e&&t.GetDirectCreditOfferData({success:o.success,error:n||o.error})}})}),define("text!desktop/templates/moneybar/tooltips/direct-credit-offer.html",[],function(){return'\r\n<div id="money-bar-direct-credit-btn-cash-id" class="money-bar-direct-credit-btn-cash" data-gemius-event-type="action" data-gemius-event-action-id="120004" data-gemius-event-action-name="desktop-moneybar-directoffer-cashcredit">\r\n    <div>Kredyt gotówkowy</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-renewable-id" class="money-bar-direct-credit-btn-renewable" data-gemius-event-type="action" data-gemius-event-action-id="120002" data-gemius-event-action-name="desktop-moneybar-directoffer-renewablecredit">\r\n    <div>Kredyt odnawialny</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-card-id" class="money-bar-direct-credit-btn-card" data-gemius-event-type="action" data-gemius-event-action-id="120001" data-gemius-event-action-name="desktop-moneybar-directoffer-creditcard">\r\n    <div>Karta kredytowa</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-car-id" class="money-bar-direct-credit-btn-car" data-gemius-event-type="action" data-gemius-event-action-id="120003" data-gemius-event-action-name="desktop-moneybar-directoffer-carcredit">\r\n    <div>Kredyt samochodowy</div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/direct-credit-offer",["../../models/tooltips/direct-credit-offer","text!desktop/templates/moneybar/tooltips/direct-credit-offer.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"direct-credit-offer-tooltip-start",className:"money-bar-direct-credit",doUWSubmit:function(e){$.get(e,function(e){$("#direct-credit-offer-tooltip-start").html(e)})},events:{'mouseenter div[class^="money-bar-direct-credit-btn"]':function(e){var t=$(e.currentTarget),n=t.attr("class"),i=n+"-hover";t.removeClass(n),t.addClass(i)},'mouseleave div[class^="money-bar-direct-credit-btn"]':function(e){var t=$(e.currentTarget),n=t.attr("class"),i=n.substring(0,n.length-"-hover".length);t.removeClass(n),t.addClass(i)},"click #money-bar-direct-credit-btn-renewable-id":function(e){this.doUWSubmit(this.model.get("linkKO"))},"click #money-bar-direct-credit-btn-cash-id":function(e){this.doUWSubmit(this.model.get("linkKG"))},"click #money-bar-direct-credit-btn-card-id":function(e){this.doUWSubmit(this.model.get("linkKK"))},"click #money-bar-direct-credit-btn-car-id":function(e){this.doUWSubmit(this.model.get("linkKS"))}},load:function(t){this.model||(this.model=new e,this.model.fetch(t))}})}),define("text!desktop/templates/moneybar/direct-credit-offer.html",[],function(){return'<div class="bar">\r\n    <div class="text glow-up">\r\n        {% if(advData.CreditLimit != 0){ %}\r\n        <span>Mamy dla Ciebie dodatkowe środki</span><br />\r\n        <span>do: </span><span class="amount">{{advData.CreditLimit}} {{advData.Currency}}</span>\r\n        {% } else { %}\r\n        <span>Dodatkowe środki</span>\r\n        {% } %}\r\n    </div>\r\n    <a href="javascript:void(0)" class="transfer-arrow credit-link"></a>\r\n</div>'}),define("desktop/js/moneybar/views/direct-credit-offer",["./tooltips/direct-credit-offer","text!desktop/templates/moneybar/direct-credit-offer.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"direct-credit-offer-btn",className:"cell",initialize:function(t){this.advData=t,this.tooltipView=new e(t)},templateHelpers:function(){return{advData:this.advData}},onRender:function(){var e=this,t="direct-credit-offer-tooltip",n=!1,i=function(t){var i=$(t.target);!n&&$("#direct-credit-offer-tooltip").has(i).length<=0&&e.$el.mytooltip("close"),n=!1};this.$el.mytooltip({tooltip:$("<div id='direct-credit-offer-tooltip' style='width:256px;height:219px'><div class='ui-tooltip-title'></div></div>"),title:null,titleElement:null,width:"256px",height:"219px",position:"left+27 center-2",side:"right",centerAfterShow:!0,opening:"click",closing:"click",closeOnEsc:!0,closeOnExternalClick:!0,conditionToShow:function(e,t){return"hidden"===t.css("visibility")},onShow:function(){n=!0,$("body").on("click",i),e.tooltipView.load({success:function(){$("#"+t).append(e.tooltipView.render().$el),$("#"+t).find(".ui-tooltip-title").remove(),$("#"+t).css("padding","0 0 0 0")}})},onClose:function(){n=!1,$("body").unbind("click",i)}})},beforeClose:function(){this.tooltipView.close(),this.$el.mytooltip("close"),this.$el.mytooltip("destroy")}})}),define("desktop/js/moneybar/models/tooltips/direct-credit-offer-firm",["../../../app/app","../../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({sync:function(e,i,o){"read"===e&&t.GetDirectCreditOfferDataForFirm({success:o.success,error:n||o.error})}})}),define("text!desktop/templates/moneybar/tooltips/direct-credit-offer-firm.html",[],function(){return'\r\n<div id="money-bar-direct-credit-btn-firm-account-credit-id" class="credit-button money-bar-direct-credit-btn-firm-account-credit" data-gemius-event-type="action" data-gemius-event-action-id="120051" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-accountcredit">\r\n    <div>Kredyt w rachunku firmowym</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-firm-credit-id" class="credit-button money-bar-direct-credit-btn-firm-credit" data-gemius-event-type="action" data-gemius-event-action-id="120052" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-credit">\r\n    <div>Pożyczka dla firm</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-car-id" class="credit-button money-bar-direct-credit-btn-car" data-gemius-event-type="action" data-gemius-event-action-id="120053" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-carcredit">\r\n    <div>Kredyt samochodowy dla firm</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-leasing-id" class="credit-button money-bar-direct-credit-btn-leasing" data-gemius-event-type="action" data-gemius-event-action-id="120054" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-leasing">\r\n    <div>Leasing</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-card-id" class="credit-button money-bar-direct-credit-btn-card" data-gemius-event-type="action" data-gemius-event-action-id="120055" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-creditcard">\r\n    <div>Karta kredytowa dla firm</div>\r\n</div>'}),define("desktop/js/moneybar/views/tooltips/direct-credit-offer-firm",["../../models/tooltips/direct-credit-offer-firm","text!desktop/templates/moneybar/tooltips/direct-credit-offer-firm.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"direct-credit-offer-tooltip-start",className:"money-bar-direct-credit",doUWSubmit:function(e){$.get(e,function(e){$("#direct-credit-offer-tooltip-start").html(e)})},events:{"click #money-bar-direct-credit-btn-firm-account-credit-id":function(e){this.doUWSubmit(this.model.get("linkFirmAccountCredit"))},"click #money-bar-direct-credit-btn-firm-credit-id":function(e){this.doUWSubmit(this.model.get("linkFirmCredit"))},"click #money-bar-direct-credit-btn-car-id":function(e){this.doUWSubmit(this.model.get("linkCar"))},"click #money-bar-direct-credit-btn-leasing-id":function(e){this.doUWSubmit(this.model.get("linkLeasing"))},"click #money-bar-direct-credit-btn-card-id":function(e){this.doUWSubmit(this.model.get("linkCreditCard"))}},load:function(t){this.model||(this.model=new e,this.model.fetch(t))}})}),define("desktop/js/moneybar/views/direct-credit-offer-firm",["./tooltips/direct-credit-offer-firm","text!desktop/templates/moneybar/direct-credit-offer.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"direct-credit-offer-btn",className:"bar",initialize:function(t){this.advData=t,this.tooltipView=new e(t)},templateHelpers:function(){return{advData:this.advData}},onRender:function(){var e=this,t="direct-credit-offer-tooltip",n=!1,i=function(t){var i=$(t.target);!n&&$("#direct-credit-offer-tooltip").has(i).length<=0&&e.$el.mytooltip("close"),n=!1};this.$el.mytooltip({tooltip:$("<div id='direct-credit-offer-tooltip' class='direct-credit-offer-tooltip-firm' style='width:286px;height:209px'><div class='ui-tooltip-title'></div></div>"),title:null,titleElement:null,width:"286px",height:"209px",position:"left+27 center-2",side:"right",centerAfterShow:!0,opening:"click",closing:"click",closeOnEsc:!0,closeOnExternalClick:!0,conditionToShow:function(e,t){return"hidden"===t.css("visibility")},onShow:function(){n=!0,$("body").on("click",i),e.tooltipView.load({success:function(){$("#"+t).append(e.tooltipView.render().$el),$("#"+t).find(".ui-tooltip-title").remove(),$("#"+t).css("padding","0 0 0 0")}})},onClose:function(){n=!1,$("body").unbind("click",i)}})},beforeClose:function(){this.tooltipView.close(),this.$el.mytooltip("close"),this.$el.mytooltip("destroy")}})}),define("text!desktop/templates/moneybar/moneybar-header.html",[],function(){return'<div class="headers">\r\n    <div class="income-credit-header section">&nbsp;</div>\r\n    <div class="available-assets-header section">\r\n        <div class="money-bar-header">\r\n            <span class="account-name" id="account-name-id" tooltip="{{currentAccountDescription}}">{{currentAccDescription}}</span> - {{I18n.t(\'balance\').toLowerCase()}}\r\n            <span id="currentAccBalance" class="amount bold">{{Ebre.Common.formatNumber(currentAccBalance)}}</span>\r\n            <span class="currency">{{currentAccCurrency}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="income-savings-header section">\r\n        <div class="money-bar-header" id="income-savings-header-id" tooltip="{{savingsAccountDescription}}">{{savingAccDescription}}</div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/moneybar-header",["../../app/app","text!desktop/templates/moneybar/moneybar-header.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",initialize:function(){var e=this;this.model.on("change",function(){e.render()})}})}),define("desktop/js/shared/income-credit-hover",[],function(){var e=function(e){e.trigger("click",[{clickedBy:"hover"}])};return{mouseEnter:function(e){clearTimeout(this.incomeCreditMouseOverTimeout),this.incomeCreditMouseOverTimeout=setTimeout(this.mapMouseEventToClick,500,e)},mouseLeave:function(){clearTimeout(this.incomeCreditMouseOverTimeout)},mapMouseEventToClick:e}}),define("desktop/js/moneybar/views/moneybar-layout",["../../app/app","text!desktop/templates/moneybar/moneybar-layout.html","../models/money-bar","./income-credit","./available-assets","./income-savings","./direct-credit-offer","./direct-credit-offer-firm","./moneybar-header","../../shared/income-credit-hover"],function(e,t,n,i,o,r,a,s,c,l){return Backbone.Marionette.Layout.extend({template:t,tagName:"div",attributes:{id:"money-bar"},events:{"mouseover .credit-link,.income-credit":function(){l.mouseEnter($(".credit-link"))},"mouseout .credit-link,.income-credit":function(){l.mouseLeave()}},regions:{incomeCredit:".income-credit",availableAssets:".available-assets",incomeSavings:".income-savings",moneybarHeaders:".headers"},onRender:function(){setTimeout(function(){var e=$("#account-name-id"),t=e.attr("tooltip");e.mytooltip({tooltip:$("<span></span>").text(t),width:"auto",offset:"-2 -2",inDelay:0,outDelay:0,side:"top",position:"center bottom"});var n=$("#income-savings-header-id"),i=n.attr("tooltip");n.mytooltip({tooltip:$("<span></span>").text(i),width:"auto",offset:"-2 -2",inDelay:0,outDelay:0,side:"top",position:"center bottom"})},200)},getDirectCreditOfferView:function(e){return!0===Ebre.Modules.Desktop.IsFirmProfileContext?new s(e):new a(e)},loadMoneyBar:function(){var t=e.cache.moneyBar.model=new n,a=this;t.fetch({success:function(){if(t.afterSync(),t.get("currentAccNumber")){if(t.get("savingAccDescription")&&t.get("savingAccNumber")&&a.incomeSavings.show(new r({model:t})),Ebre.Modules.Desktop.WhirlWindScripts&&require([Ebre.Modules.Desktop.WhirlWindScripts],function(){var e=$(".income-credit"),n={creditLimit:t.get("maxCreditLimit"),currency:t.get("currentAccCurrency"),accountNumber:t.get("currentAccNumber")};require([Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/Engine/OneClickController.js",Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/View/AdvRegistry.js",Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/adv-init-one-click.js"],function(t,o,r){var s=t.getAdvData(n);s.AdvMsgExists||!Ebre.Entity.isPL()||Ebre.User.isPB?r([o.Placeholders.OneClick],e,n,i):a.incomeCredit.show(a.getDirectCreditOfferView(s))})}),a.availableAssets.show(new o({model:t})),a.moneybarHeaders.show(new c({model:t})),!Ebre.Venezia.Rodo){$("#money-bar").addClass("rodo");var e=["#current-account-bar span",".money-bar-header .amount",".money-bar-header .currency"];$.each(e,function(e,t){$(t).addClass("rodo-popup-area").attr("aria-label",I18n.t("rodo.notification.message")).text("")})}$("#desktop-app-view").find("#money-bar").css({visibility:"visible",display:"none"}).fadeIn("slow"),$("#desktop-app-view").find(".moneybar-preloader").fadeOut("slow",function(){$("#desktop-app-view").find(".moneybar-preloader").remove(),t.get("currentAccFree")>0&&a.$el.find("#transfer").trigger("focus")})}}})}})}),define("text!desktop/templates/moneybar/tooltip-transfer-confirmation.html",[],function(){return'<dl>\r\n    <dt>{{I18n.t(\'from\')}}</dt>\r\n    <dd>{{savingAccDescription}}</dd>\r\n    <dt>{{I18n.t(\'to\')}}</dt>\r\n    <dd>{{currentAccDescription && currentAccDescription.length > 0 ? currentAccDescription : I18n.t(\'currentAccount\')}}</dd>\r\n    <dt>{{I18n.t(\'amount\')}}</dt>\r\n    <dd><strong class="amount-detail">{{Ebre.Common.formatNumber(transferAmount)}}</strong>&nbsp;{{savingAccCurrency}}</dd>\r\n    {% if(commission > 0) { %}\r\n    <dt>{{I18n.t(\'commissionLabel\')}}</dt>\r\n    <dd>{{Ebre.Common.formatNumber(commission)}}&nbsp;{{commissionCurr}}</dd>\r\n    {% } %}\r\n</dl>\r\n<div class="content-tooltip-form">\r\n{% if(authType.toUpperCase() == \'S\') { %}\r\n    <div class="sms-confirmation row-auth-code">\r\n        <label for="sms-code">{{I18n.t(\'enterSmsCode\')}}</label><br />\r\n        <span class="operation">{{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), operationNumber, currentDate)}}</span>\r\n        <input name="sms-code" class="code-input" maxlength="8" type="text" aria-label="{{I18n.t(\'enterSmsCode\')}} {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), operationNumber, currentDate)}}" />\r\n        <span class="error"></span>\r\n    </div>\r\n{% } else if(authType.toUpperCase() == \'T\') { %}\r\n    <div class="tan-confirmation row-auth-code">\r\n        <label for="tan-code">{{I18n.t(\'enterTanCode\')}}</label><br />\r\n        <span class="operation">{{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber, tanListNumber)}}</span>\r\n        <input name="tan-code" class="code-input" maxlength="5" type="password" aria-label="{{I18n.t(\'enterTanCode\')}} {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber, tanListNumber)}}" />\r\n        <span class="error"></span>\r\n    </div>\r\n{% } else { %}\r\n\t<br />\r\n{% } %}\r\n    <div class="buttons-container">\r\n        <input type="submit" class="btn-red-gradient commit" aria-label="{{I18n.t(\'from\')}} {{savingAccDescription}} {{I18n.t(\'to\')}} {{currentAccDescription && currentAccDescription.length > 0 ? currentAccDescription : I18n.t(\'currentAccount\')}} {{Ebre.Common.formatNumber(transferAmount)}} {{savingAccCurrency}} {{I18n.t(\'submit\')}}" value="{{I18n.t(\'submit\')}}" />\r\n        <input type="submit" class="btn-gray-gradient cancel" aria-label="{{I18n.t(\'from\')}} {{savingAccDescription}} {{I18n.t(\'to\')}} {{currentAccDescription && currentAccDescription.length > 0 ? currentAccDescription : I18n.t(\'currentAccount\')}} {{Ebre.Common.formatNumber(transferAmount)}} {{savingAccCurrency}} {{I18n.t(\'cancel\')}}" value="{{I18n.t(\'cancel\')}}" />\r\n    </div>\r\n\r\n</div>'}),define("desktop/js/moneybar/views/tooltips/transfer-confirmation",["../../../app/app","text!desktop/templates/moneybar/tooltip-transfer-confirmation.html",nmbPaths.global.js+"validators/auth-password"],function(e,t,n){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",className:"confirmation-space",events:{"click .commit":function(){var t=(this.$el,this.$el.find("input.code-input"));if("N"!=this.model.get("authType").toUpperCase()){var i=n(t.val(),this.model.get("authType"));if("OK"!=i)return t.focus(),t.effect("highlight",{},500),e.trigger("error:auth",i),!1}this.model.set("authCode",t.length?t.val():""),$(".money-bar .income-savings .transfer-arrow").mytooltip("mask","add",!0),this.model.save(void 0,{success:function(t,n){e.trigger("show:successmessage",n.message),Ebre.Modules.Desktop.Accounts.defaultDesktopTab==Ebre.Modules.Desktop.ViewTypes[0].viewType?(e.trigger("load:history"),e.cache.accounts=null):(e.trigger("load:accounts"),e.cache.history=null),e.trigger("savings-tooltip:reset"),e.cache.moneyBar.model.set(n.moneybar)}})},"click .cancel":function(){e.trigger("savings-tooltip:reset")},"keypress input[type=text]":function(e){if(!Ebre.Common.justNumberSimple(e))return!1},"keypress input[type=password]":function(e){if(!Ebre.Common.justNumberSimple(e))return!1}},onRender:function(){}})}),define("desktop/js/moneybar/models/tooltips/transfer-confirmation",["../../../app/app","../../../services"],function(e,t){return Backbone.Model.extend({sync:function(n,i,o){if("create"===n){t.ConfirmTransfer({data:{authCode:this.get("authCode"),amount:this.get("transferAmount"),authType:this.get("authType")},success:function(t){null!=t.errorMessage?e.trigger("error:auth",t.errorMessage):o.success(t)}})}}})}),define("text!desktop/templates/history/history-layout.html",[],function(){return'<div id="history-list-pane" ></div>'}),define("text!desktop/templates/history/history-item.html",[],function(){return'<ul class="operation-properties" data-gemius-event-type="action" data-gemius-event-action-id="120102" data-gemius-event-action-name="desktop.ostatnie-operacje-szczegoly-body">\r\n  <li class="operation-icon"><span class="icon icon{{icon}}"></span></li>\r\n  <li class="operation-date">{{I18n.strftime(date,\'%d.%m.%Y\')}}</li>\r\n  <li class="operation-title">{{desc}}</li>\r\n  <li class="operation-category">{{subCategName}}</li>\r\n  <li class="operation-balance">{{Ebre.Common.formatNumber(amount)}}<span class="currency"> {{currency}}</span></li>\r\n</ul>\r\n<span class="buttons">\r\n    <a class="btn-gray-gradient view-action" href="#" data-gemius-event-type="action" data-gemius-event-action-id="120103" data-gemius-event-action-name="desktop.ostatnie-operacje-szczegoly-button">\r\n        {{I18n.t(\'details\')}}\r\n        <span class="operation-accessabilty-nohide"> {{desc}} {{I18n.strftime(date,\'%d.%m.%Y\')}} {{Ebre.Common.formatNumber(amount)}} {{currency}}</span>\r\n    </a>\r\n    {% if(Ebre.Venezia.Rodo === true) { %}\r\n    <a class="btn-gray-gradient edit-action" href="#" data-gemius-event-type="action" data-gemius-event-action-id="120104" data-gemius-event-action-name="desktop.ostatnie-operacje-edytuj">\r\n        {{I18n.t(\'edit\')}}\r\n        <span class="operation-accessabilty-nohide"> {{desc}} {{I18n.strftime(date,\'%d.%m.%Y\')}} {{Ebre.Common.formatNumber(amount)}} {{currency}}</span>\r\n    </a>\r\n    {% } %}\r\n</span>\r\n'}),define("desktop/js/history/views/history-view-item",["text!desktop/templates/history/history-item.html","../../services"],function(e,t){"use strict";return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"operation-row content-list-row",attributes:function(){return{"data-contractnumber":this.model.get("shortAccountNumber").toString().replace(/ /g,""),"data-operationnumber":this.model.get("transactionId").toString(),"data-categorized":this.model.get("categorized").toString()}},events:{mouseenter:"showButtons",mouseleave:"hideButtons","click .view-action":"gotoDetails",click:"gotoDetails","blur .edit-action":"hideButtons","blur .view-action":"hideButtons","focus .edit-action":"showButtons","focus .view-action":"showButtons","click .edit-action":function(){return t.SetNavigationDataForHistory({params:{transactionId:this.model.get("transactionId"),authorizationId:this.model.get("authorizationId"),accountNumber:this.model.get("accountNumber"),creditCardNumber:this.model.get("creditCardNumber"),openEdition:!0},success:function(e){Ebre.Common.NavigateTo(e)}}),!1}},onShow:function(){var e=this.$el.find("li.operation-title");e[0].scrollWidth>e.width()&&e.mytooltip({tooltip:$('<span><span class="text"></span></span>').children(".text").text(this.model.get("desc",{silent:!0})).parent().css("z-index",1e4),width:180,offset:"0 -6",inDelay:0,outDelay:0,side:"top",position:"center bottom"});var t=this.$el.find("li.operation-icon .icon"),n=this.model.get("iconDescription");n&&t.mytooltip({tooltip:$("<span></span>").text(n).css("z-index",1e4),offset:"0 -6",inDelay:0,outDelay:0,width:"auto",side:"top",position:"center bottom"}),Ebre.Venezia.Rodo||(this.$el.find("li.operation-category").addClass("rodo rodo-popup-area").attr("aria-label",I18n.t("rodo.notification.message")).text(""),this.model.set("subCategName",""))},showButtons:function(){this.$el.find(".buttons").addClass("visible")},hideButtons:function(){this.$el.find(".buttons").removeClass("visible")},gotoDetails:function(){return t.SetNavigationDataForHistory({params:{transactionId:this.model.get("transactionId"),authorizationId:this.model.get("authorizationId"),accountNumber:this.model.get("accountNumber"),creditCardNumber:this.model.get("creditCardNumber"),openEdition:!1},success:function(e){Ebre.Common.NavigateTo(e)}}),!1}})}),define("desktop/js/history/views/history-view-empty",[],function(){"use strict";return Backbone.Marionette.ItemView.extend({template:"{{i18n('history.empty')}}",tagName:"li",className:"empty"})}),define("text!desktop/templates/history/history-items.html",[],function(){return'<div class="operations-view">\r\n  <section class="operations operations-recent">\r\n    <ul id="history-list" class="operations-recent-list content-list-body"></ul>\r\n    <footer class="sticky">\r\n\t<a id="full-history" href="#" class="btn-gray-gradient" data-gemius-event-type="action" data-gemius-event-action-id="120105" data-gemius-event-action-name="desktop.ostatnie-operacje-zobacz-historie">{{I18n.t(\'history.bottomTabName\')}}</a>\r\n    </footer>\r\n  </section>\r\n</div>'}),define("desktop/js/history/views/history-view-listitems",["./history-view-item","./history-view-empty","text!desktop/templates/history/history-items.html"],function(e,t,n){"use strict";return Backbone.Marionette.CompositeView.extend({template:n,itemView:e,emptyView:t,events:{"click #full-history":function(){return Ebre.Common.NavigateTo(Ebre.Modules.Desktop.History.Url.History),!1}},appendHtml:function(e,t,n){t.model.attributes.amount>0&&t.$el.find(".operation-balance").addClass("income"),e.$("#history-list").append(t.el)},onRender:function(){var e=this.collection.length;if(e<7&&e>=1){var t=40*(7-e),n=$("<li></li>").addClass("operation-row-empty-fill").height(t);this.$el.find("#history-list").append(n)}this.renderRTM()},renderRTM:function(){var e=this;return Ebre.Modules.Desktop.WhirlWindScripts&&require([Ebre.Modules.Desktop.WhirlWindScripts],function(){void 0!==Ebre.Venezia.Adv&&require([Ebre.Venezia.Adv.Urls.ScriptUrls.root+"MLifeGuard/Desktop/mLifeGuard-desktop-context.js"],function(t){e.RTM=t(e.$el.find("ul.content-list-body"))})}),this}})}),define("desktop/js/history/collections/history-collection-items",["../../app/app","../../services"],function(e,t){"use strict";function n(t){e.trigger("error",t)}return Backbone.Collection.extend({model:Backbone.Model.extend({}),sync:function(e,i,o){"read"===e&&t.GetLastOperations({success:o.success,error:n||o.error})}})}),define("desktop/js/history/views/history-layout",["../../app/app","text!desktop/templates/history/history-layout.html","./history-view-listitems","../collections/history-collection-items"],function(e,t,n,i){"use strict";return Backbone.Marionette.Layout.extend({template:t,tagName:"div",regions:{historyList:"#history-list-pane"},loadData:function(){var t=this,o=new i;o.fetch({success:function(i){e.cache.history=o,t.historyList.show(new n({collection:o})),e.trigger("show:history")}})}})}),define("text!desktop/templates/accounts/accounts-layout.html",[],function(){return'<div id="accounts-list-pane" >\r\n    <div class="headers">\r\n        <div class="header-balance">{{I18n.t(\'accounts.balance\')}}</div>\r\n        <div class="header-available-balance">{{I18n.t(\'accounts.availableBalance\')}}</div>\r\n    </div>\r\n    <div class="records-view">\r\n        <section class="desktop-accounts">\r\n            <div class="accounts-list-view" id="accounts-list-body">\r\n            </div>\r\n            <footer class="sticky" id="account-list-summary"></footer>\r\n        </section>\r\n    </div>\r\n</div>'}),define("text!desktop/templates/accounts/summary-item.html",[],function(){return'<div class="summary-row{% if(IsDefault == \'true\'){ %} summary-for-default{% } %}">\r\n    {% if (IsDefault == "true") { %}\r\n    <span class="summary-text">{{I18n.t(\'accounts.summary\')}}</span>\r\n    {% } %}\r\n    <span class="balance">\r\n        <span class="amount">{{ l10nCurrency(Balance, Currency) }}</span>\r\n        <span class="currency">{{ Currency }}</span>\r\n    </span>      \r\n    <span class="available-balance">\r\n        <span class="amount">{{ l10nCurrency(AvailableBalance, Currency) }}</span>\r\n        <span class="currency">{{ Currency }}</span>\r\n    </span>\r\n</div>'}),define("text!desktop/templates/accounts/accounts-item.html",[],function(){return'<ul class="account-properties" data-gemius-event-type="action" data-gemius-event-action-id="120107" data-gemius-event-action-name="desktop.lista-rachunkow-szczegoly-rachunku">\r\n    <li class="small-view-auto product-name">\r\n        <span class="value">{{ ProductName }}</span>\r\n        <span class="custom-title">{% if(SubTitle){ %} - {{ SubTitle }} {% } %}\r\n    </li>\r\n    <li class="number">{{ AccountNumber }}</li>\r\n    <li class="balance">\r\n        <span class="amount">{{ l10nCurrency(Balance, Currency) }}</span>\r\n        <span class="currency">{{ Currency }}</span>\r\n    </li>\r\n    <li class="balance available-balance">\r\n        <span class="amount">{{ l10nCurrency(AvailableBalance, Currency) }}</span>\r\n        <span class="currency">{{ Currency }}</span>\r\n    </li>\r\n</ul>\r\n<span class="buttons">{% _.each(Actions, function(action) {%}\r\n    <a href="#" data-action-link="{# action.url #}" class="btn-gray-gradient navigationButton" data-gemius-event-type="action" data-gemius-event-action-id="{# action.gemiusActionID #}" data-gemius-event-action-name="{# action.gemiusActionName #}">\r\n        {{ i18n("accounts.operations", action.name) }}\r\n        <span class="operation-accessabilty-nohide"> {{ ProductName }} {{ l10nCurrency(AvailableBalance, Currency) }} {{ Currency }}</span>\r\n    </a>\r\n    {% }); %}\r\n</span>'}),define("desktop/js/accounts/views/accounts-view-item",["text!desktop/templates/accounts/accounts-item.html","../../services"],function(e,t){"use strict";return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"operation-row",events:{mouseenter:"showButtons",mouseleave:"hideButtons","blur .navigationButton":"hideButtons","focus .navigationButton":"showButtons",click:"setNavigationDataForAccount","click  [data-action-link^=GetTransfer]":function(){var e=$(arguments[0].currentTarget).data("action-link");return t.SetNavigationDataForAccounts({params:{link:e,senderAccount:this.model.get("AccountNumber"),currency:this.model.get("Currency")},success:function(e){Ebre.Common.NavigateTo(e)}}),!1},"click  [data-action-link=GetAccountHistory]":function(){return t.SetNavigationToAccountHistory({params:{accountNumber:this.model.get("AccountNumber")},success:function(e){Ebre.Common.NavigateTo(e)}}),!1}},showButtons:function(){this.$el.find(".buttons").addClass("visible"),this.handleRowOver(!0)},hideButtons:function(){this.$el.find(".buttons").removeClass("visible"),this.handleRowOver(!1)},setNavigationDataForAccount:function(){-1!=this.$el.attr("class").indexOf("item-over")&&t.SetNavigationDataForAccount({accountNumber:this.model.get("AccountNumber"),success:function(e){Ebre.Common.NavigateTo(e)}})},onRender:function(){switch(this.model.get("CategoryCode")){case"02":this.$el.addClass("item-current");break;case"05":this.$el.addClass("item-saving");break;case"99":this.$el.addClass("item-other");break;case"88":this.$el.addClass("item-vat")}},handleRowOver:function(e){var t=this.$el.attr("class");this.changeOverClass(t,"item-current",e)||this.changeOverClass(t,"item-saving",e)||this.changeOverClass(t,"item-other",e)||this.changeOverClass(t,"item-vat",e)},changeOverClass:function(e,t,n){return-1!=e.indexOf(t)&&(n?this.$el.addClass(t+"-over item-over"):this.$el.removeClass(t+"-over item-over"),!0)}})}),define("text!desktop/templates/accounts/accounts-items.html",[],function(){return'<ul id="desktop-accounts-list" class="accounts-list"></ul>'}),define("desktop/js/accounts/views/accounts-view-empty",[],function(){"use strict";return Backbone.Marionette.ItemView.extend({template:"{{i18n('accounts.empty')}}",tagName:"li",className:"empty"})}),define("desktop/js/accounts/views/accounts-view-listitems",["./accounts-view-item","text!desktop/templates/accounts/accounts-items.html","./accounts-view-empty"],function(e,t,n){"use strict";return Backbone.Marionette.CompositeView.extend({template:t,itemView:e,emptyView:n,className:"accounts-list-scroll-view",appendHtml:function(e,t,n){e.$("#desktop-accounts-list").append(t.el)},onRender:function(){var e=this.collection.length;if(0===e)$("#desktop-app-view #accounts-list-pane .headers").hide();else if(e>5){var t=this.$el;t.jScrollPane({showArrows:!1,hideFocus:!0,autoReinitialise:!0,verticalDragMaxHeight:"68",horizontalGutter:0});var n=$("<li></li>").addClass("operation-row-empty-fill").height(10);this.$el.find("#desktop-accounts-list").append(n),this.$el.find("#desktop-accounts-list").css({"margin-bottom":0})}}})}),define("desktop/js/accounts/collections/accounts-collection-items",["../../app/app","../../services"],function(e,t){"use strict";function n(t){e.trigger("error",t)}var i=Backbone.Collection.extend({});return Backbone.Collection.extend({model:Backbone.Model.extend({}),sync:function(e,o,r){var a=this;"read"===e&&t.GetAccountsList({success:function(e){a.summary=new i(e.accountSummaryList),r.success(e.accountDetailsList)},error:n||r.error})}})}),define("desktop/js/accounts/views/accounts-layout",["../../app/app","text!desktop/templates/accounts/accounts-layout.html","text!desktop/templates/accounts/summary-item.html","./accounts-view-listitems","../collections/accounts-collection-items"],function(e,t,n,i,o){"use strict";var r=Backbone.Marionette.CompositeView.extend({tagName:"div",className:"summary-row",template:n}),a=Backbone.Marionette.CollectionView.extend({tagName:"div",className:"",itemView:r});return Backbone.Marionette.Layout.extend({template:t,tagName:"div",regions:{accountsList:"#accounts-list-body",summary:"#account-list-summary"},loadData:function(){var t=this,n=new o;n.fetch({success:function(o){e.cache.accounts=n,t.accountsList.show(new i({collection:n})),t.summary.show(new a({collection:n.summary})),e.trigger("show:accounts")}})}})}),define("text!desktop/templates/messages/messages-item-view.html",[],function(){return'<li class="news-row" id="news-1">\r\n  <ul class="news-properties">\r\n    <li class="news-image"></li>\r\n    <li class="news-text"><em>Znaleziono Gruby portfel!!</em><br />Natychmiast zgłoś się po jego odbiór!</li>\r\n    <li class="news-date">10-06</li>\r\n\r\n  </ul>\r\n  <a href="#" class="close"><i class="icon-close"></i></a>\r\n</li>\r\n'}),define("desktop/js/messages/views/messages-item-view",["text!desktop/templates/messages/messages-item-view.html"],function(e){"use strict";return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"news-row"})}),define("text!desktop/templates/messages/messages-composite-view.html",[],function(){return'<div  class="rtm-commercial messages-view">\r\n  <section class="messages messages-news">\r\n\r\n    <div id="introAdvDiv" class="intro-graphics-container" style="display: none" data-gemius-event-type="action" data-gemius-event-action-id="120126" data-gemius-event-action-name="desktop.introAdv">\r\n        <h2 id="messages-heading-intro-skip">\r\n        <span class="accessible-not-visible">{{ i18n(\'latest\') }}&nbsp;</span><span class="counter"></span>\r\n        <a href="javascript:void();" class="skip-button" data-gemius-event-type="action" data-gemius-event-action-id="120127" data-gemius-event-action-name="desktop.introAdv-pomin">{{ i18n(\'introSkip\') }}</a></h2>\r\n    </div>\r\n    <div id="noMessagesDivTop7" class="no-messages-graphics-container" style="display: none" data-gemius-event-type="action" data-gemius-event-action-id="120128" data-gemius-event-action-name="desktop.wiadomosci-brak">\r\n        <h2 id="messages-heading-no-messages">{{ i18n(\'latest\') }}</h2>\r\n        <a href="{{ Ebre.Venezia.Adv.Urls.noMessages }}"><img src="{{ Ebre.Venezia.Adv.Urls.noMessagesImage }}" alt="{{ i18n(\'noMessages\') }}"></a>\r\n    </div>\r\n    <div id="top7-containerDiv" class="top7-container" style="display: none">\r\n        <h2 id="messages-heading-messages">{{ i18n(\'latest\') }}</h2>\r\n        <ul id="messageBoxRightList" class="news-list" >\r\n\r\n        </ul>\r\n        <footer class="sticky">\r\n        <a href="#" class="btn-gray-gradient" data-gemius-event-type="action" data-gemius-event-action-id="120125" data-gemius-event-action-name="desktop.wiadomosci-zobacz-wszystkie">{{ i18n(\'showAllMessages\') }}</a>\r\n        </footer>\r\n    </div>\r\n  </section>\r\n</div>'}),define("desktop/js/messages/views/messages-composite-view",["./messages-item-view","text!desktop/templates/messages/messages-composite-view.html"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:t,events:{"click footer.sticky a.btn-gray-gradient":"showAll"},appendHtml:function(e,t,n){e.$(".news-list").append(t.el)},showAll:function(e){e.preventDefault(),this.trigger("showAll")}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-KG-confirm.html",[],function(){return'<div class="content-tooltip short creditDocs">\r\n    <div class="borderBlock">\r\n        <div class="cols3">\r\n            <div class="col-first">\r\n                {{I18n.t(\'moneyBar.oneClick.amountKG\')}}<br/>\r\n                <strong>{{l10nCurrency(defaultAmount, currency)}}</strong> {{currency}}\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.periodKG\')}}<br/>\r\n                <strong>{{defaultPeriod}}</strong>\r\n                {% if(defaultPeriod == 1) { %}\r\n                {{I18n.t(\'moneyBar.oneClick.monthKG\')}}\r\n                {% } else if(defaultPeriod % 10 >= 2 && defaultPeriod % 10 <= 4 && (defaultPeriod < 10 || defaultPeriod > 20)) { %}\r\n                {{I18n.t(\'moneyBar.oneClick.monthsKG\')}}\r\n                {% } else { %}\r\n                {{I18n.t(\'moneyBar.oneClick.months2KG\')}}\r\n                {% } %}\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.instalmentKG\')}}<br/>\r\n                <strong>{{l10nCurrency(defaultInstalment, currency)}}</strong> {{currency}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="smsBox borderBlock checkbox">\r\n        <span class="checkbox-area">\r\n            <span class="checkbox-wrapper">\r\n                <input id="chkBoxNote" type="checkbox" autocomple="off"/>\r\n            </span>\r\n        <label for="chkBoxNote" id="checkboxLabel"></label>\r\n        <div class="validation overlay">\r\n            <div class="blocker"></div>\r\n            <div class="cols3">\r\n                {% if(authorizationType == \'S\') { %}\r\n                <div class="col-first label">\r\n                    <strong>{{I18n.t(\'enterSmsCode\')}}</strong><br/>\r\n                    {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), smsOperationNumber, smsOperationDate)}}\r\n                </div>\r\n                <div class="col">\r\n                    <input id="smsInput" name="sms-code" class="code-input" maxlength="8" type="text" readonly="readonly" />\r\n                </div>\r\n                {% } else if(authorizationType == \'T\') { %}\r\n                <div class="col-first label">\r\n                    <strong>{{I18n.t(\'enterTanCode\')}}</strong><br/>\r\n                    {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber, tanListNumber)}}\r\n                </div>\r\n                <div class="col">\r\n                    <input name="tan-code" class="code-input" maxlength="5" type="password" />\r\n                </div>\r\n                {% }%}\r\n                <div class="col submit">\r\n                    <a class="btn-red-gradient commit" href="javascript:void(0);">{{I18n.t(\'moneyBar.oneClick.btnAcceptKG\')}}</a>\r\n                </div>\r\n            </div>\r\n            <span class="error"></span>\r\n        </div>\r\n    </div>\r\n    <div class="notgenerate" style="display: none">\r\n        <p>\r\n        </p>\r\n        <a href="javascript:void(0);" class="btn-gray-gradient">{{I18n.t(\'moneyBar.oneClick.pdfErrorBtnKG\')}}</a>\r\n    </div>\r\n    <div>\r\n        {{I18n.t(\'moneyBar.oneClick.documentsByMailKG\')}}\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {% _.each(documents,\r\n                    function (elem, i) {\r\n                        print(\'<a class="oc-KG-pdf download" name="\' + elem.Symbol + \'" href="javascript:void(0);">\' + elem.Title + \'</a>\');\r\n                        if (i == 2) { print(\'</div><div class=\\\'col\\\'>\'); }\r\n                    })\r\n                %}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-KG-confirm-view",["../../../../app/app","text!desktop/templates/moneybar/one-click-tooltips/oc-KG-confirm.html",nmbPaths.global.js+"validators/auth-password","../../../../services"],function(e,t,n,i){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"oc-KG-confirm",divPdfError:null,divPdf:null,events:{"click .commit":function(){if("checked"==this.$el.find("#chkBoxNote").attr("checked")){var t=this.$el.find("input.code-input"),i=n(t.val(),this.model.get("authorizationType"));if("OK"!=i)return t.focus(),t.effect("highlight",{},500),e.trigger("oc-tooltip:auth-error",i),!1;this.model.set("authorizationCode",t.length?t.val():""),this.saveData()}},"change #chkBoxNote":function(e){this.setNote(e.currentTarget.checked)},"click .oc-KG-pdf":function(t){var n=this;e.trigger("oc-tooltip:show-mask",!0,!1),this.getPdfStatus(t.currentTarget,10).then(function(o){i.OneClickGetPDF({params:{uwApplicationId:n.model.get("UwApplicationId"),symbol:t.currentTarget.name,bankSymbol:n.model.get("bankSymbol"),title:t.currentTarget.innerHTML},success:function(t){e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!1,!1)},error:function(t){e.trigger("oc-tooltip:show-mask",!1,!1),n.divPdf.hide(),t?(n.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfExceptionNoteOneKG")+"<br/>"+I18n.t("moneyBar.oneClick.pdfExceptionNoteTwoKG")),n.divPdfError.show()):(n.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfErrorNoteOneKG")+"<br/>"+I18n.t("moneyBar.oneClick.pdfErrorNoteTwoKG")),n.divPdfError.show())}})}).catch(function(t){e.trigger("oc-tooltip:show-mask",!1,!1),n.divPdf.hide(),"timeout"===t?(n.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfErrorNoteOneKG")+"<br/>"+I18n.t("moneyBar.oneClick.pdfErrorNoteTwoKG")),n.divPdfError.show()):(n.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfExceptionNoteOneKG")+"<br/>"+I18n.t("moneyBar.oneClick.pdfExceptionNoteTwoKG")),n.divPdfError.show())})},"click .notgenerate a":function(e){this.divPdf.show(),this.divPdfError.hide()}},getPdfStatus:function(e,t){var n=this;return new Promise(function(o,r){function a(s){s>=t&&r("timeout"),setTimeout(function(){i.OneClickGetPdfStatus({params:{uwApplicationId:n.model.get("UwApplicationId"),symbol:e.name,bankSymbol:n.model.get("bankSymbol"),title:e.innerHTML},success:function(e){!0===e?o():(s++,a(s))},error:function(e){r(e)}})},1e3)}a(0)})},onRender:function(){this.divPdfError=this.$el.find(".notgenerate"),this.divPdf=this.$el.find(".content-tooltip > div:last"),this.setNote(!1)},onPostRender:function(){var e=this.$el.find(".validation"),t=this.$el.find(".blocker");t.height(e.height()),t.width(e.width())},setNote:function(e){var t=this.$el.find(".checkbox-wrapper"),n=this.$el.find(".validation"),i=this.$el.find("#checkboxLabel"),o=this.$el.find("#smsInput"),r=this.$el.find(".blocker");e?(t.addClass("checked"),n.removeClass("overlay"),i.html("<span>"+I18n.t("moneyBar.oneClick.noteFourKG")+"</span>"),o.attr("readonly",!1),r.hide()):(t.removeClass("checked"),n.addClass("overlay"),i.html("<span>"+I18n.t("moneyBar.oneClick.noteTwoKG")+"<br/>"+I18n.t("moneyBar.oneClick.noteThreeKG")+"</span>"),o.attr("readonly",!0).val(""),r.show())},saveData:function(){e.trigger("oc-tooltip:show-mask",!0),this.model.save(void 0,{success:function(t,n){if(e.trigger("oc-tooltip:show-mask",!1),null!=n.authError)e.trigger("oc-tooltip:auth-error",n.authError);else if(null!=n.error)e.trigger("oc-tooltip:close"),Ebre.Common.createMessage({title:"Wystąpił błąd UF",message:n.error,cssStyle:"error-conditional"});else{var i=I18n.t("moneyBar.oneClick.creditSuccessBodyKG"),o=Ebre.Common.formatNumber(t.get("grantedAmount"))+" "+t.get("currency");i=i.replace(/\{0\}/,o),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.creditSuccessTitleKG"),message:i,cssStyle:"success-conditional"}),e.trigger("oc-tooltip:close"),e.updateOneClickPlaceholder()}},error:function(){e.trigger("oc-tooltip:close")}})}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-KG-confirm-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.OneClickConfirmKG({params:{uwApplicationId:this.get("UwApplicationId"),bankSymbol:this.get("bankSymbol"),authorizationCode:this.get("authorizationCode"),authorizationType:this.get("authorizationType")},success:i.success,error:i.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-KO-confirm.html",[],function(){return'<div class="content-tooltip short creditDocs">\r\n    <div class="borderBlock">\r\n        <div class="cols3">\r\n            <div class="col-first">\r\n                {{I18n.t(\'moneyBar.oneClick.previousLimitKO\')}}<br />\r\n                {{l10nCurrency(currentLimit, currency)}} {{currency}}\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.newLimitKO\')}}<br />\r\n                <strong>{{l10nCurrency(currentLimit + creditIncrease)}} {{currency}}</strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="smsBox borderBlock checkbox">\r\n        <span class="checkbox-area"><span class="checkbox-wrapper">\r\n            <input id="chkBoxNote" type="checkbox" autocomple="off" />\r\n        </span>\r\n            <label for="chkBoxNote" id="checkboxLabel">\r\n            </label>\r\n            <div class="validation overlay">\r\n                <div class="blocker">\r\n                </div>\r\n                <div class="cols3">\r\n                    {% if(authorizationType == \'S\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterSmsCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), smsOperationNumber,\r\n                        smsOperationDate)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input id="smsInput" name="sms-code" class="code-input" maxlength="8" type="text"\r\n                            readonly="readonly" />\r\n                    </div>\r\n                    {% } else if(authorizationType == \'T\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterTanCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber,\r\n                        tanListNumber)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input name="tan-code" class="code-input" maxlength="5" type="password" />\r\n                    </div>\r\n                    {% }%}\r\n                    <div class="col submit">\r\n                        <a class="btn-red-gradient commit" href="javascript:void(0);">{{I18n.t(\'moneyBar.oneClick.btnAcceptKG\')}}</a>\r\n                    </div>\r\n                </div>\r\n                <span class="error"></span>\r\n            </div>\r\n    </div>\r\n    <div class="notgenerate" style="display: none">\r\n        <p>\r\n        </p>\r\n        <a href="javascript:void(0);" class="btn-gray-gradient">{{I18n.t(\'moneyBar.oneClick.pdfErrorBtnKG\')}}</a>\r\n    </div>\r\n    <div>\r\n        {{I18n.t(\'moneyBar.oneClick.documentsByMailKG\')}}\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {% _.each(documents,\r\n                    function (elem, i) {\r\n                        print(\'<a class="oc-KG-pdf download" name="\' + elem.Symbol + \'" href="javascript:void(0);">\' + elem.Title + \'</a>\');\r\n                        if (i == 2) { print(\'</div><div class=\\\'col\\\'>\'); }\r\n                    })\r\n                %}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-KO-confirm-view",["../../../../app/app","text!desktop/templates/moneybar/one-click-tooltips/oc-KO-confirm.html",nmbPaths.global.js+"validators/auth-password","../../../../services"],function(e,t,n,i){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"oc-KO-confirm",divPdfError:null,divPdf:null,events:{"click .commit":function(){if("checked"==this.$el.find("#chkBoxNote").attr("checked")){var t=this.$el.find("input.code-input"),i=n(t.val(),this.model.get("authorizationType"));if("OK"!=i)return t.focus(),t.effect("highlight",{},500),e.trigger("oc-tooltip:auth-error",i),!1;this.model.set("authorizationCode",t.length?t.val():""),this.saveData()}},"change #chkBoxNote":function(e){this.setNote(e.currentTarget.checked)},"click .oc-KG-pdf":function(t){var n=this;e.trigger("oc-tooltip:show-mask",!0,!1),i.OneClickGetPDF({params:{uwApplicationId:this.model.get("UwApplicationId"),symbol:t.currentTarget.name,bankSymbol:this.model.get("bankSymbol"),title:t.currentTarget.innerHTML},success:function(t){e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!1,!1)},error:function(t){e.trigger("oc-tooltip:show-mask",!1,!1),n.divPdf.hide(),t?(n.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfExceptionNoteOneKG")+"<br/>"+I18n.t("moneyBar.oneClick.pdfExceptionNoteTwoKG")),n.divPdfError.show()):(n.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfErrorNoteOneKG")+"<br/>"+I18n.t("moneyBar.oneClick.pdfErrorNoteTwoKG")),n.divPdfError.show())}})},"click .notgenerate a":function(e){this.divPdf.show(),this.divPdfError.hide()}},onRender:function(){this.divPdfError=this.$el.find(".notgenerate"),this.divPdf=this.$el.find(".content-tooltip > div:last"),this.setNote(!1)},onPostRender:function(){var e=this.$el.find(".validation"),t=this.$el.find(".blocker");t.height(e.height()),t.width(e.width())},setNote:function(e){var t=this.$el.find(".checkbox-wrapper"),n=this.$el.find(".validation"),i=this.$el.find("#checkboxLabel"),o=this.$el.find("#smsInput"),r=this.$el.find(".blocker");e?(t.addClass("checked"),n.removeClass("overlay"),i.html("<span>"+I18n.t("moneyBar.oneClick.noteFourKO")+"</span>"),o.attr("readonly",!1),r.hide()):(t.removeClass("checked"),n.addClass("overlay"),i.html("<span>"+I18n.t("moneyBar.oneClick.noteTwoKG")+"<br/>"+I18n.t("moneyBar.oneClick.noteThreeKG")+"</span>"),o.attr("readonly",!0).val(""),r.show())},saveData:function(){e.trigger("oc-tooltip:show-mask",!0),this.model.save(void 0,{success:function(t,n){if(e.trigger("oc-tooltip:show-mask",!1),null!=n.authError)e.trigger("oc-tooltip:auth-error",n.authError);else if(null!=n.error)e.trigger("oc-tooltip:close"),Ebre.Common.createMessage({title:"Wystąpił błąd UF",message:n.error,cssStyle:"error-conditional"});else{var i=I18n.t("moneyBar.oneClick.creditSuccessBodyKO"),o=Ebre.Common.formatNumber(t.get("grantedAmount"))+" "+t.get("currency");i=i.replace(/\{0\}/,o),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.creditSuccessTitleKO"),message:i,cssStyle:"success-conditional"}),e.trigger("oc-tooltip:close"),e.updateOneClickPlaceholder()}},error:function(){e.trigger("oc-tooltip:close")}})}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-KO-confirm-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.OneClickConfirmKG({params:{UwApplicationId:this.get("UwApplicationId"),bankSymbol:this.get("bankSymbol"),authorizationCode:this.get("authorizationCode"),authorizationType:this.get("authorizationType")},success:i.success,error:i.error})}})}),define("desktop/js/moneybar/views/tooltips/one-click/common/oc-confirm-base-view",["../../../../../app/app",nmbPaths.global.js+"validators/auth-password","../../../../../services"],function(e,t,n){return Backbone.Marionette.ItemView.extend({divPdfError:null,divPdf:null,events:{"click .commit":function(){if("checked"==this.$el.find("#chkBoxNote").attr("checked")){var n=this.$el.find("input.code-input"),i=t(n.val(),this.model.get("authorizationType"));if("OK"!=i)return n.focus(),n.effect("highlight",{},500),e.trigger("oc-tooltip:auth-error",i),!1;this.model.set("authorizationCode",n.length?n.val():""),this.saveData()}},"change #chkBoxNote":function(e){this.setNote(e.currentTarget.checked)},"click .oc-pdf":function(t){var i=this;e.trigger("oc-tooltip:show-mask",!0,!1),n.OneClickGetPDF({params:{uwApplicationId:this.model.get("UwApplicationId"),symbol:t.currentTarget.name,bankSymbol:this.model.get("bankSymbol"),title:t.currentTarget.innerHTML},success:function(t){e.trigger("oc-tooltip:reposition"),e.trigger("oc-tooltip:show-mask",!1,!1)},error:function(t){e.trigger("oc-tooltip:show-mask",!1,!1),i.divPdf.hide(),t?(i.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfExceptionNoteOne")+"<br/>"+I18n.t("moneyBar.oneClick.pdfExceptionNoteTwo")),i.divPdfError.show()):(i.divPdfError.find("p").html(I18n.t("moneyBar.oneClick.pdfErrorNoteOne")+"<br/>"+I18n.t("moneyBar.oneClick.pdfErrorNoteTwo")),i.divPdfError.show())}})},"click .notgenerate a":function(e){this.divPdf.show(),this.divPdfError.hide()}},onRender:function(){this.divPdfError=this.$el.find(".notgenerate"),this.divPdf=this.$el.find(".content-tooltip > div:last"),this.setNote(!1)},onPostRender:function(){var e=this.$el.find(".validation"),t=this.$el.find(".blocker");t.height(e.height()),t.width(e.width())},setNote:function(e){var t=this.$el.find(".checkbox-wrapper"),n=this.$el.find(".validation"),i=this.$el.find("#checkboxLabel"),o=this.$el.find("#smsInput"),r=this.$el.find(".blocker");e?(t.addClass("checked"),n.removeClass("overlay"),i.html("<span>"+this.noteFourText+"</span>"),o.attr("readonly",!1),r.hide()):(t.removeClass("checked"),n.addClass("overlay"),i.html("<span>"+I18n.t("moneyBar.oneClick.noteTwo")+"<br/>"+I18n.t("moneyBar.oneClick.noteThree")+"</span>"),o.attr("readonly",!0).val(""),r.show())},showSuccessMessage:function(){},saveData:function(){var t=this;e.trigger("oc-tooltip:show-mask",!0),this.model.save(void 0,{success:function(n,i){e.trigger("oc-tooltip:show-mask",!1),null!=i.authError?e.trigger("oc-tooltip:auth-error",i.authError):null!=i.error?(e.trigger("oc-tooltip:close"),Ebre.Common.createMessage({title:"Wystąpił błąd UF",message:i.error,cssStyle:"error-conditional"})):(t.showSuccessMessage(),e.trigger("oc-tooltip:close"),e.updateOneClickPlaceholder())},error:function(){e.trigger("oc-tooltip:close")}})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-UKO-confirm.html",[],function(){return'<div class="content-tooltip short creditDocs">\r\n    <div class="borderBlock">\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.UKO.creditLimitConfirmLabel\')}}<br />\r\n                <strong>{{l10nCurrency(creditAmount, currency)}} {{currency}}</strong>\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.UKO.accountNumberConfirmLabel\')}}<br />\r\n                <strong>{{ accountIban }}</strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="smsBox borderBlock checkbox">\r\n        <span class="checkbox-area">\r\n            <span class="checkbox-wrapper">\r\n                <input id="chkBoxNote" type="checkbox" autocomple="off" />\r\n            </span>\r\n        </span>\r\n            <label for="chkBoxNote" id="checkboxLabel">\r\n            </label>\r\n            <div class="validation overlay">\r\n                <div class="blocker">\r\n                </div>\r\n                <div class="cols3">\r\n                    {% if(authorizationType == \'S\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterSmsCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), smsOperationNumber,\r\n                        smsOperationDate)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input id="smsInput" name="sms-code" class="code-input" maxlength="8" type="text"\r\n                            readonly="readonly" />\r\n                    </div>\r\n                    {% } else if(authorizationType == \'T\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterTanCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber,\r\n                        tanListNumber)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input name="tan-code" class="code-input" maxlength="5" type="password" />\r\n                    </div>\r\n                    {% }%}\r\n                    <div class="col submit">\r\n                        <a class="btn-red-gradient commit" href="javascript:void(0);">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n                    </div>\r\n                </div>\r\n                <span class="error"></span>\r\n            </div>\r\n    </div>\r\n    <div class="notgenerate" style="display: none">\r\n        <p>\r\n        </p>\r\n        <a href="javascript:void(0);" class="btn-gray-gradient">{{I18n.t(\'moneyBar.oneClick.pdfErrorBtnOK\')}}</a>\r\n    </div>\r\n    <div>\r\n        {{I18n.t(\'moneyBar.oneClick.documentsByMail\')}}\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {% _.each(documents,\r\n                    function (elem, i) {\r\n                        print(\'<a class="oc-pdf download" name="\' + elem.Symbol + \'" href="javascript:void(0);">\' + elem.Title + \'</a>\');\r\n                        if (i == 1) { print(\'</div><div class=\\\'col\\\'>\'); }\r\n                    })\r\n                %}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-UKO-confirm-view",["../../../../app/app","./common/oc-confirm-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-UKO-confirm.html",nmbPaths.global.js+"validators/auth-password","../../../../services"],function(e,t,n){return t.extend({template:n,tagName:"div",id:"oc-UKO-confirm",noteFourText:I18n.t("moneyBar.oneClick.UKO.noteFour"),onRender:function(){t.prototype.onRender.apply(this,_.toArray(arguments))},showSuccessMessage:function(){var e=I18n.t("moneyBar.oneClick.UKO.applicationSuccessBody"),t=Ebre.Common.formatNumber(this.model.get("grantedAmount"))+" "+this.model.get("currency");e=e.replace(/\{0\}/,t),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.UKO.applicationSuccessTitle"),message:e,cssStyle:"success-conditional"})}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-UKO-confirm-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.OneClickConfirmKG({params:{UwApplicationId:this.get("UwApplicationId"),bankSymbol:this.get("bankSymbol"),authorizationCode:this.get("authorizationCode"),authorizationType:this.get("authorizationType")},success:i.success,error:i.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-UKK-confirm.html",[],function(){return'<div class="content-tooltip short creditDocs">\r\n    <div class="borderBlock">\r\n        <div class="cols2">\r\n            <div class="col30 no-wrap">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.cardTypeLabel\')}}<br />\r\n                <strong>{{cardName}}</strong>\r\n            </div>\r\n            <div class="col30">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.limitLabel\')}}<br/>\r\n                <strong>{{l10nCurrency(grantedAmount, currency)}} {{currency}}</strong>\r\n            </div>\r\n            <div class="col30 card-image">\r\n                <img src="{{cardImageUrl}}" class="card-image" />\r\n            </div>\r\n            {% if(quickCash === \'true\') { %}\r\n            <div class="col25 pt10">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.quickCashAmountSummaryLabel\')}}<br/><br/>\r\n                <strong>{{l10nCurrency(grantedQuickCashAmount, currency)}} {{currency}}</strong>\r\n            </div>\r\n            <div class="col25 pt10">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.commissionLabel\')}}<br/>\r\n                <strong>{{l10nCurrency(commissionAmount, currency)}} {{currency}}</strong>\r\n            </div>\r\n            <div class="col25 pt10">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.installmentNumberLabel\')}}<br/><br/><br/>\r\n                <strong>{{installmentsNumber}}</strong> {{I18n.t(\'moneyBar.oneClick.UKK.months\')}}\r\n            </div>\r\n            <div class="col25 pt10">\r\n                {{I18n.t(\'moneyBar.oneClick.UKK.monthlyInstallmentLabel\')}}<br/><br/><br/>\r\n                <strong>{{l10nCurrency(defaultInstalment, currency)}} {{currency}}</strong>\r\n            </div>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    <div class="smsBox borderBlock checkbox">\r\n        <span class="checkbox-area">\r\n            <span class="checkbox-wrapper">\r\n                <input id="chkBoxNote" type="checkbox" autocomple="off" />\r\n            </span>\r\n        </span>\r\n            <label for="chkBoxNote" id="checkboxLabel">\r\n            </label>\r\n            <div class="validation overlay">\r\n                <div class="blocker">\r\n                </div>\r\n                <div class="cols3">\r\n                    {% if(authorizationType == \'S\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterSmsCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), smsOperationNumber,\r\n                        smsOperationDate)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input id="smsInput" name="sms-code" class="code-input" maxlength="8" type="text"\r\n                            readonly="readonly" />\r\n                    </div>\r\n                    {% } else if(authorizationType == \'T\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterTanCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber,\r\n                        tanListNumber)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input name="tan-code" class="code-input" maxlength="5" type="password" />\r\n                    </div>\r\n                    {% }%}\r\n                    <div class="col submit">\r\n                        <a class="btn-red-gradient commit" href="javascript:void(0);">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n                    </div>\r\n                </div>\r\n                <span class="error"></span>\r\n            </div>\r\n    </div>\r\n    <div class="notgenerate" style="display: none">\r\n        <p>\r\n        </p>\r\n        <a href="javascript:void(0);" class="btn-gray-gradient">{{I18n.t(\'moneyBar.oneClick.pdfErrorBtnOK\')}}</a>\r\n    </div>\r\n    <div>\r\n        {{I18n.t(\'moneyBar.oneClick.documentsByMail\')}}\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {% _.each(documents,\r\n                    function (elem, i) {\r\n                        print(\'<a class="oc-pdf download" name="\' + elem.Symbol + \'" href="javascript:void(0);">\' + elem.Title + \'</a>\');\r\n                        if (i == 2) { print(\'</div><div class=\\\'col\\\'>\'); }\r\n                    })\r\n                %}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-UKK-confirm-view",["../../../../app/app","./common/oc-confirm-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-UKK-confirm.html",nmbPaths.global.js+"validators/auth-password","../../../../services"],function(e,t,n){return t.extend({template:n,tagName:"div",id:"oc-UKK-confirm",noteFourText:I18n.t("moneyBar.oneClick.UKK.noteFour"),onRender:function(){t.prototype.onRender.apply(this,_.toArray(arguments))},showSuccessMessage:function(){var e=I18n.t("moneyBar.oneClick.UKK.applicationSuccessBody"),t=Ebre.Common.formatNumber(this.model.get("grantedAmount"))+" "+this.model.get("currency");e=e.replace(/\{0\}/,t),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.UKK.applicationSuccessTitle"),message:e,cssStyle:"success-conditional"})}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-UKK-confirm-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.OneClickConfirmKG({params:{UwApplicationId:this.get("UwApplicationId"),bankSymbol:this.get("bankSymbol"),authorizationCode:this.get("authorizationCode"),authorizationType:this.get("authorizationType")},success:i.success,error:i.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-USRQC-confirm.html",[],function(){return'<div class="content-tooltip short creditDocs">\r\n    <div class="borderBlock">\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.USRQC.confirmCardLabel\')}}<br />\r\n                <strong>{{ selectedCardName }}</strong>\r\n            </div>\r\n            <div class="col">\r\n                <img src="{{ selectedCardImageUrl }}" class="card-image-small" />\r\n            </div>\r\n        </div>\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.USRQC.confirmQuickCashAmountLabel\')}}<br />\r\n                <strong>{{l10nCurrency(grantedQuickCashAmount, currency)}} {{currency}}</strong>\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.USRQC.confirmQuickCashCommission\')}}<br />\r\n                <strong>{{l10nCurrency(quickCashCommission, currency)}} {{currency}}</strong>\r\n            </div>\r\n        </div>\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.USRQC.confirmPayInInstallmentAmountLabel\')}}<br />\r\n                <strong>{{l10nCurrency(PayInIntallmentAmount, currency)}} {{currency}}</strong>\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.USRQC.confirmPeriodLabel\')}}<br />\r\n                <strong>{{ installmentsNumber }}</strong> {{I18n.t(\'moneyBar.oneClick.USRQC.month\')}}\r\n            </div>\r\n        </div>\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.USRQC.confirmMonthlyInstallmentLabel\')}}<br />\r\n                <strong>{{l10nCurrency(defaultInstalment, currency)}} {{currency}}</strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n<div class="smsBox borderBlock checkbox">\r\n        <span class="checkbox-area">\r\n            <span class="checkbox-wrapper">\r\n                <input id="chkBoxNote" type="checkbox" autocomple="off" />\r\n            </span>\r\n        </span>\r\n            <label for="chkBoxNote" id="checkboxLabel">\r\n            </label>\r\n            <div class="validation overlay">\r\n                <div class="blocker">\r\n                </div>\r\n                <div class="cols3">\r\n                    {% if(authorizationType == \'S\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterSmsCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), smsOperationNumber,\r\n                        smsOperationDate)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input id="smsInput" name="sms-code" class="code-input" maxlength="8" type="text"\r\n                            readonly="readonly" />\r\n                    </div>\r\n                    {% } else if(authorizationType == \'T\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterTanCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber,\r\n                        tanListNumber)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input name="tan-code" class="code-input" maxlength="5" type="password" />\r\n                    </div>\r\n                    {% }%}\r\n                    <div class="col submit">\r\n                        <a class="btn-red-gradient commit" href="javascript:void(0);">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n                    </div>\r\n                </div>\r\n                <span class="error"></span>\r\n            </div>\r\n    </div>\r\n    <div class="notgenerate" style="display: none">\r\n        <p>\r\n        </p>\r\n        <a href="javascript:void(0);" class="btn-gray-gradient">{{I18n.t(\'moneyBar.oneClick.pdfErrorBtnOK\')}}</a>\r\n    </div>\r\n    <div>\r\n        {{I18n.t(\'moneyBar.oneClick.documentsByMail\')}}\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {% _.each(documents,\r\n                    function (elem, i) {\r\n                        print(\'<a class="oc-pdf download" name="\' + elem.Symbol + \'" href="javascript:void(0);">\' + elem.Title + \'</a>\');\r\n                        if (i == 2) { print(\'</div><div class=\\\'col\\\'>\'); }\r\n                    })\r\n                %}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-USRQC-confirm-view",["../../../../app/app","./common/oc-confirm-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-USRQC-confirm.html",nmbPaths.global.js+"validators/auth-password","../../../../services"],function(e,t,n){return t.extend({template:n,tagName:"div",id:"oc-USRQC-confirm",noteFourText:I18n.t("moneyBar.oneClick.USRQC.noteFour"),onRender:function(){t.prototype.onRender.apply(this,_.toArray(arguments))},showSuccessMessage:function(){var e=I18n.t("moneyBar.oneClick.USRQC.applicationSuccessBody"),t=Ebre.Common.formatNumber(this.model.get("PayInIntallmentAmount"))+" "+this.model.get("currency");e=e.replace(/\{0\}/,t);var n=this.model.get("installmentsNumber"),i=n;Ebre.Entity.Current==Ebre.Entity.EntityPL&&(i+=" "+this.getAppropriatePLVariety(n,I18n.t("moneyBar.oneClick.USRQC.installmentVarietyFor1"),I18n.t("moneyBar.oneClick.USRQC.installmentVarietyFor234"),I18n.t("moneyBar.oneClick.USRQC.installmentVarietyForOthers"))),e=e.replace(/\{1\}/,i),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.USRQC.applicationSuccessTitle"),message:e,cssStyle:"success-conditional"})},getAppropriatePLVariety:function(e,t,n,i){if(1==e)return t;if(e%100>10&&e%100<=20)return i;var o=e%10;return 2==o||3==o||4==o?n:i}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-USRQC-confirm-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.OneClickConfirmKG({params:{UwApplicationId:this.get("UwApplicationId"),bankSymbol:this.get("bankSymbol"),authorizationCode:this.get("authorizationCode"),authorizationType:this.get("authorizationType")},success:i.success,error:i.error})}})}),define("text!desktop/templates/moneybar/one-click-tooltips/oc-PKK-confirm.html",[],function(){return'{% \r\n    var cardCurrency = selectedCard.get(\'Currency\'); \r\n%}\r\n\r\n<div class="content-tooltip short creditDocs">\r\n    <div class="borderBlock">\r\n        <div class="cols2">\r\n            <div class="col62">\r\n                {{I18n.t(\'moneyBar.oneClick.PKK.confirmCardLabel\')}}<br />\r\n                <strong>{{ selectedCard.get(\'Label\') }}</strong>\r\n            </div>\r\n            <div class="col38">\r\n                <img src="{{ selectedCard.get(\'ImageUrl\') }}" class="card-image-small" />\r\n            </div>\r\n        </div>\r\n        <div class="cols3">\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.PKK.confirmGrantedLimit\')}}<br />\r\n                <strong>{{l10nCurrency(selectedCard.get(\'GrantedLimit\'), cardCurrency)}} {{cardCurrency}}</strong>\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.PKK.confirmNewLimit\')}}<br />\r\n                <strong>{{l10nCurrency(newLimit, cardCurrency)}} {{cardCurrency}}</strong>\r\n            </div>\r\n            <div class="col">\r\n                {{I18n.t(\'moneyBar.oneClick.PKK.confirmIncreaseLimitCommission\')}}<br />\r\n                <strong>{{l10nCurrency(increaseLimitCommission, cardCurrency)}} {{cardCurrency}}</strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n<div class="smsBox borderBlock checkbox">\r\n        <span class="checkbox-area">\r\n            <span class="checkbox-wrapper">\r\n                <input id="chkBoxNote" type="checkbox" autocomple="off" />\r\n            </span>\r\n        </span>\r\n            <label for="chkBoxNote" id="checkboxLabel">\r\n            </label>\r\n            <div class="validation overlay">\r\n                <div class="blocker">\r\n                </div>\r\n                <div class="cols3">\r\n                    {% if(authorizationType == \'S\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterSmsCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.smsCodeForDay\'), smsOperationNumber,\r\n                        smsOperationDate)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input id="smsInput" name="sms-code" class="code-input" maxlength="8" type="text"\r\n                            readonly="readonly" />\r\n                    </div>\r\n                    {% } else if(authorizationType == \'T\') { %}\r\n                    <div class="col-first label">\r\n                        <strong>{{I18n.t(\'enterTanCode\')}}</strong><br />\r\n                        {{Ebre.Extensions.format(I18n.t(\'moneyBar.incomeSavings.tanNumber\'), tanNumber,\r\n                        tanListNumber)}}\r\n                    </div>\r\n                    <div class="col">\r\n                        <input name="tan-code" class="code-input" maxlength="5" type="password" />\r\n                    </div>\r\n                    {% }%}\r\n                    <div class="col submit">\r\n                        <a class="btn-red-gradient commit" href="javascript:void(0);">{{I18n.t(\'moneyBar.oneClick.btnAccept\')}}</a>\r\n                    </div>\r\n                </div>\r\n                <span class="error"></span>\r\n            </div>\r\n    </div>\r\n    <div class="notgenerate" style="display: none">\r\n        <p>\r\n        </p>\r\n        <a href="javascript:void(0);" class="btn-gray-gradient">{{I18n.t(\'moneyBar.oneClick.pdfErrorBtnOK\')}}</a>\r\n    </div>\r\n    <div>\r\n        {{I18n.t(\'moneyBar.oneClick.documentsByMail\')}}\r\n        <div class="cols2">\r\n            <div class="col">\r\n                {% _.each(documents,\r\n                    function (elem, i) {\r\n                        print(\'<a class="oc-pdf download" name="\' + elem.Symbol + \'" href="javascript:void(0);">\' + elem.Title + \'</a>\');\r\n                        if (i == 2) { print(\'</div><div class=\\\'col\\\'>\'); }\r\n                    })\r\n                %}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/moneybar/views/tooltips/one-click/oc-PKK-confirm-view",["../../../../app/app","./common/oc-confirm-base-view","text!desktop/templates/moneybar/one-click-tooltips/oc-PKK-confirm.html",nmbPaths.global.js+"validators/auth-password","../../../../services"],function(e,t,n){return t.extend({template:n,tagName:"div",id:"oc-PKK-confirm",noteFourText:I18n.t("moneyBar.oneClick.PKK.noteFour"),onRender:function(){t.prototype.onRender.apply(this,_.toArray(arguments))},showSuccessMessage:function(){var e=I18n.t("moneyBar.oneClick.PKK.applicationSuccessBody"),t=this.model.get("newLimit")-this.model.get("selectedCard").get("GrantedLimit"),n=Ebre.Common.formatNumber(t)+" "+this.model.get("currency");e=e.replace(/\{0\}/,n),Ebre.Common.createMessage({title:I18n.t("moneyBar.oneClick.PKK.applicationSuccessTitle"),message:e,cssStyle:"success-conditional"})}})}),define("desktop/js/moneybar/models/tooltips/one-click/oc-PKK-confirm-model",["../../../../app/app","../../../../services"],function(e,t){return Backbone.Model.extend({sync:function(e,n,i){"create"===e&&t.OneClickConfirmKG({params:{UwApplicationId:this.get("UwApplicationId"),bankSymbol:this.get("bankSymbol"),authorizationCode:this.get("authorizationCode"),authorizationType:this.get("authorizationType")},success:i.success,error:i.error})}})}),define("text!desktop/templates/lastLogin/lastLogin-layout.html",[],function(){return"<div>\r\n        {{I18n.t('lastLogin.success')}}: \r\n        {% if(SuccessDate !== undefined){ %}\r\n            {{I18n.strftime(SuccessDate,'%d-%m-%Y, %H:%M')}}\r\n\t\t{% } else { %}\r\n            {{I18n.t('lastLogin.none')}}\r\n\t\t{% } %}\r\n</div>\r\n<div>\r\n        {{I18n.t('lastLogin.unSuccess')}}: \r\n        {% if(ErrorDate !== undefined){ %}\r\n            {{I18n.strftime(ErrorDate,'%d-%m-%Y, %H:%M')}}\r\n\t\t{% } else { %}\r\n            {{I18n.t('lastLogin.none')}}\r\n\t\t{% } %}\r\n</div>\r\n"}),define("desktop/js/lastLogin/views/lastLogin-layout",["../../app/app","text!desktop/templates/lastLogin/lastLogin-layout.html"],function(e,t){"use strict";function n(e){if(""!==e&&void 0!==e){var t=e.split("-");if(!(t.length<4||"0001"===t[0])){var n=t[3].split(".");if(!(n.length<2)){var i=new Date(t[0],t[1]-1,t[2],n[0],n[1]);return n.length>2&&(n.length>3?i.setSeconds(n[2],n[3]):i.setSeconds(n[2])),i}}}}var i=new Backbone.Model({SuccessDate:n(Ebre.Modules.Desktop.LastLogin.Success),ErrorDate:n(Ebre.Modules.Desktop.LastLogin.UnSuccess)});return Backbone.Marionette.ItemView.extend({model:i,template:t})}),define("text!desktop/templates/taskscenter/taskscenter-layout.html",[],function(){return'<div class="container">\r\n    <div class="timeline-header">\r\n        <div class="overdue-tasks-notification-container"></div>\r\n        <div class="matched-tasks-notification-container"></div>\r\n        <div class="btn-gray-gradient" id="tasks-center-new">{{ i18n(\'tasksCenter.timelineTask.actions.newTask\') }}</div>\r\n        <div class="btn-gray-gradient" id="tasks-center-full">{{ i18n(\'tasksCenter.timelineTask.actions.tasksList\') }}</div>\r\n        <div class="calendar"></div>\r\n        <div class="timeline"></div>\r\n        <div class="transfer-dashboard-container"></div>\r\n    </div>\r\n</div>\r\n'}),define("desktop/js/taskscenter/models/timeline-task-model",["../../services"],function(e){return Backbone.Model.extend({initialize:function(){this.bind("change:Done",this.taskDone),this.bind("change:Seen",this.taskSeen)},idAttribute:"Id",sync:function(e,t,n){console.log("sync:"+e)},taskDone:function(t,n,i){!0===n?e.SetTaskDone({success:i.finish,error:i.finish,data:{taskId:t.attributes.Id}}):e.UndoTask({success:i.finish,error:i.finish,data:{taskId:t.attributes.Id}})},taskSeen:function(t,n,i){e.MarkTaskAsSeen({success:Ebre.Modules.TasksCenter.Common.refreshTopBar,data:{taskId:t.attributes.Id}})},defaults:{headerCss:""}})}),define("desktop/js/taskscenter/models/timeline-tasks-collection",["../../services","./timeline-task-model"],function(e,t){return Backbone.Collection.extend({model:t,sync:function(t,n,i){"read"===t&&e.GetAllTasksForDay({success:i.success,error:i.error,data:i.data})}})}),define("desktop/js/taskscenter/models/timeline-item-model",["./timeline-tasks-collection"],function(e){return Backbone.Model.extend({defaults:{Tasks:new e},parse:function(t){return t.Tasks=new e(t.Tasks),t}})}),define("desktop/js/taskscenter/models/timeline-collection",["../../services","./timeline-item-model"],function(e,t){return Backbone.Collection.extend({model:t,sync:function(t,n,i){"read"===t&&e.GetTasks({success:i.success,error:i.error,data:i.data})}})}),define("text!desktop/templates/taskscenter/timeline.html",[],function(){return'<div class="m2t-content">\r\n    <div class="m2t-arrow-left"></div>\r\n    <div id="viewport">\r\n        <p class="empty-week">{{I18n.t(\'tasksCenter.timelineTask.emptyWeek\')}}</p>\r\n        <div id="timeline-list">\r\n            <div class="timeline-items-row" id="timeline-items">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="m2t-line"></div>\r\n    <div class="m2t-arrow-right"></div>\r\n</div>\r\n<div id="task-details-container"></div>\r\n'}),define("text!desktop/templates/taskscenter/timeline-item.html",[],function(){return'<div class="content-position">\r\n    <a class="show-tooltip">\r\n\r\n{% if (Tasks != null && Tasks.length > 0){\r\n    var count = Tasks.length;\r\n%}\r\n    {% if (count == 1){\r\n        var task = Tasks.first().toJSON();\r\n        var upperIcon = (task.Done ? \'m2t-icons-corner-figure-green\' : (task.Priority == 9 && task.Past ? \'m2t-icons-corner-figure-red\' : \'\'));\r\n        var iconColor = task.Past ? \'gray\' : \'\';\r\n\r\n        if(iconColor == \'\'){\r\n            switch(task.Priority){\r\n                case 1: iconColor = \'blue\'; break;\r\n                case 5: iconColor = \'orange\'; break;\r\n                case 9: iconColor = \'red\'; break;\r\n            }\r\n        }\r\n%}\r\n        <div class="m2t-icon-{{ iconColor }} m2t-active-icon">\r\n            <span class="m2t-icons-{{ task.Category }}"></span>\r\n            <span class="{{ upperIcon }}"></span>\r\n        </div>\r\n        {% } else {\r\n    var task = Tasks.first().toJSON();\r\n    var iconColor = \'blue\';\r\n\r\n    if (task.Past) {\r\n    iconColor = \'gray\'\r\n    }\r\n    else if (Tasks.any(function(t) { return t.toJSON().Priority == 9 })) {\r\n    iconColor = \'red\';\r\n    }\r\n    else if (Tasks.any(function(t) { return t.toJSON().Priority == 5 })) {\r\n    iconColor = \'orange\';\r\n    }\r\n    %}\r\n    <div class="m2t-icon-{{ iconColor }} m2t-active-icon">\r\n        <span class="m2t-icons-group-1" data-taskscount="{{ Count }}"></span>\r\n        {% if(Tasks.all(function(t) { return t.toJSON().Done === true; }) && TasksOutsideGroupDone) { %}\r\n        <span class="m2t-icons-corner-figure-green"></span>\r\n        {% } %}\r\n    </div>\r\n        {% } %}\r\n    {% } else { %}\r\n    <div class="m2t-icon-base" />\r\n        {% } %}\r\n\r\n    <p class="m2t-icon-date {% if(IsToday) {%}bolded{%}%}">{{ DisplayDate }}</p>\r\n    </a>\r\n</div>\r\n<div class="timeline-tasks" style="display: none">\r\n    <div class="moneybar2-timeline-popup">\r\n        <div class="tasks-container{% if(Tasks.length == 1) { %} single{%}%}"></div>\r\n        {% if (HasMore)\r\n        { %}\r\n        <footer>\r\n            <div class="btn-gray-gradient moneybar2-timeline-popup2-under show-all-tasks-button">Pokaż wszystkie</div>\r\n        </footer>\r\n        {% }\r\n        %}\r\n    </div>       \r\n\r\n</div>\r\n'}),define("text!desktop/templates/taskscenter/timeline-task-reminder.html",[],function(){return'{%\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n        break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="m2t-icons-figure-1"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text full-title">{{ Title }}</p>\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    <div class="tooltip-accordion-block {{ headerCss }}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">{{ I18n.strftime(TermDate,\'%d.%m.%Y\') }}</p>\r\n            </div>\r\n            {% if(Recipient != null)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.recipient\') }}</p>\r\n                <p class="details">{{ Recipient }}</p>\r\n            </div>\r\n            {% } %}\r\n            {% if(Description != null)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.additional\') }}</p>\r\n                <p class="details description">{{ Description }}</p>\r\n            </div>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group task-command-bar">\r\n            \x3c!--if source is automatic--\x3e\r\n            {% if(Source === 1 && MainTaskAction != null)\r\n            { %}\r\n            <a class="{% if(Done) { %}btn-gray-gradient disabled{%} else {%}btn-red-gradient{%}%} main-action {{ MainTaskAction.InternalExternalIndicator }}">{{ MainTaskAction.Label }}</a>\r\n            {% } %}\r\n            <a class="btn-gray-gradient deleteBtn {% if(Periodic) { %}hide-actions{% } %}" data-taskid="{{Id}}">{{ i18n(\'tasksCenter.timelineTask.actions.deleteTask\') }}</a>\r\n            <a class="btn-gray-gradient bg-width-modifier2" data-taskid="{{Id}}">\r\n                <span class="m2tp-check-icon-{% if(Done) { %}green{%} else {%}gray{%}%}"></span>\r\n            </a>\r\n        </div>\r\n        {% if(Periodic)\r\n        { %}\r\n        <div class="button-group hide-confirm-bar hidden invisible" data-taskid="{{Id}}">\r\n            <a class="btn-gray-gradient task">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.thisTask\') }}</a>\r\n            <a class="btn-gray-gradient definition">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cycle\') }}</a>\r\n            <a class="btn-gray-gradient btn-cancel">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cancel\') }}</a>\r\n        </div>\r\n        {% } %}\r\n    </div>\r\n</div>'}),define("text!desktop/templates/taskscenter/timeline-task-payment.html",[],function(){return'{%\r\nvar iconClass = \'m2t-icons-figure-4\';\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n    break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="{{ iconClass }}"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text {% if(Amount == null) { %}full-title{%}%}">{{ Title }}</p>\r\n            {% if(Amount != null)\r\n            { %}\r\n            <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    {% if(IsNotSingle)\r\n    { %}\r\n    <a href="#" class="btn-gray-gradient flying-button pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n    {% } %}\r\n    <div class="tooltip-accordion-block {{ headerCss }}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n                {% if(Amount != null)\r\n                { %}\r\n                <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n                {% } %}\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">{{ I18n.strftime(TermDate,\'%d.%m.%Y\') }}\r\n                {% if(Swift != null)\r\n                { %}\r\n                    <span class="info">{{ i18n(\'tasksCenter.timelineTask.labels.infoAboutTerm\') }}</span>\r\n                {% } %}\r\n                </p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.recipient\') }}</p>\r\n                <p class="details">{{ Recipient }}</p>\r\n            </div>\r\n            {% if(Description != null)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.additional\') }}</p>\r\n                <p class="details description">{{ Description }}</p>\r\n            </div>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group task-command-bar">\r\n            <a class="{% if(Done) { %}btn-gray-gradient disabled{%} else {%}btn-red-gradient{%}%} main-action pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n            <a class="btn-gray-gradient alternative-action add-to-basket-btn {% if(Done) { %}disabled{%}%}">{{ i18n(\'tasksCenter.timelineTask.actions.addToBasket\') }}</a>\r\n            <a class="btn-gray-gradient deleteBtn {% if(Periodic) { %}hide-actions{% } %}" data-taskid="{{Id}}">{{ i18n(\'tasksCenter.timelineTask.actions.deleteTask\') }}</a>\r\n            <a class="btn-gray-gradient bg-width-modifier2" data-taskid="{{Id}}">\r\n                <span class="m2tp-check-icon-{% if(Done) { %}green{%} else {%}gray{%}%}"></span>\r\n            </a>\r\n        </div>\r\n        {% if(Periodic)\r\n        { %}\r\n        <div class="button-group hide-confirm-bar hidden invisible" data-taskid="{{Id}}">\r\n            <a class="btn-gray-gradient task">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.thisTask\') }}</a>\r\n            <a class="btn-gray-gradient definition">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cycle\') }}</a>\r\n            <a class="btn-gray-gradient btn-cancel">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cancel\') }}</a>\r\n        </div>\r\n        {% } %}\r\n    </div>\r\n</div>'}),define("text!desktop/templates/taskscenter/timeline-task-split-payment.html",[],function(){return'{%\r\nvar iconClass = \'m2t-icons-figure-4\';\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n    break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }} {% if(!IsNotSingle) { %}extended{%}%}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="{{ iconClass }}"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text {% if(Amount == null) { %}full-title{%}%}">{{ Title }}</p>\r\n            {% if(Amount != null)\r\n            { %}\r\n            <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    {% if(IsNotSingle)\r\n    { %}\r\n    <a href="#" class="btn-gray-gradient flying-button pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n    {% } %}\r\n    <div class="tooltip-accordion-block {{ headerCss }} {% if(!IsNotSingle) { %}extended{%}%}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n\r\n                {% if(Amount != null)\r\n                { %}\r\n                <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n                {% } %}\r\n\r\n                <p class="money-string small clear">\r\n                    {{ i18n(\'tasksCenter.timelineTask.labels.vatAmount\') }}\r\n                    {% if(VatAmount == null) { %}{{ l10nCurrency(0, Currency) }}{%} else {%}{{ l10nCurrency(VatAmount, Currency) }}{%}%}\r\n\r\n                    <span>{{ Currency }}</span>\r\n                </p>\r\n\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">\r\n                    {{ I18n.strftime(TermDate,\'%d.%m.%Y\') }}\r\n                    {% if(Swift != null)\r\n                    { %}\r\n                    <span class="info">{{ i18n(\'tasksCenter.timelineTask.labels.infoAboutTerm\') }}</span>\r\n                    {% } %}\r\n                </p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.recipient\') }}</p>\r\n                <p class="details recipient">\r\n                    {{ Recipient }}\r\n                    {% if(TaxpayerIdentifier != null && TaxpayerIdentifierType === 0)\r\n                    { %}\r\n                    <span class="info short">{{ i18n(\'tasksCenter.timelineTask.labels.nip\') }} {{ TaxpayerIdentifier }}</span>\r\n                    {% } %}\r\n                </p>\r\n            </div>\r\n            {% if(Description != null)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.additional\') }}</p>\r\n                <p class="details description">{{ i18n(\'tasksCenter.timelineTask.labels.invoice\') }} {{ InvoiceNumber }} {{ Description }}</p>\r\n            </div>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group task-command-bar">\r\n            <a class="{% if(Done) { %}btn-gray-gradient disabled{%} else {%}btn-red-gradient{%}%} main-action pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n            <a class="btn-gray-gradient alternative-action add-to-basket-btn {% if(Done) { %}disabled{%}%}">{{ i18n(\'tasksCenter.timelineTask.actions.addToBasket\') }}</a>\r\n            <a class="btn-gray-gradient deleteBtn {% if(Periodic) { %}hide-actions{% } %}" data-taskid="{{Id}}">{{ i18n(\'tasksCenter.timelineTask.actions.deleteTask\') }}</a>\r\n            <a class="btn-gray-gradient bg-width-modifier2" data-taskid="{{Id}}">\r\n                <span class="m2tp-check-icon-{% if(Done) { %}green{%} else {%}gray{%}%}"></span>\r\n            </a>\r\n        </div>\r\n        {% if(Periodic)\r\n        { %}\r\n        <div class="button-group hide-confirm-bar hidden invisible" data-taskid="{{Id}}">\r\n            <a class="btn-gray-gradient task">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.thisTask\') }}</a>\r\n            <a class="btn-gray-gradient definition">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cycle\') }}</a>\r\n            <a class="btn-gray-gradient btn-cancel">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cancel\') }}</a>\r\n        </div>\r\n        {% } %}\r\n    </div>\r\n</div>'}),define("text!desktop/templates/taskscenter/timeline-task-company-details.html",[],function(){return'{%\r\nvar iconClass = \'m2t-icons-figure-3\';\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n    break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="{{ iconClass }}"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text full-title">{{ Title }}</p>\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    <div class="tooltip-accordion-block {{ headerCss }}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">{{ I18n.strftime(TermDate,\'%d.%m.%Y\') }}</p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="info">{{ i18n(\'tasksCenter.timelineTask.labels.companyDetailsInfo\') }}\r\n                </p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name form">{{ i18n(\'tasksCenter.timelineTask.labels.formOfTax\') }}</p>\r\n\r\n                <div class="chzn-container chzn-container-single check1" id="check1-{{Id}}">\r\n                    <a href="javascript:void(0)" class="chzn-single selectedTxt">\r\n                        <span>\r\n                            {% if(FormOfTaxation != null)\r\n                            {%}\r\n                            {{ i18n(\'tasksCenter.timelineTask.formOfTaxation\', FormOfTaxation) }}\r\n                            {%} else {%}\r\n                            {{ i18n(\'tasksCenter.timelineTask.formOfTaxation\', 3) }}\r\n                            {%}%}\r\n                        </span>\r\n                    </a>\r\n                    <div class="chzn-drop check1">\r\n                        <div class="scroll-pane">\r\n                            <div class="jspContainer">\r\n                                <div class="jspPane">\r\n                                    <ul class="chzn-results">\r\n                                        {% _.each(i18n(\'tasksCenter.timelineTask.formOfTaxation\'), function(value, key) {%}\r\n                                        <li class="active-result {% if(FormOfTaxation == key || (FormOfTaxation == null && key == 3)) {%}result-selected{%}%}" data-id="{{ key }}">{{ value }}</li>\r\n                                        {% }); %}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="line form">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.PIT\') }}</p>\r\n                <div class="chzn-container chzn-container-single check2" id="check2-{{Id}}">\r\n                    <a href="javascript:void(0)" class="chzn-single selectedTxt">\r\n                        <span>\r\n                            {% if(IncomeTerm != null)\r\n                            {%}\r\n                            {{ i18n(\'tasksCenter.timelineTask.taxPaymentType\', IncomeTerm) }}\r\n                            {%} else {%}\r\n                            {{ i18n(\'tasksCenter.timelineTask.taxPaymentType\', 2) }}\r\n                            {%}%}\r\n                        </span>\r\n                    </a>\r\n                    <div class="chzn-drop check2">\r\n                        <div class="scroll-pane">\r\n                            <div class="jspContainer">\r\n                                <div class="jspPane">\r\n                                    <ul class="chzn-results">\r\n                                        {% _.each(i18n(\'tasksCenter.timelineTask.taxPaymentType\'), function(value, key) {\r\n                                                if(key != 1) {%}\r\n                                                <li class="active-result {% if(IncomeTerm == key || (IncomeTerm == null && key == 2)) {%}result-selected{%}%}" data-id="{{ key }}">{{ value }}</li>\r\n                                                {%}\r\n                                            }); %}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="line form">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.VAT\') }}</p>\r\n                <div class="chzn-container chzn-container-single check3" id="check3-{{Id}}">\r\n                    <a href="javascript:void(0)" class="chzn-single selectedTxt">\r\n                        <span>\r\n                            {% if(VatTerm != null)\r\n                            {%}\r\n                            {{ i18n(\'tasksCenter.timelineTask.taxPaymentType\', VatTerm) }}\r\n                            {%} else {%}\r\n                            {{ i18n(\'tasksCenter.timelineTask.taxPaymentType\', 1) }}\r\n                            {%}%}\r\n                            </span>\r\n                    </a>\r\n                    <div class="chzn-drop check3">\r\n                        <div class="scroll-pane">\r\n                            <div class="jspContainer">\r\n                                <div class="jspPane">\r\n                                    <ul class="chzn-results">\r\n                                        {% _.each(i18n(\'tasksCenter.timelineTask.taxPaymentType\'), function(value, key) {%}\r\n                                        <li class="active-result {% if(VatTerm == key || (VatTerm == null && key == 1)) {%}result-selected{%}%}" data-id="{{ key }}">{{ value }}</li>\r\n                                        {% }); %}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name form">{{ i18n(\'tasksCenter.timelineTask.labels.hiringEmployees\') }}</p>\r\n                <p class="details">\r\n                    <span class="radio-wrapper {% if(HasEmployees == true) { %}checked{%}%}" data-id="true">\r\n                        <input type="radio"></span> {{ i18n(\'tasksCenter.timelineTask.labels.yes\') }}\r\n                    <span class="radio-wrapper {% if(HasEmployees == false || HasEmployees == null) { %}checked{%}%}" data-id="false">\r\n                        <input type="radio"></span> {{ i18n(\'tasksCenter.timelineTask.labels.no\') }}\r\n                </p>\r\n            </div>\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group">\r\n            <a class="btn-red-gradient main-action confirm-company-details-btn">{{ i18n(\'tasksCenter.timelineTask.actions.confirm\') }}</a>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!desktop/templates/taskscenter/timeline-task-accounting.html",[],function(){return'{%\r\nvar iconClass = (Category == \'accounting\') ? \'m2t-icons-figure-3\' : \'m2t-icons-figure-4\';\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n        break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="{{ iconClass }}"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text {% if(Amount == null) { %}full-title{%}%}">{{ Title }}</p>\r\n            {% if(Amount != null)\r\n            { %}\r\n            <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    <div class="tooltip-accordion-block {{ headerCss }}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n                {% if(Amount != null)\r\n                { %}\r\n                <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n                {% } %}\r\n\r\n                {% if(VatAmount != null) { %}\r\n                <p class="money-string small clear">\r\n                    {{ i18n(\'tasksCenter.timelineTask.labels.vatAmount\') }}\r\n                    {% if(VatAmount != null) {%}{{ l10nCurrency(VatAmount, Currency) }}{%}%}\r\n\r\n                    <span>{{ Currency }}</span>\r\n                </p>\r\n                {%}%}\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">{{ I18n.strftime(TermDate,\'%d.%m.%Y\') }}</p>\r\n            </div>\r\n            {% if(Recipient != null && Recipient.length > 0)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.recipient\') }}</p>\r\n                <p class="details">\r\n                    {{ Recipient }}\r\n                    {% if(TaxpayerIdentifier != null && TaxpayerIdentifierType === 0)\r\n                    { %}\r\n                    <span class="info short">{{ i18n(\'tasksCenter.timelineTask.labels.nip\') }} {{ TaxpayerIdentifier }}</span>\r\n                    {% } %}\r\n                </p>\r\n            </div>\r\n            {% } %}\r\n            {% if(Description != null)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.additional\') }}</p>\r\n                <p class="details description">{{ Description }}</p>\r\n            </div>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group">\r\n            {% if(MainTaskAction != null)\r\n            { %}\r\n            <a class="{% if(Done) { %}btn-gray-gradient disabled{%} else {%}btn-red-gradient{%}%} main-action {{MainTaskAction.InternalExternalIndicator}}">{{ MainTaskAction.Label }}</a>\r\n            {% } %}\r\n            {% if(AlternativeTaskAction != null)\r\n            { %}\r\n            <a class="btn-gray-gradient {% if(Done) { %}disabled{%}%} alternative-action {{AlternativeTaskAction.InternalExternalIndicator}}">{{ AlternativeTaskAction.Label }}</a>\r\n            {% } %}\r\n            {% if(ThirdTaskAction != null)\r\n            { %}\r\n            <a class="btn-gray-gradient {% if(Done) { %}disabled{%}%} third-button {{ThirdTaskAction.InternalExternalIndicator}}">{{ ThirdTaskAction.Label }}</a>\r\n            {% } %}\r\n            <a class="btn-gray-gradient bg-width-modifier2" data-taskid="{{Id}}">\r\n                <span class="m2tp-check-icon-{% if(Done) { %}green{%} else {%}gray{%}%} dontUndo"></span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("text!desktop/templates/taskscenter/timeline-task-dkb-campaign.html",[],function(){return"\x3c!-- TODO --\x3e\r\n\r\n{%\r\nvar iconClass = (Category == 'payments') ? 'm2t-icons-figure-4' : 'm2t-icons-figure-3';\r\nvar iconColor = Past ? 'gray' : '';\r\nvar priority = '';\r\nvar single = IsNotSingle ? '' : 'single';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == '') iconColor = 'blue';\r\n        priority = 'low';\r\n        break;\r\n    case 5:\r\n        if(iconColor == '') iconColor = 'orange';\r\n        priority= 'medium';\r\n        break;\r\n    case 9:\r\n        if(iconColor == '') iconColor = 'red';\r\n        priority = 'high';\r\n    break;\r\n}\r\n%}\r\n\r\n<div class=\"moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}\">\r\n    <div class=\"m2tp-header {{ headerCss }} {{ single }}\">\r\n        <div class=\"tooltip-accordion\">\r\n            <div class=\"m2t-icon-{{ iconColor }}\">\r\n                <span class=\"{{ iconClass }}\"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class=\"m2t-icons-corner-figure-green\"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class=\"m2t-icons-corner-figure-red\"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class=\"m2tp-header-text full-title\">{{ Title }}</p>\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class=\"list-expander\"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    <div class=\"tooltip-accordion-block {{ headerCss }}\">\r\n        <div class=\"tooltip-accordion-content\">\r\n            \x3c!-- TODO --\x3e\r\n        </div>\r\n        <div class=\"button-group\">\r\n            \x3c!-- TODO --\x3e\r\n        </div>\r\n    </div>\r\n</div>"}),define("text!desktop/templates/taskscenter/timeline-task-suggested-payment.html",[],function(){return'{%\r\nvar iconClass = \'m2t-icons-figure-4\';\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n        break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="{{ iconClass }}"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text {% if(Amount == null) { %}full-title{%}%}">{{ Title }}</p>\r\n            {% if(Amount != null)\r\n            { %}\r\n            <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    {% if(IsNotSingle)\r\n    { %}\r\n    <a href="#" class="btn-gray-gradient flying-button pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n    {% } %}\r\n    <div class="tooltip-accordion-block {{ headerCss }}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n                {% if(Amount != null)\r\n                { %}\r\n                <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n                {% } %}\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">{{ I18n.strftime(DueDate,\'%d.%m.%Y\') }}</p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.recipient\') }}</p>\r\n                <p class="details">{{ Recipient }}</p>\r\n            </div>\r\n            {% if(Description != null)\r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.additional\') }}</p>\r\n                <p class="details description">{{ Description }}<span class="info">{{ i18n(\'tasksCenter.timelineTask.labels.infoAboutDescription\') }}</span></p>\r\n            </div>\r\n            {% } %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.period\') }}</p>\r\n                <p class="details description">{{ SuggestedPeriodicityString }}<span class="info">{{ i18n(\'tasksCenter.timelineTask.labels.infoAboutPeriod\') }}</span></p>\r\n            </div>\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group">\r\n            <a class="{% if(Done) { %}btn-gray-gradient disabled{%} else {%}btn-red-gradient{%}%} main-action pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n            <a class="btn-gray-gradient alternative-action set-cycle-btn {% if(Done) { %}disabled{%}%}">{{ i18n(\'tasksCenter.timelineTask.actions.setCycle\') }}</a>\r\n            <a class="btn-gray-gradient deleteBtn" data-taskid="{{Id}}">{{ i18n(\'tasksCenter.timelineTask.actions.deleteTask\') }}</a>\r\n            <a class="btn-gray-gradient bg-width-modifier2" data-taskid="{{Id}}">\r\n                <span class="m2tp-check-icon-{% if(Done) { %}green{%} else {%}gray{%}%}"></span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!desktop/templates/taskscenter/timeline-task-social-security-payment.html",[],function(){return'{%\r\nvar iconClass = \'m2t-icons-figure-4\';\r\nvar iconColor = Past ? \'gray\' : \'\';\r\nvar priority = \'\';\r\nvar single = IsNotSingle ? \'\' : \'single\';\r\n\r\nswitch(Priority){\r\n    case 1:\r\n        if(iconColor == \'\') iconColor = \'blue\';\r\n        priority = \'low\';\r\n        break;\r\n    case 5:\r\n        if(iconColor == \'\') iconColor = \'orange\';\r\n        priority= \'medium\';\r\n        break;\r\n    case 9:\r\n        if(iconColor == \'\') iconColor = \'red\';\r\n        priority = \'high\';\r\n    break;\r\n}\r\n%}\r\n\r\n<div class="moneybar2-timeline-popup2-add {{ headerCss }} {% if(Done) { %}done{%}%}">\r\n    <div class="m2tp-header {{ headerCss }} {{ single }}">\r\n        <div class="tooltip-accordion">\r\n            <div class="m2t-icon-{{ iconColor }}">\r\n                <span class="{{ iconClass }}"></span>\r\n                {% if(Done)\r\n                { %}\r\n                <span class="m2t-icons-corner-figure-green"></span>\r\n                {% } else if(Past && Priority == 9) { %}\r\n                <span class="m2t-icons-corner-figure-red"></span>\r\n                {% } %}\r\n            </div>\r\n            <p class="m2tp-header-text {% if(Amount == null) { %}full-title{%}%}">{{ Title }}</p>\r\n            {% if(Amount != null && !ShowSocialSecurityPaymentSettings)\r\n            { %}\r\n            <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n            {% } %}\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n    </div>\r\n    {% if(IsNotSingle && !ShowSocialSecurityPaymentSettings)\r\n    { %}\r\n    <a href="#" class="btn-gray-gradient flying-button pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n    {% } %}\r\n    <div class="tooltip-accordion-block {{ headerCss }}">\r\n        <div class="tooltip-accordion-content">\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.priority\') }}</p>\r\n                <p class="details"><span class="priority-{{ priority }}">{{ i18n(\'tasksCenter.timelineTask.priority\', Priority) }}</span></p>\r\n                {% if(Amount != null && !ShowZusAmountTemplateChoice)\r\n                { %} \r\n                <p class="money-string">{{ l10nCurrency(Amount, Currency) }}&nbsp;<span>{{ Currency }}</span></p>\r\n                {% } else if (ShowZusAmountTemplateChoice) {%}\r\n                <p class="money-string">{{ l10nCurrency(ZusSettings.ZusTemplates[0].Sum,  i18n(\'tasksCenter.timelineTask.zusSettings.localCurrency\')) }}&nbsp;<span>{{  i18n(\'tasksCenter.timelineTask.zusSettings.localCurrency\') }}</span></p>\r\n                {% } %}\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.termDate\') }}</p>\r\n                <p class="details">{{ I18n.strftime(TermDate,\'%d.%m.%Y\') }}\r\n                {% if(Swift != null)\r\n                { %}\r\n                    <span class="info">{{ i18n(\'tasksCenter.timelineTask.labels.infoAboutTerm\') }}</span>\r\n                {% } %}\r\n                </p>\r\n            </div>\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.recipient\') }}</p>\r\n                <p class="details">{{ Recipient }}</p>\r\n            </div>\r\n            {% if(Description != null && (!ShowSocialSecurityPaymentSettings)) \r\n            { %}\r\n            <div class="line">\r\n                <p class="name">{{ i18n(\'tasksCenter.timelineTask.labels.additional\') }}</p>\r\n                <p class="details description">{{ Description }}</p>\r\n            </div>\r\n            {% } %}\r\n            {% if(ShowSocialSecurityPaymentSettings)\r\n            { %}            \r\n            <div class="zus-settings">\r\n                <p id="zus-task-standard-description">\r\n                    {{ Description }}\r\n                </p>\r\n                \r\n                {% if(ShowZusAmountTemplateChoice) { %}\r\n                <p id="zus-task-settings-description">\r\n                    {% if(ShowZusAddressBookTemplateChoice === true ) { %}\r\n                    {% if(Amount == null) { %}\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.emptyAmountAndAccountDescription\') }}\r\n                    {% } else { %}\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.updateAmountAndAccountDescription\') }}\r\n                    {% } %}\r\n                    {% } %}\r\n                    {% if(ShowZusAddressBookTemplateChoice === false ) { %}\r\n                    {% if(Amount == null) { %}\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.emptyAmountDescription\') }}\r\n                    {% } else { %}\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.updateAmountDescription\') }}\r\n                    {% } %}\r\n                    {% } %}\r\n                    <span rel="tooltip" class="btn-gray-gradient-darker btn-small" title="{{ i18n(\'tasksCenter.timelineTask.zusSettings.legalNote\') }}">\r\n                        <i class="icon-question-mark" style="width: 12px; height: 12px; background-position: -1px -1px;">{{ i18n(\'help\') }}</i>\r\n                    </span>\r\n                </p>\r\n                {% } %}\r\n\r\n                {% if(ShowZusAmountTemplateChoice) { %}\r\n                <div class="zus-settings-label">\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.selectTemplateLabel\') }}\r\n                </div>\r\n                <div class="zus-settings-item">\r\n                    <div class="chzn-container chzn-container-single select-zus-template" id="select-zus-template-{{Id}}">\r\n                        <a href="javascript:void(0)" class="chzn-single selectedTxt">\r\n                            <span>\r\n                                {{ i18n(\'tasksCenter.timelineTask.zusSettings.template.\' + ZusSettings.ZusTemplates[0].TemplateSymbol) }}\r\n                            </span>\r\n                        </a>\r\n                        <div class="chzn-drop select-zus-template">\r\n                            <div class="scroll-pane">\r\n                                <div class="jspContainer">\r\n                                    <div class="jspPane">\r\n                                        <ul class="chzn-results">\r\n                                            {% _.each(ZusSettings.ZusTemplates, function(item) {%}\r\n                                            <li class="active-result {% if(ZusSettings.ZusTemplates[0].TemplateSymbol == item.TemplateSymbol) {%}result-selected{%}%}" data-id="{{ item.TemplateSymbol }}">{{ i18n(\'tasksCenter.timelineTask.zusSettings.template.\' + item.TemplateSymbol) }}</li>\r\n                                            {% }); %}\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="zus-settings-label">\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.selectSicknessOptionLabel\') }}\r\n                </div>\r\n                <div class="zus-settings-item">\r\n                    <div class="chzn-container chzn-container-single select-sickness-option" id="select-sickness-option-{{Id}}">\r\n                        <a href="javascript:void(0)" class="chzn-single selectedTxt">\r\n                            <span>\r\n                                {{ i18n(\'tasksCenter.timelineTask.zusSettings.yes\') }}\r\n                            </span>\r\n                        </a>\r\n                        <div class="chzn-drop select-sickness-option">\r\n                            <div class="scroll-pane">\r\n                                <div class="jspContainer">\r\n                                    <div class="jspPane">\r\n                                        <ul class="chzn-results">\r\n                                            <li class="active-result result-selected" data-id="Y">{{ i18n(\'tasksCenter.timelineTask.zusSettings.yes\') }}</li>\r\n                                            <li class="active-result" data-id="N">{{ i18n(\'tasksCenter.timelineTask.zusSettings.no\') }}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {% } %}\r\n\r\n                {% if(ShowZusAddressBookTemplateChoice) { %}\r\n                <div id="zus-account-selection-{{Id}}" class="zus-account-selection zus-settings-label">\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.selectZusAccountLabel\') }}\r\n                </div>\r\n                <div class="zus-settings-item zus-account-selection">\r\n                    <div class="chzn-container chzn-container-single select-zus-account-template" id="select-zus-account-template-{{Id}}">\r\n                        <a href="javascript:void(0)" class="chzn-single selectedTxt">\r\n                            <span>\r\n                                {{ i18n(\'tasksCenter.timelineTask.zusSettings.selectZusAccountPlaceholder\') }}\r\n                            </span>\r\n                        </a>\r\n                        <div class="chzn-drop select-zus-account-template">\r\n                            <div class="scroll-pane">\r\n                                <ul class="chzn-results">\r\n                                    <li class="active-result" data-id="addNew">{{ i18n(\'tasksCenter.timelineTask.zusSettings.addNewZusAccount\') }}</li>\r\n                               </ul>\r\n                            </div>\r\n                        </div>                        \r\n                    </div>\r\n                </div>\r\n                <div id="zus-account-selection-info" class="zus-settings-item  zus-account-selection">\r\n                    {{ i18n(\'tasksCenter.timelineTask.zusSettings.selectZusAccountInfo\') }}\r\n                </div>\r\n\r\n                {% } %}\r\n            </div>\r\n            {% } %}\r\n\r\n            {% if(IsNotSingle)\r\n            { %}\r\n            <span class="list-expander-extension"><span>&nbsp;</span></span>\r\n            {% } %}\r\n        </div>\r\n        <div class="button-group task-command-bar">\r\n            {% if(ShowZusAmountTemplateChoice)\r\n            { %}\r\n            <span title="{{ i18n(\'tasksCenter.timelineTask.actions.fillAmounts.tooltip\') }}" rel="tooltip" class="ui-tooltip-caller">\r\n                <a class="btn-red-gradient main-action fill-amounts-btn">{{ i18n(\'tasksCenter.timelineTask.actions.fillAmounts.label\') }}</a>\r\n            </span>\r\n            <a class="btn-gray-gradient alternative-action other-amounts-btn">{{ i18n(\'tasksCenter.timelineTask.actions.otherAmounts\') }}</a>\r\n            {% } else\r\n            { %}\r\n            <a class="{% if(Done) { %}btn-gray-gradient disabled{%} else {%}btn-red-gradient{%}%} main-action pay-btn">{{ i18n(\'tasksCenter.timelineTask.actions.pay\') }}</a>\r\n            <a class="btn-gray-gradient alternative-action add-to-basket-btn {% if(Done) { %}disabled{%}%}">{{ i18n(\'tasksCenter.timelineTask.actions.addToBasket\') }}</a>\r\n            {% } %}\r\n\r\n            <a class="btn-gray-gradient deleteBtn {% if(Periodic) { %}hide-actions{% } %}" data-taskid="{{Id}}">{{ i18n(\'tasksCenter.timelineTask.actions.deleteTask\') }}</a>\r\n            <a class="btn-gray-gradient bg-width-modifier2" data-taskid="{{Id}}">\r\n                <span class="m2tp-check-icon-{% if(Done) { %}green{%} else {%}gray{%}%}"></span>\r\n            </a>\r\n        </div>\r\n        {% if(Periodic)\r\n        { %}\r\n        <div class="button-group hide-confirm-bar hidden invisible" data-taskid="{{Id}}">\r\n            <a class="btn-gray-gradient task">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.thisTask\') }}</a>\r\n            <a class="btn-gray-gradient definition">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cycle\') }}</a>\r\n            <a class="btn-gray-gradient btn-cancel">{{ i18n(\'tasksCenter.timelineTask.hideTaskPopup.cancel\') }}</a>\r\n        </div>\r\n        {% } %}\r\n    </div>\r\n</div>'}),define("text!desktop/templates/taskscenter/sk-redirection-form.html",[],function(){return'<form id="skRedirectionForm" method="post" action="{{ baseUrl }}" target="_top">\r\n        <input type="hidden" name="key" id="key" value="{{ key }}" />\r\n        {% if(redirect != null) { %}\r\n            <input type="hidden" name="redirect" id="redirect" value="{{ redirect }}" />\r\n        {% } %}\r\n        {% if(task != null) { %}\r\n            <input type="hidden" name="task" id="task" value="{{ task }}" />\r\n        {% } %}\r\n</form>'}),define("desktop/js/preloader",[],function(){return{loadMask:function(e,t,n){if(!e.find("."+t).length){var i=$("<div/>",{class:t});if(n){var o=$("<div/>",{class:"preloader-layer"});i.append(o)}var r=new Backbone.nmb.Preloader;i.prepend(r.$el),e.prepend(i)}},unloadMask:function(e,t){var n=e.find("."+t);n.fadeOut(200),n.remove()}}}),define("desktop/js/taskscenter/views/timeline-task-view",["text!desktop/templates/taskscenter/timeline-task-reminder.html","text!desktop/templates/taskscenter/timeline-task-payment.html","text!desktop/templates/taskscenter/timeline-task-split-payment.html","text!desktop/templates/taskscenter/timeline-task-company-details.html","text!desktop/templates/taskscenter/timeline-task-accounting.html","text!desktop/templates/taskscenter/timeline-task-dkb-campaign.html","text!desktop/templates/taskscenter/timeline-task-suggested-payment.html","text!desktop/templates/taskscenter/timeline-task-social-security-payment.html","text!desktop/templates/taskscenter/sk-redirection-form.html","../../services","../../preloader"],function(e,t,n,i,o,r,a,s,c,l,d){return Backbone.Marionette.ItemView.extend({tagName:"div",className:"timeline-task",tipSelectors:["span[rel=tooltip]"],defaultTooltipConfig:{placement:"top",animation:!0,style:"taskscenter-tooltip",delay:200,width:600,plain:!0},events:{"click .m2tp-header:not(.single), .m2tp-header:not(.single) > *":"taskHeaderClick","click .m2tp-check-icon-gray":"setTaskDone","click .m2tp-check-icon-green:not(.dontUndo)":"undoTask","click .button-group > a.deleteBtn":"performHideAction","click .deleteBox > a.task":"hideSingleTask","click .deleteBox > a.definition":"hideTasksCycle","click .button-group .pay-btn:not(.disabled)":"getPaymentLink","click .flying-button.pay-btn":"getPaymentLink","click .button-group .add-to-basket-btn:not(.disabled)":"getPaymentLink","click .button-group .confirm-company-details-btn:not(.disabled)":"confirmCompanyDetails","click .button-group .disabled":"consumeDisabledBtn","click .chzn-container.chzn-container-single":"toggleDropdown","click .radio-wrapper > input":"consumeRadioBtnClick","click .button-group > .main-action.internal:not(.disabled), .button-group > .alternative-action.internal:not(.disabled), .third-button.internal:not(.disabled)":"getInternalActionLink","click .button-group > .main-action.external:not(.disabled), .button-group > .alternative-action.external:not(.disabled), .third-button.external:not(.disabled)":"redirectToSK",'click .button-group > span[rel="tooltip"] > a.main-action.fill-amounts-btn':"consumeSetZusSettingsClick","click .button-group > a.alternative-action.other-amounts-btn":"redirectToTasksCenterSettings","click .button-group .set-cycle-btn:not(.disabled)":"setCycle","mouseenter .flying-button":"flyingButtonHover","mouseleave .flying-button":"flyingButtonHover","click .select-zus-account-template":"fillZusAccountCombo","click .select-zus-template ul.chzn-results > li.active-result":"updateZusAmounts","click .select-sickness-option ul.chzn-results > li.active-result":"updateZusAmounts","click .select-zus-account-template ul.chzn-results > li.active-result":"zusAccountTemplateChanged","click ul.chzn-results > li.active-result":"consumeDropdownClick"},initialize:function(e){this.vent=e.vent,this.collectionCount=e.collectionCount,this.model.on("change:Done",this.onChangeDone,this),this.model.set("IsNotSingle",this.collectionCount>1),1===this.collectionCount&&this.model.set("headerCss","active")},getTemplate:function(){switch(this.model.get("TaskDefinitionType")){case 1:case 3:case 4:return _.template(t);case 2:return _.template(s);case 5:return _.template(e);case 6:return _.template(i);case 7:return _.template(r);case 8:return _.template(o);case 9:return _.template(a);case 10:return _.template(n);default:return null}},onRender:function(){this.bindTooltips()},fillZusAccountCombo:function(){this.isZusAccountComboInitialized()||this.apiGetZusAccounts(this.initializeZusAccountCombo)},isZusAccountComboInitialized:function(){return $('div[id^="select-zus-account-template-"]').first().hasClass("zus-account-combo-initialized")},initializeZusAccountCombo:function(e,t){for(var n=t.$el,i=0,o=e.zusAccounts.length;i<o;i++){var r='<li class="active-result" data-id="'+e.zusAccounts[i].TemplateId+'">'+e.zusAccounts[i].Description+"</li>";$('div[id^="select-zus-account-template-"] .chzn-results').prepend(r)}var a=n.find('div[id^="select-zus-account-template-"] .chzn-results').height();a>150?($('div[id^="select-zus-account-template-"] .scroll-pane').height(150),$('div[id^="select-zus-account-template-"] .jspContainer').height(150),$('div[id^="select-zus-account-template-"] .scroll-pane').jScrollPane({showArrows:!1,hideFocus:!0,autoReinitialise:!1,verticalDragMaxHeight:"68",horizontalGutter:0,verticalDragMinHeight:20,contentWidth:"0px"})):($('div[id^="select-zus-account-template-"] .scroll-pane').height(a),$('div[id^="select-zus-account-template-"] .jspContainer').height(a)),$('div[id^="select-zus-account-template-"]').addClass("zus-account-combo-initialized")},onChangeDone:function(e){this.model.set("headerCss","active"),this.render(e)},bindTooltips:function(){var e=this;_.each(this.tipSelectors,function(t){var n=$(this.el).find(t);e.registerTooltip(n,{})},this)},registerTooltip:function(e,t){$.extend(t,this.defaultTooltipConfig),e.tooltip(t)},taskHeaderClick:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target),n=t.hasClass("m2tp-header")?t:t.parents(".m2tp-header"),i=n.parents(".tasks-container"),o=n.parent(),r=o.find(".tooltip-accordion-block");i.find(".tooltip-accordion-block").not(r).each(function(){$(this).stop().slideUp()}),i.find(".m2tp-header").not(n).each(function(){$(this).removeClass("active")}),i.find(".moneybar2-timeline-popup2-add").not(o).each(function(){$(this).removeClass("active")}),$(r).stop().slideToggle(),$(".tooltip-accordion-content").fadeTo("fast",1),$(".button-group").fadeTo("fast",1),$(".hide-confirm-bar").hide(),n.toggleClass("active"),o.toggleClass("active"),this.model.attributes.Seen||this.model.set("Seen",!0)},setTaskDone:function(e){e.preventDefault(),e.stopPropagation(),this.setModelDoneProperty(!0)},undoTask:function(e){e.preventDefault(),e.stopPropagation(),this.setModelDoneProperty(!1)},performHideAction:function(e){if(e.preventDefault(),e.stopPropagation(),$(e.target).hasClass("hide-actions")){this.taskCommands=this.$el.find(".task-command-bar"),this.hideTaskConfirmation=this.$el.find(".hide-confirm-bar");var t=this;this.taskCommands.fadeTo("fast",0,function(){t.taskCommands.hide(),t.hideTaskConfirmation.fadeTo("fast",1,function(){t.hideTaskConfirmation.show()})}),this.hideTaskConfirmation.find(".btn-cancel").on("click",$.proxy(this.cancelHideConfirmation,this)),this.hideTaskConfirmation.find(".task").on("click",$.proxy(this.hideSingleTask,this)),this.hideTaskConfirmation.find(".definition").on("click",$.proxy(this.hideTasksCycle,this))}else this.hideTask()},cancelHideConfirmation:function(){var e=this;this.hideTaskConfirmation.fadeTo("fast",0,function(){e.hideTaskConfirmation.hide(),e.taskCommands.fadeTo("fast",1,function(){e.taskCommands.show()})})},hideSingleTask:function(e){e.preventDefault(),e.stopPropagation(),this.hideTask()},hideTasksCycle:function(e){e.preventDefault(),e.stopPropagation(),this.hideTaskDefinition()},consumeDisabledBtn:function(e){e.preventDefault(),e.stopPropagation()},toggleDropdown:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget),n=t.attr("id");$('.chzn-container.chzn-container-single:not([id="'+n+'"]) .chzn-drop').hide(),t.children(".chzn-drop").toggle()},consumeDropdownClick:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget);t.siblings().removeClass("result-selected"),t.addClass("result-selected");var n=t.text();t.parents(".chzn-drop").hide(),t.parents(".chzn-container").find("span").html(n)},zusAccountTemplateChanged:function(e){this.consumeDropdownClick(e),"addNew"===this.getZusAccountChoiceTemplate()&&(e.preventDefault(),e.stopPropagation(),this.showPreloader(),this.apiRedirectToAddressBook("newZus"))},consumeRadioBtnClick:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget),n=t.parent();n.siblings().removeClass("checked"),n.addClass("checked")},consumeSetZusSettingsClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.$el.find(".select-zus-template .result-selected").attr("data-id"),n=this.$el.find(".select-sickness-option .result-selected").attr("data-id"),i=this.$el.find(".select-zus-account-template .result-selected").attr("data-id");if("addNew"===i)return this.showPreloader(),void this.apiRedirectToAddressBook("newZus");i&&"select"!==i||(i=null);var o="Y"===n;this.setZusSettingsFromTemplate(t,o,i)},getInternalActionLink:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget),n=this.resolveAction(t);this.getInternalLink(n)},redirectToSK:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget),n=this.resolveAction(t);this.doExternalRedirect(n)},redirectToTasksCenterSettings:function(e){e.preventDefault(),e.stopPropagation(),this.apiRedirectToSettings()},setCycle:function(e){e.preventDefault(),e.stopPropagation(),this.saveTaskCreatorNavigationData()},flyingButtonHover:function(e){var t=this.$el.find(".m2tp-header");t.hasClass("active")||t.toggleClass("hovered")},deleteBoxIconCloseClicked:function(){var e=this.deleteBox.closest(".timeline-task").children(".moneybar2-timeline-popup2-add").find(".tooltip-accordion-block");e.children(".tooltip-accordion-content").fadeTo("fast",1),e.children(".button-group").fadeTo("fast",1),this.deleteBox.hide()},showPreloader:function(){d.loadMask(this.$el,"tasks-loading-mask",!0)},hidePreloader:function(){d.unloadMask(this.$el,"tasks-loading-mask")},resolveAction:function(e){return e.hasClass("main-action")?"Main":e.hasClass("alternative-action")?"Alternative":e.hasClass("third-button")?"Third":null},updateZusAmounts:function(e){this.consumeDropdownClick(e);var t=this.$el.find(".select-zus-template .result-selected").attr("data-id"),n=this.$el.find(".select-sickness-option .result-selected").attr("data-id"),i=this.model.attributes.ZusSettings.ZusTemplates.find(function(e){return e.TemplateSymbol===t}),o=i.SicknessAmount;"Y"===n&&(o=0),this.$el.find(".tooltip-accordion-content p.money-string").html(this.getDisplayAmount(i.Sum-o)+"&nbsp;<span>"+I18n.t("tasksCenter.timelineTask.zusSettings.localCurrency")+"</span>")},getDisplayAmount:function(e){return e.toFixed(2).replace(".",",")},setModelDoneProperty:function(e){var t=this;this.showPreloader(),this.model.set("Done",e,{wait:!0,finish:function(){t.hidePreloader(),t.vent.trigger("checkTasks",t.model)}})},hideTask:function(){var e=this;this.showPreloader(),l.HideTask({success:function(){e.vent.trigger("refresh",e.model)},data:{taskId:this.model.attributes.Id}})},hideTaskDefinition:function(){var e=this;this.showPreloader(),l.HideTaskDefinition({success:function(){e.vent.trigger("refresh",e.model)},data:{taskId:this.model.attributes.Id}})},getPaymentLink:function(e){this.isZusAccountChoiceSelected()?(e.preventDefault(),e.stopPropagation(),this.showPreloader(),this.saveZusAccountTemplateWhenSelected(this.apiGetPaymentLink,this.model.attributes.Id)):(e.preventDefault(),e.stopPropagation(),this.showPreloader(),this.apiGetPaymentLink(this.model.attributes.Id))},apiGetPaymentLink:function(e){l.GetPaymentLink({success:function(e){Ebre.Common.NavigateTo(e.path)},data:{taskId:e}})},apiGetZusAccounts:function(e){var t=this;l.GetZusAccounts({success:function(n){e(n,t)},data:{taskId:this.model.attributes.Id}})},isZusAccountChoiceSelected:function(){var e=this.getZusAccountChoiceTemplate();return!(!e||"addNew"===e||"select"===e)},getZusAccountChoiceTemplate:function(){var e=this.$el.find(".select-zus-account-template .result-selected");return e?(e=e.attr("data-id"))||null:null},saveZusAccountTemplateWhenSelected:function(e,t){var n=this.getZusAccountChoiceTemplate();n&&"addNew"!==n&&"select"!==n&&this.apiSetZusAccountTemplate(n,e,t)},confirmCompanyDetails:function(){var e=this;this.showPreloader();var t=this.$el.find(".check1 .result-selected").attr("data-id"),n=this.$el.find(".check2 .result-selected").attr("data-id"),i=this.$el.find(".check3 .result-selected").attr("data-id"),o=this.$el.find(".details .radio-wrapper.checked").attr("data-id");l.ConfirmCompanyDetails({success:function(){e.vent.trigger("refresh",e.model)},data:{taskId:this.model.attributes.Id,confirmActionParameters:{FormOfTaxation:t,IncomeTerm:n,VatTerm:i,HasEmployees:o}}})},getInternalLink:function(e){var t=this;t.showPreloader(),l.GetInternalLink({success:function(e){var n=e.path;new RegExp("(^(https:\\/\\/)?(\\bwww\\.mbank\\.pl\\b)|(^(https:\\/\\/)form\\.mbank(\\.com)?\\.pl)|(^(https:\\/\\/)uwdev-rrev-(nmb|pl)\\.multibank\\.pl))(\\/.*)?$").test(n)?(window.open(n,"_self"),t.setModelDoneProperty(!0)):Ebre.Common.NavigateTo(n)},error:function(){t.hidePreloader()},data:{taskId:this.model.attributes.Id,actionButton:e}})},doExternalRedirect:function(e){this.showPreloader(),l.DoExternalRedirect({success:function(e){var t=_.template(c);$("#viewport").append(t({baseUrl:e.BaseUrl,key:e.IntermediateKey,redirect:e.Redirect,task:e.Task})),$("#skRedirectionForm").submit()},data:{taskId:this.model.attributes.Id,actionButton:e}})},saveTaskCreatorNavigationData:function(){this.showPreloader(),l.SaveTaskCreatorNavigationData({success:function(){return Ebre.Common.NavigateTo(Ebre.Modules.Desktop.TasksCenter.URL.NewTask),!1},data:{taskId:this.model.attributes.Id}})},setZusSettingsFromTemplate:function(e,t,n){this.showPreloader();var i=this;l.SetZusSettingsFromTemplate({success:function(){i.onSetZusSettingsFromTemplateSuccess()},data:{templateSymbol:e,includeSickness:t,accountTemplate:n}})},onSetZusSettingsFromTemplateSuccess:function(){$(".taskscenter-tooltip").remove();var e=this.$el.find("div.zus-settings-label, div.zus-settings-item");this.isZusAccountChoiceSelected()||(e=e.not(".zus-account-selection"),$("#zus-account-selection-info").show(500)),e.each(function(){$(this).hide(500,function(){this.remove()})}),$("#zus-task-settings-description").hide(500,function(){this.remove(),$("#zus-task-standard-description").show(500)}),this.$el.find("div.button-group > span.ui-tooltip-caller").remove(),this.$el.find("div.button-group > a.other-amounts-btn").remove();var t=this.model.attributes.Done,n='<a href="#" class="'+(t?"btn-gray-gradient disabled":"btn-red-gradient")+' main-action pay-btn">'+I18n.t("tasksCenter.timelineTask.actions.pay")+"</a>",i='<a href="#" class="btn-gray-gradient alternative-action add-to-basket-btn'+(t?" disabled":"")+'">'+I18n.t("tasksCenter.timelineTask.actions.addToBasket")+"</a>";this.$el.find("div.button-group a:first").before(n+i);var o=this.$el.find(".tooltip-accordion-content p.money-string").html(),r=this.$el.find("div.tooltip-accordion p.money-string");r.length>0?r.html(o):(this.$el.find("div.tooltip-accordion p.m2tp-header-text").removeClass("full-title"),this.$el.find("div.tooltip-accordion p.m2tp-header-text").after('<p class="money-string">'+o+"</p>")),this.hidePreloader()},apiRedirectToAddressBook:function(e){var t;"newZus"===e&&(t=Ebre.Modules.Desktop.TasksCenter.URL.NewContactZus),t&&l.SetSettingsNavigationData({success:function(e){Ebre.Common.NavigateTo(t)},data:{}})},apiRedirectToSettings:function(){l.SetSettingsNavigationData({success:function(){Ebre.Common.NavigateTo(Ebre.Modules.Desktop.TasksCenter.URL.Settings)},data:{}})},apiSetZusAccountTemplate:function(e,t,n){l.SetZusSettingsAddressBookTemplate({success:function(){t(n)},data:{zusAddressBookTemplateId:e}})}})}),define("desktop/js/taskscenter/views/timeline-item-view",["text!desktop/templates/taskscenter/timeline-item.html","./timeline-task-view"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,tagName:"div",className:"timeline-item",itemView:t,isFreezed:!1,allTasksShown:!1,date:null,events:{"click .m2t-active-icon":"onIconClicked","mouseenter .show-tooltip:has(.m2t-active-icon)":"onItemMouseEnter","mouseleave .show-tooltip:has(.m2t-active-icon)":"onItemMouseLeave"},initialize:function(e){this.collection=this.model.get("Tasks"),this.date=this.model.get("Date"),this.tasksOutsideGroupDone=this.model.get("TasksOutsideGroupDone"),this.hasMore=this.model.get("HasMore"),this.vent=e.vent,this.itemViewOptions={vent:this.vent,collectionCount:this.collection.length},this.vent.bindTo("refresh",this.onTimelineCollectionChanged,this),this.vent.bindTo("checkTasks",this.checkWhetherAllTasksDone,this),this.hasMore||(this.allTasksShown=!0)},appendHtml:function(e,t,n){if(0!==e.$(".tasks-container").length)e.$(".tasks-container").append(t.el);else{this.tasks.find(".tasks-container").append(t.el)}},onItemMouseEnter:function(){this.isFreezed||this.showTasks()},onItemMouseLeave:function(e){if(!this.isFreezed){var t=this,n=e.toElement||e.relatedTarget;if($(n).hasClass("moneybar2-timeline-popup"))return void this.tasks.off().on("mouseleave",function(){t.tasks.off(),t.hideTasks()});this.hideTasks()}},onIconClicked:function(e){var t=this;this.isFreezed=!0,this.vent.trigger("itemFreezed",this.cid),e.stopPropagation(),e.preventDefault(),$(document).off("click.tasksCenter").on("click.tasksCenter",function(e){var n=t.tasks.find(".moneybar2-timeline-popup");n.is(e.target)||0!==n.has(e.target).length||($(document).off("click.tasksCenter"),t.vent.trigger("itemUnfreezed",this.cid))})},onTimelineCollectionChanged:function(){this.hideTasks()},checkWhetherAllTasksDone:function(){this.collection.all(function(e){return!0===e.toJSON().Done})&&(this.allTasksShown||!this.allTasksShown&&this.tasksOutsideGroupDone)?this.$el.find(".m2t-active-icon").append('<span class="m2t-icons-corner-figure-green"></span>'):this.$el.find(".m2t-icons-corner-figure-green").remove()},showTasks:function(){if(1===this.collection.length){var e=this.collection.first();e.attributes.Seen||e.set("Seen",!0)}if($("#zus-task-settings-description").length>0&&($("#zus-task-standard-description").hide(),$("#zus-account-selection-info").hide()),void 0!=this.tasks)this.tasks.show();else{this.tasks=this.$el.find(".timeline-tasks");var t=this.$el.position();this.tasks.css({left:t.left,right:t.right}),this.tasks.appendTo("#task-details-container"),this.tasks.find(".show-all-tasks-button").on("click",$.proxy(this.showAllTasks,this)),this.tasks.show()}},hideTasks:function(){this.tasks&&(this.tasks.find(".tooltip-accordion-content").fadeTo("fast",1),this.tasks.find(".button-group").fadeTo("fast",1),this.tasks.find(".hide-confirm-bar").hide(),this.tasks.hide())},freeze:function(){this.isFreezed=!0,this.$el.addClass("freezed")},unfreeze:function(){this.isFreezed=!1,this.$el.removeClass("freezed")},showAllTasks:function(){var e=this;this.collection.fetch({success:function(){e.tasks.find(".show-all-tasks-button").hide(),e.allTasksShown=!0},data:{date:e.date}})}})}),define("desktop/js/taskscenter/utils",[],function(){return{escape:function(e){var t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e=e.replace(/[&><"'\/]/g,function(e){return t[e]})},regExp_escape:function(e){return String(e).replace(/([\\\.\+\'\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")},replaceAll:function(e,t,n){return e.replace(new RegExp(t,"g"),n)},accentFold:function(e){var t={"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ż":"z","ź":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ż":"Z","Ź":"Z","á":"a","ä":"a","č":"c","ď":"d","é":"e","í":"i","ĺ":"l","ľ":"l","ň":"n","ô":"o","ŕ":"r","š":"s","ť":"t","ú":"u","ý":"y","ž":"z","Á":"A","Ä":"A","Č":"C","Ď":"D","É":"E","Í":"I","Ĺ":"L","Ľ":"L","Ň":"N","Ô":"O","Ŕ":"R","Š":"S","Ť":"T","Ú":"U","Ý":"Y","Ž":"Z","ě":"e","ř":"r","ů":"u","Ě":"E","Ř":"R","Ů":"U"};if(!e)return"";for(var n="",i=0;i<e.length;i++)n+=t[e.charAt(i)]||e.charAt(i);return n},getIndicesOf:function(e,t){for(var n,i=0,o=e.length,r=[];(n=t.indexOf(e,i))>-1;)r.push(n),i=n+o;return r},highlightMatches:function(e,t,n){var i=this.replaceAll(n,"&#40;","(");i=this.replaceAll(i,"&#41;",")"),i=this.accentFold(i);var o=jQuery(e).text(),r=this.accentFold(o),a=r.toUpperCase().indexOf(i.toUpperCase());if(a>=0){var s=r.substring(a,a+i.length);s=this.regExp_escape(s);var c=r.replace(new RegExp("(^|)("+s+")(|$)","ig"),"$1<strong>$2</strong>$3"),l=this.getIndicesOf("<strong>",c),d=this.getIndicesOf("</strong>",c),u=l.concat(d);for(u.sort(function(e,t){return e-t}),t=0;t<u.length;t++)o=l.indexOf(u[t])>-1?o.substr(0,u[t])+"<strong>"+o.substr(u[t],o.length):o.substr(0,u[t])+"</strong>"+o.substr(u[t],o.length);o=this.escape(o),o=this.replaceAll(o,"&lt;strong&gt;","<strong>"),o=this.replaceAll(o,"&lt;&#x2F;strong&gt;","</strong>"),jQuery(e).html(o)}return a>=0},getPageScrollSelector:function(){return $.browser.webkit?"html body":"html"},parsers:{toNumber:function(e){var t;return e=e||"",t=e.replace(/\s+/g,""),t=t.replace(/,/,"."),t=t.replace(/,/g,""),Number(t)},slideData:function(e){if(e){return e.length&&-1!==e.indexOf(".")?e.split(".").reverse().join("/"):e}},pickerData:function(e){var t=parseInt(e.split(".")[1])-1,n=parseInt(e.split(".")[0]),i=pYear=parseInt(e.split(".")[2]),o=t>11?11:t,r=new Date(i,o+1,0).getDate(),a=n>r?r:n;return parsedDate=new Date(i,o,a),parsedDate},formatDateWithDays:function(e,t,n){var i,e=String(e),o="",r=e.split(".");new Date;return 2==r.length?(i=new Date(r[1],Number(r[0]),0,0,0,0,0),o=t?n&&i.getMonth()==n.getMonth()&&i.getFullYear()==n.getFullYear()?("0"+n.getDate()).slice(-2):("0"+i.getDate()).slice(-2):n&&i.getMonth()==n.getMonth()&&i.getFullYear()==n.getFullYear()?("0"+n.getDate()).slice(-2):"01",o=o+"."+("0"+(i.getMonth()+1)).slice(-2)+"."+i.getFullYear()):e},formatTimeToDate:function(e){var t=new Date(e);return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()},formatDayMonth:function(e){var t=e.getDate(),n=String(e.getMonth()+1);return 1===n.length&&(n="0"+n),t+"."+n}}}}),define("desktop/js/taskscenter/views/timeline-view",["text!desktop/templates/taskscenter/timeline.html","./timeline-item-view","../utils","../../preloader"],function(e,t,n,i){return Backbone.Marionette.CompositeView.extend({template:e,tagName:"div",className:"moneybar2-timeline",itemView:t,slideDirection:void 0,isSliding:!1,events:{"click .m2t-arrow-right":"onArrowRightClicked","click .m2t-arrow-left":"onArrowLeftClicked"},initialize:function(e){this.toDateMax=new Date(n.parsers.slideData(e.toDateMax)),this.fromDateMin=new Date(n.parsers.slideData(e.fromDateMin)),this.vent=e.vent,this.vent.bindTo("dateRangeChange",this.onChangeDateRange,this),this.bindTo(this,"collection:rendered",this.onCollectionRendered),this.bindTo(this,"collection:before:render",this.beforeCollectionRender),this.innerVent=new Backbone.Marionette.EventAggregator,this.itemViewOptions={vent:this.innerVent},this.innerVent.bindTo("itemFreezed",this.onItemFreezed,this),this.innerVent.bindTo("itemUnfreezed",this.onItemUnfreezed,this),this.innerVent.bindTo("refresh",this.onTimelineCollectionChanged,this)},onArrowRightClicked:function(){if(!this.collection.isEmpty()&&!this.isSliding){var e=new Date(n.parsers.slideData(this.collection.last().get("Date"))),t=e;t.setDate(e.getDate()+1);var i=new Date(t.getTime());if(i.setDate(t.getDate()+6),!(i>this.toDateMax)){var o={From:t,To:i};this.slideDirection="L",this.changeDateRange(o)}}},onArrowLeftClicked:function(){if(!this.collection.isEmpty()&&!this.isSliding){var e=new Date(n.parsers.slideData(this.collection.first().get("Date"))),t=e;t.setDate(e.getDate()-1);var i=new Date(t.getTime());if(i.setDate(t.getDate()-6),!(i<this.fromDateMin)){var o={From:i,To:t};this.slideDirection="R",this.changeDateRange(o)}}},onItemFreezed:function(e){this.maskDesktop(),$.each(this.children,function(t,n){n.cid==e?n.showTasks():n.hideTasks(),n.freeze()})},onItemUnfreezed:function(e){this.unmaskDesktop(),$.each(this.children,function(e,t){t.unfreeze(),t.hideTasks()})},onTimelineCollectionChanged:function(){var e=new Date(n.parsers.slideData(this.collection.first().get("Date"))),t=new Date(n.parsers.slideData(this.collection.last().get("Date")));this.showPreloader(),this.slideDirection="undefined",this.collection.fetch({data:{filter:{From:n.parsers.formatTimeToDate(e.getTime()),To:n.parsers.formatTimeToDate(t.getTime())}}})},onCollectionRendered:function(){var e=this,t=this.$el.find("#viewport").width(),n=function(){e.$el.find("#timeline-items-prev").remove(),e.$el.find("#timeline-list").css({left:0,right:0}),e.onSlideEnd()};"L"===this.slideDirection?this.$el.find("#timeline-list").animate({left:"-="+t},500,n):"R"===this.slideDirection?this.$el.find("#timeline-list").animate({left:0},500,n):this.onSlideEnd()},beforeCollectionRender:function(){this.onSlideStart();var e=this.$el.find("#viewport").width();"L"===this.slideDirection?(this.$el.find("#timeline-items .timeline-item").clone().appendTo("#timeline-items"),this.$el.find("#timeline-items").attr("id","timeline-items-prev"),this.$el.find("#timeline-items-prev").after('<div id="timeline-items" class="timeline-items-row"></div>')):"R"===this.slideDirection&&(this.$el.find("#timeline-items .timeline-item").clone().appendTo("#timeline-items"),this.$el.find("#timeline-items").attr("id","timeline-items-prev"),this.$el.find("#timeline-items-prev").before('<div id="timeline-items" class="timeline-items-row"></div>'),this.$el.find("#timeline-list").css({left:-e}))},onChangeDateRange:function(e){this.isSliding&&this.$el.find("#timeline-list").stop(!0,!0),this.slideDirection=e.SlideDirection,this.changeDateRange(e)},changeDateRange:function(e){$.each(this.children,function(e,t){t.unfreeze(),t.hideTasks()}),$("#task-details-container").empty();var t=this;this.showPreloader(),this.collection.fetch({success:function(n){t.vent.trigger("dateRangeChanged",e),t.showOrHideEmptyWeekInfo(n.models)},data:{filter:{From:e.From,To:e.To}}})},onSlideStart:function(){this.unmaskDesktop(),this.isSliding=!0,this.$el.find(".m2t-arrow-left").addClass("disabled"),this.$el.find(".m2t-arrow-right").addClass("disabled")},onSlideEnd:function(){this.isSliding=!1;var e=this.collection.first();if(e){var t=new Date(n.parsers.slideData(e.get("Date")));t.setDate(t.getDate()-7),t>=this.fromDateMin&&this.$el.find(".m2t-arrow-left").removeClass("disabled")}else this.$el.find(".m2t-arrow-left").removeClass("disabled");this.hidePreloader();var i=this.collection.last();if(i){var o=new Date(n.parsers.slideData(i.get("Date")));o.setDate(o.getDate()+7),o<=this.toDateMax&&this.$el.find(".m2t-arrow-right").removeClass("disabled")}else this.$el.find(".m2t-arrow-right").removeClass("disabled")},appendHtml:function(e,t){e.$("#timeline-items").append(t.el)},maskDesktop:function(){$(".accounts-history-region").addClass("moneybar2-opacity-mask"),$(".messages-region").addClass("moneybar2-opacity-mask")},unmaskDesktop:function(){$(".accounts-history-region").removeClass("moneybar2-opacity-mask"),$(".messages-region").removeClass("moneybar2-opacity-mask")},showPreloader:function(){i.loadMask(this.$el.parent(),"timeline-loading-mask",!0)},hidePreloader:function(){i.unloadMask(this.$el.parent(),"timeline-loading-mask")},showOrHideEmptyWeekInfo:function(e){var t=new Array;e.forEach(function(e){var n=e.get("Tasks").length;t.push(n)}),t.every(function(e){return 0===e})?$("#viewport > .empty-week").show():$("#viewport > .empty-week").hide()}})}),define("desktop/js/taskscenter/models/calendar",["../utils"],function(e){return Backbone.Model.extend({defaults:{FromDateMin:Ebre.Modules.Desktop.TasksCenter.Calendar.FromDateMin,ToDateMax:Ebre.Modules.Desktop.TasksCenter.Calendar.ToDateMax,TodayDate:Ebre.Modules.Desktop.TasksCenter.Calendar.TodayDate,FromDate:null,ToDate:null},initialize:function(){var t=this.get("TodayDate"),n=new Date(e.parsers.slideData(t)),i=new Date;i.setDate(n.getDate()-2);var o=i.getTime(),r=new Date;r.setDate(n.getDate()+4);var a=r.getTime();this.set("FromDate",e.parsers.formatTimeToDate(o)),this.set("ToDate",e.parsers.formatTimeToDate(a))}})}),define("text!desktop/templates/taskscenter/calendar.html",[],function(){return'<div class="timeline-headr-float-modifier">\r\n    {{ i18n(\'tasksCenter.calendar.currentWeek\') }} &nbsp;\r\n    <span class="btn-blue-gradient bbg-calendar-add-modifier">\r\n        <span class="bbg-calendar-add-modifier-icon"></span>\r\n    </span>\r\n</div>\r\n<div class="timeline-headr-float-modifier thf-full-date hidden">\r\n    {{ i18n(\'tasksCenter.calendar.chosenWeek\') }} &nbsp;\r\n    <span class="btn-blue-gradient bbg-full-calendar-add-modifier">\r\n        <span class="bbg-calendar-add-modifier-icon2"></span>\r\n        <span class="bbg-full-calendar-text"></span>\r\n        <span class="bbg-icon-x-full-callendar"></span>\r\n    </span>\r\n</div>\r\n<div class="range">\r\n    <input type="hidden" class="fromMin" data-from="{{ FromDateMin }}" />\r\n    <input type="hidden" class="toMax" data-to="{{ ToDateMax }}" />\r\n    <div id="dateRangeDatePicker" class="date-container-to calendar-position-modifier" data-today="{{ TodayDate }}"></div>\r\n</div>\r\n'}),define("desktop/js/taskscenter/views/calendar",["text!desktop/templates/taskscenter/calendar.html","../utils"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"div",className:"timeline-calendar",utils:t,weekDays:null,datePickerInited:!1,datePickerLabelInited:!1,showDatePickerLabel:!1,allowShowDatePicker:!1,callFromCalendar:!1,datePickerTimer:null,initDate:null,initialize:function(e){$.extend($.datepicker,{_checkOffset:function(e,t){var n=t.left;return n+$(e.dpDiv).outerWidth(!0)>$(window).width()&&(n-=n+$(e.dpDiv).outerWidth(!0)-$(window).width()),{top:t.top,left:n}}}),this.vent=e.vent;var t=this;this.model.on("change",function(){t.skipRender||t.render()}),this.initDate=new Date(this.utils.parsers.slideData(this.model.get("TodayDate"))),this.vent.bindTo("dateRangeChanged",this.onDateRangeChanged,this)},onRender:function(){this.afterRender()},events:{"click .bbg-calendar-add-modifier":"consumeCalendarClick","click .bbg-full-calendar-add-modifier":"consumeCalendarClick","click .bbg-icon-x-full-callendar":"removeTimeFilter","mouseover td:not(.ui-datepicker-days-cell-over) > a.ui-state-hover":"consumeCalendarItemMouseOver","mouseleave .ui-datepicker-calendar > tbody > tr > td":"consumeCalendarItemMouseLeave"},remove:function(){Backbone.View.prototype.remove.call(this)},afterRender:function(){var e=this;_.bindAll(this,"consumeWindowClick"),this.storeRefs(),this.bindSelectorEvents();var t=new Date(this.utils.parsers.slideData(this.fromMinDate.attr("data-from"))),n=new Date(this.utils.parsers.slideData(this.toMaxDate.attr("data-to"))),i=new Date(this.utils.parsers.slideData(this.datePicker.attr("data-today")));this.setWeekDays(i);var o={showOtherMonths:!0,selectOtherMonths:!0,autoOpen:!1,dateFormat:"dd.mm.yy",monthNames:I18n.t("date.calendar_month_names"),dayNamesMin:I18n.t("date.abbr_day_names_min"),prevText:I18n.t("tasksCenter.calendar.previous"),nextText:I18n.t("tasksCenter.calendar.next"),firstDay:1,minDate:t,maxDate:n,defaultDate:i,beforeShowDay:function(t){return-1!==e.weekDays.indexOf(t.getTime())?t.getTime()===i.getTime()?[!0,"ui-state-xx-currnet-timeline-day",""]:0===t.getDay()||6===t.getDay()?[!0,"ui-state-xx-neighbor-timeline-day ui-state-xx-week-day",""]:[!0,"ui-state-xx-neighbor-timeline-day",""]:0===t.getDay()||6===t.getDay()?[!0,"ui-state-xx-week-day",""]:[!0,"",""]},onSelect:function(t,n){var o=new Date(n.currentYear,n.currentMonth,n.currentDay);o.getTime()===i.getTime()?e.hideDatePicker():(e.showDatePickerLabel=!0,e.callFromCalendar=!0,e.setDate(o,i<o)),$(window).unbind("click"),e.unbindSelectorEvents()}};this.datePicker.datepicker(o),this.setCurrentDay(),this.datePicker.hide()},storeRefs:function(){this.fromMinDate=this.$(".fromMin"),this.toMaxDate=this.$(".toMax"),this.datePicker=this.$("#dateRangeDatePicker")},consumeWindowClick:function(e){var t=this,n=$(e.target);n.parents(".calendar").length||n.parents(".ui-datepicker-header").length||t.datePicker.hide(),n.hasClass("hasDatepicker")||t.datePicker.is(":hidden")||t.datePicker.blur()},consumeCalendarClick:function(e){e.preventDefault(),e.stopPropagation();var t={mask:"99.99.9999",options:{placeholder:"dd.mm.rrrr"}};this.datePickerInited||(this.datePicker.inputmask(t.mask,t.options),this.datePickerInited=!0),this.datePicker.is(":hidden")?(this.allowShowDatePicker&&$("div.timeline-calendar > .range").hasClass("hidden")&&$("div.timeline-calendar > .range").removeClass("hidden"),this.datePicker.show()):this.datePicker.hide(),this.allowShowDatePicker=!0},consumeCalendarItemMouseOver:function(e){null!==this.datePickerTimer&&clearTimeout(this.datePickerTimer);var t=$(e.target);this.clearDays(),this.setDaysToHighlight(t.parent())},consumeCalendarItemMouseLeave:function(e){var t=this;this.datePickerTimer=setTimeout(function(){t.clearDays(),t.setDaysToHighlight(t.currentDayDatePicker)},100)},onDateRangeChanged:function(e){var t=new Date(e.From);t.setDate(t.getDate()+2),this.setWeekDays(t),this.setTimeFilters(t),!this.showDatePickerLabel&&this.callFromCalendar||(this.initDatePickerLabel(),this.setDatePickerLabel(t)),this.callFromCalendar&&(this.callFromCalendar=!1),$(window).unbind("click")},removeTimeFilter:function(){var e=new Date(this.utils.parsers.slideData(this.datePicker.attr("data-today")));this.setDate(this.initDate,e<this.initDate),this.iconFullBlock.hide(),this.iconSmallBlock.show(),$("div.timeline-calendar > .range").addClass("hidden"),this.showDatePickerLabel=!1,this.allowShowDatePicker=!1,this.datePickerLabelInited=!1,this.callFromCalendar=!0},clearDays:function(){var e=$(".ui-datepicker-calendar td");e.removeClass("ui-state-xx-neighbor-timeline-day"),e.removeClass("ui-state-xx-currnet-timeline-day")},hideDatePicker:function(){this.datePicker.datepicker("hide"),this.datePicker.hide()},initDatePickerLabel:function(){this.iconSmallBlock=$(".timeline-headr-float-modifier:not(.thf-full-date)"),this.iconFullBlock=$(".timeline-headr-float-modifier.thf-full-date"),this.datePickerLabel=this.iconFullBlock.find("span.bbg-full-calendar-text"),this.iconSmallBlock.hide(),this.iconFullBlock.show(),this.datePickerLabelInited=!0},setDatePickerLabel:function(e){var t=new Date(e);t.setDate(e.getDate()-2);var n=new Date(e);n.setDate(e.getDate()+4);var i=this.utils.parsers.formatDayMonth(t),o=this.utils.parsers.formatDayMonth(n),r=i+" - "+o;this.datePickerLabel.text(r)},bindSelectorEvents:function(){var e=this.utils.getPageScrollSelector();$(e).on("click",{owner:this},this.consumeWindowClick)},unbindSelectorEvents:function(){var e=this.utils.getPageScrollSelector();$(e).off("click",this.consumeWindowClick)},setDate:function(e,t){var n=this,i=new Date(e),o=new Date(e),r=!0===t?"L":"R";i.setDate(e.getDate()-2),o.setDate(e.getDate()+4),n.setCurrentDay(),n.vent.trigger("dateRangeChange",{From:i,To:o,SlideDirection:r})},setCurrentDay:function(){this.datePicker.find("td.ui-datepicker-current-day").length>0&&(this.currentDayDatePicker=this.datePicker.find("td.ui-datepicker-current-day"))},setWeekDays:function(e){var t=this;t.weekDays=[],t.setDays(e,t.weekDays)},setDaysToHighlight:function(e){var t=e;this.setCurrentDay(),this.datePickerLabelInited||this.initDatePickerLabel();var n=this.getDateFromTdElement(e);this.setDatePickerLabel(n),this.currentDayDatePicker.addClass("ui-state-xx-currnet-timeline-day");for(var i=-2;i<=4;i++){var o;i<0?(0===e.prev().length?(o=e.parent(),e=o.prev().children().last()):e=e.prev(),e.addClass("ui-state-xx-neighbor-timeline-day")):0===i?(e=t,e.hasClass("ui-state-xx-currnet-timeline-day")||e.addClass("ui-state-xx-currnet-timeline-day")):(0===e.next().length?(o=e.parent(),e=o.next().children().first()):e=e.next(),e.addClass("ui-state-xx-neighbor-timeline-day"))}},setDays:function(e,t){for(var n=-2;n<=4;n++)if(0===n)t.push(e.getTime());else{var i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+n);t.push(i.getTime())}},setTimeFilters:function(e){this.skipRender=!0;var t=this.utils.parsers.formatTimeToDate(this.weekDays[0]);this.model.set("FromDate",t);var n=this.utils.parsers.formatTimeToDate(this.weekDays[this.weekDays.length-1]);this.model.set("ToDate",n),this.skipRender=!1;var i=this.utils.parsers.formatTimeToDate(e.getTime());this.datePicker.attr("data-today",i),this.model.set("TodayDate",i)},getDateFromTdElement:function(e){var t=e.attr("data-year"),n=e.attr("data-month"),i=e.children().first().text();return new Date(t,n,i)}})}),define("text!desktop/templates/taskscenter/transfer-dashboard.html",[],function(){return'<article id="transfer-dashboard">\r\n    <div class="transfer-dashboard-view">\r\n        <div class="transfer-type-row click-yellow additional-resources">\r\n        </div>\r\n        <div class="transfer-type-row ttr-font-modifier">\r\n            <span class="money-string head-part">{{currentAccDescription}}<br>\r\n            </span>\r\n            <p>{{I18n.t(\'tasksCenter.transferDashboard.balance\')}}:</p>\r\n            <span class="money-string first-part">{{currentAccBalancePart1}}</span>\r\n            <span class="money-string last-part">,{{currentAccBalancePart2}} {{currentAccCurrency}}</span>\r\n        </div>\r\n        <div class="transfer-type-row first-row domestic">\r\n            <a id="trans1" tabindex="1" class="transfer-domestic" href="#/transfer">{{I18n.t(\'tasksCenter.transferDashboard.transfer\')}}\r\n                                <br />\r\n                {{I18n.t(\'tasksCenter.transferDashboard.newDomestic\')}}\r\n                                <span class="gfx"></span>\r\n            </a>\r\n        </div>\r\n        <div class="transfer-type-row own-account">\r\n            <a id="trans2" tabindex="1" class="transfer-personal" href="#/transfer">{{I18n.t(\'tasksCenter.transferDashboard.transfer\')}}\r\n                                <br />\r\n                {{I18n.t(\'tasksCenter.transferDashboard.toYourAccount\')}}\r\n                                <span class="gfx"></span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</article>\r\n'}),define("desktop/js/taskscenter/models/direct-credit-offer",["../../app/app","../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({sync:function(e,i,o){"read"===e&&t.GetDirectCreditOfferDataForFirm({success:o.success,error:n||o.error})}})}),define("text!desktop/templates/taskscenter/tooltips/direct-credit-offer.html",[],function(){return'\r\n<div id="money-bar-direct-credit-btn-firm-account-credit-id" class="credit-button money-bar-direct-credit-btn-firm-account-credit" data-gemius-event-type="action" data-gemius-event-action-id="120051" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-accountcredit">\r\n    <div>Kredyt w rachunku firmowym</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-firm-credit-id" class="credit-button money-bar-direct-credit-btn-firm-credit" data-gemius-event-type="action" data-gemius-event-action-id="120052" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-credit">\r\n    <div>Pożyczka dla firm</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-car-id" class="credit-button money-bar-direct-credit-btn-car" data-gemius-event-type="action" data-gemius-event-action-id="120053" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-carcredit">\r\n    <div>Kredyt samochodowy dla firm</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-leasing-id" class="credit-button money-bar-direct-credit-btn-leasing" data-gemius-event-type="action" data-gemius-event-action-id="120054" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-leasing">\r\n    <div>Leasing</div>\r\n</div>\r\n<div id="money-bar-direct-credit-btn-card-id" class="credit-button money-bar-direct-credit-btn-card" data-gemius-event-type="action" data-gemius-event-action-id="120055" data-gemius-event-action-name="desktop-moneybar-directoffer-firm-creditcard">\r\n    <div>Karta kredytowa dla firm</div>\r\n</div>'}),define("desktop/js/taskscenter/views/tooltips/direct-credit-offer",["../../models/direct-credit-offer","text!desktop/templates/taskscenter/tooltips/direct-credit-offer.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"direct-credit-offer-tooltip-start",className:"money-bar-direct-credit-taskscenter",doUWSubmit:function(e){$.get(e,function(e){$("#direct-credit-offer-tooltip-start").html(e)})},events:{"click #money-bar-direct-credit-btn-firm-account-credit-id":function(e){this.doUWSubmit(this.model.get("linkFirmAccountCredit"))},"click #money-bar-direct-credit-btn-firm-credit-id":function(e){this.doUWSubmit(this.model.get("linkFirmCredit"))},"click #money-bar-direct-credit-btn-car-id":function(e){this.doUWSubmit(this.model.get("linkCar"))},"click #money-bar-direct-credit-btn-leasing-id":function(e){this.doUWSubmit(this.model.get("linkLeasing"))},"click #money-bar-direct-credit-btn-card-id":function(e){this.doUWSubmit(this.model.get("linkCreditCard"))}},load:function(t){this.model||(this.model=new e,this.model.fetch(t))}})}),define("text!desktop/templates/taskscenter/direct-credit-offer.html",[],function(){return'<div class="text glow-up">\r\n    {% if(advData.CreditLimit != 0){ %}\r\n    <span>Mamy dla Ciebie dodatkowe środki</span><br />\r\n    <span>do: </span><span class="amount">{{advData.CreditLimit}} {{advData.Currency}}</span>\r\n    {% } else { %}\r\n    <span>Dodatkowe środki</span>\r\n    {% } %}\r\n</div>\r\n<a href="javascript:void(0)" class="transfer-arrow credit-link"></a>'}),define("desktop/js/taskscenter/views/direct-credit-offer",["./tooltips/direct-credit-offer","text!desktop/templates/taskscenter/direct-credit-offer.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:t,tagName:"div",id:"direct-credit-offer-btn",className:"bar",initialize:function(t){this.advData=t,this.tooltipView=new e(t)},templateHelpers:function(){return{advData:this.advData}},onRender:function(){var e=this,t="direct-credit-offer-tooltip",n=!1,i=function(t){var i=$(t.target);!n&&$("#direct-credit-offer-tooltip").has(i).length<=0&&e.$el.mytooltip("close"),n=!1};this.$el.mytooltip({tooltip:$("<div id='direct-credit-offer-tooltip' class='direct-credit-offer-tooltip-taskscenter' style='width:287px;height:208px'><div class='ui-tooltip-title'></div></div>"),title:null,titleElement:null,width:"287px",height:"208px",position:"left+35 center+2",side:"right",centerAfterShow:!0,opening:"click",closing:"click",closeOnEsc:!0,closeOnExternalClick:!0,conditionToShow:function(e,t){return"hidden"===t.css("visibility")},onShow:function(){n=!0,$("body").on("click",i),e.tooltipView.load({success:function(){$("#"+t).append(e.tooltipView.render().$el),$("#"+t).find(".ui-tooltip-title").remove(),$("#"+t).css("padding","0 0 0 0")}})},onClose:function(){n=!1,$("body").unbind("click",i)}})},beforeClose:function(){this.tooltipView.close(),this.$el.mytooltip("close"),this.$el.mytooltip("destroy")}})}),define("desktop/js/taskscenter/views/transfer-dashboard",["text!desktop/templates/taskscenter/transfer-dashboard.html","../../services","../../moneybar/views/income-credit","./direct-credit-offer"],function(e,t,n,i){return Backbone.Marionette.Layout.extend({template:e,tagName:"div",className:"transfer-dashboard-container",initialize:function(){},events:{"click .transfer-type-row .transfer-domestic":function(){return this.navigateTo("transfer"),!1},"click .transfer-type-row .transfer-personal":function(){return this.navigateTo("my-transfer"),!1}},regions:{incomeCredit:".additional-resources"},remove:function(){Backbone.View.prototype.remove.call(this)},navigateTo:function(e){t.SetNavigationDataForMoneyBar({params:{link:e},success:function(e){Ebre.Common.NavigateTo(e)}})},loadData:function(){var e=this;e.model.fetch({success:function(){Ebre.Venezia.Rodo?e.model.afterSync():(e.model.set("currentAccBalance",null),e.model.set("currentAccBalancePart1",null),e.model.set("currentAccBalancePart2",null)),Ebre.Modules.Desktop.WhirlWindScripts&&require([Ebre.Modules.Desktop.WhirlWindScripts],function(){var t=$(".income-credit"),o={creditLimit:e.model.get("maxCreditLimit"),currency:e.model.get("currentAccCurrency"),accountNumber:e.model.get("currentAccNumber"),taskCenterMode:!0};require([Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/Engine/OneClickController.js",Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/View/AdvRegistry.js",Ebre.Venezia.Adv.Urls.ScriptUrls.root+"Adv/adv-init-one-click.js"],function(r,a,s){var c=r.getAdvData(o);c.AdvMsgExists||!Ebre.Entity.isPL()||Ebre.User.isPB?s([a.Placeholders.OneClick],t,o,n):e.incomeCredit.show(new i(c))})}),e.render(),$("#tasks-center").find("#transfer-dashboard").css({visibility:"visible"}).fadeIn("slow"),Ebre.Venezia.Rodo||($(".money-string.first-part").addClass("rodo rodo-popup-area"),$(".money-string.last-part").addClass("rodo rodo-popup-area"))}})}})}),define("desktop/js/taskscenter/models/transfer-dashboard",["../../app/app","../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({initialize:function(){},defaults:{currentAccBalance:0,currentAccBalancePart1:0,currentAccBalancePart2:0,currentAccCurrency:"",currentAccDescription:""},sync:function(e,i,o){"read"===e&&t.GetMoneyBarData({success:o.success,error:n||o.error})},afterSync:function(){var e=this.get("currentAccBalance"),t=Ebre.Common.formatNumber(e).split(",");this.set("currentAccBalancePart1",t[0]),this.set("currentAccBalancePart2",t[1])}})}),define("text!desktop/templates/taskscenter/overdue-tasks-notification.html",[],function(){return'<div class="notification overdue-tasks-notification">\r\n    <div class="notification-overlap">!</div>\r\n    <p>{{Ebre.Extensions.format(I18n.t(\'tasksCenter.notifications.overdueTasksMessage\'), outstandingTasksCount)}}</p>\r\n    <a href="#" class="notification-search btn-gray-gradient">{{ i18n(\'tasksCenter.notifications.search\') }}</a>\r\n    <button class="icon-close"></button>\r\n</div>'}),define("desktop/js/taskscenter/views/overdue-tasks-notification",["text!desktop/templates/taskscenter/overdue-tasks-notification.html","../../services"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"div",className:"notification-container",initialize:function(){},events:{"click .icon-close":"closeNotification","click .notification-search":"showTasksPastDue"},remove:function(){Backbone.View.prototype.remove.call(this)},closeNotification:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target);$(t).parent().hide()},showTasksPastDue:function(e){e.preventDefault(),e.stopPropagation(),t.SetNavigationDataForTasksList({data:{navigationData:{SetOverdueTasksNotificationFilters:!0}},success:function(){Ebre.Common.NavigateTo(Ebre.Modules.Desktop.TasksCenter.URL.TasksCenter)},error:function(){}})},loadData:function(){var e=this;e.model.fetch({success:function(){e.render(),e.model.get("shouldShow")&&$("#tasks-center").find(".overdue-tasks-notification").css({visibility:"visible",display:"none"}).fadeIn("slow")}})}})}),define("desktop/js/taskscenter/models/overdue-tasks-notification",["../../app/app","../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({initialize:function(){},defaults:{shouldShow:!1,outstandingTasksCount:0},sync:function(e,i,o){"read"===e&&t.GetNotificationAboutOverdueTasks({success:o.success,error:n||o.error})}})}),define("text!desktop/templates/taskscenter/matched-tasks-notification.html",[],function(){return'<div class="notification matched-tasks-notification">\r\n    <div class="notification-overlap"></div>\r\n    <p>{{I18n.t(\'tasksCenter.notifications.matchedTasksMessage\')}}</p>\r\n    <a href="#" class="notification-search btn-gray-gradient">{{ i18n(\'tasksCenter.notifications.search\') }}</a>\r\n    <button class="icon-close"></button>\r\n</div>'}),define("desktop/js/taskscenter/views/matched-tasks-notification",["text!desktop/templates/taskscenter/matched-tasks-notification.html","../../services"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"div",className:"notification-container",initialize:function(){},events:{"click .icon-close":"closeNotification","click .notification-search":"showMatchedTasks"},remove:function(){Backbone.View.prototype.remove.call(this)},closeNotification:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target);$(t).parent().hide()},showMatchedTasks:function(e){e.preventDefault(),e.stopPropagation(),t.SetNavigationDataForTasksList({data:{navigationData:{SetMatchedTasksNotificationFilters:!0}},success:function(){Ebre.Common.NavigateTo(Ebre.Modules.Desktop.TasksCenter.URL.TasksCenter)},error:function(){}})},loadData:function(){var e=this;e.model.fetch({success:function(){e.render(),e.model.get("shouldShow")&&$("#tasks-center").find(".matched-tasks-notification").css({visibility:"visible",display:"none"}).fadeIn("slow")}})}})}),define("desktop/js/taskscenter/models/matched-tasks-notification",["../../app/app","../../services"],function(e,t){function n(t){e.trigger("error",t)}return Backbone.Model.extend({initialize:function(){},defaults:{shouldShow:!1},sync:function(e,i,o){"read"===e&&t.GetNotificationAboutMatchedTasks({success:o.success,error:n||o.error})}})}),define("desktop/js/taskscenter/views/taskscenter-layout",["text!desktop/templates/taskscenter/taskscenter-layout.html","../models/timeline-collection","./timeline-view","../models/calendar","./calendar","./transfer-dashboard","../models/transfer-dashboard","./overdue-tasks-notification","../models/overdue-tasks-notification","./matched-tasks-notification","../models/matched-tasks-notification","../../preloader","../../shared/income-credit-hover"],function(e,t,n,i,o,r,a,s,c,l,d,u,m){return Backbone.Marionette.Layout.extend({template:e,tagName:"div",attributes:{id:"tasks-center"},events:{"click #tasks-center-full":function(){return Ebre.Venezia.Rodo&&Ebre.Common.NavigateTo(Ebre.Modules.Desktop.TasksCenter.URL.TasksCenter),!1},"click #tasks-center-new":function(){return Ebre.Venezia.Rodo&&Ebre.Common.NavigateTo(Ebre.Modules.Desktop.TasksCenter.URL.NewTask),!1},"mouseover .credit-link":function(){m.mouseEnter($(".credit-link"))},"mouseout .credit-link":function(){m.mouseLeave()}},regions:{timeline:".timeline",calendar:".calendar",transferDashboard:".transfer-dashboard-container",overdueTasksNotification:".overdue-tasks-notification-container",matchedTasksNotification:".matched-tasks-notification-container"},loadTasksCenter:function(){var e=this,m=new Backbone.Marionette.EventAggregator;if(Ebre.Modules.Desktop.MoneyBar.isMoneyBarConfigured){var p=new a;e.transferDashboardView=new r({model:p}),e.transferDashboard.show(e.transferDashboardView),e.transferDashboardView.loadData()}else{var h=Backbone.Marionette.ItemView.extend({template:'{{I18n.t("moneyBar.notAvailableMessage")}} <a href="#Settings/MoneyBar">{{I18n.t("settings")}}...</a>',tagName:"div",className:"moneybarNotConfigured"});e.transferDashboard.show(new h),e.transferDashboard.$el.css({minHeight:"20px"})}var f=new i;e.calendar.show(new o({model:f,vent:m}));var k=new c;e.overdueTasksNotificationView=new s({model:k}),e.overdueTasksNotification.show(e.overdueTasksNotificationView),e.overdueTasksNotificationView.loadData();var v=new d;e.matchedTasksNotificationView=new l({model:v}),e.matchedTasksNotification.show(e.matchedTasksNotificationView),e.matchedTasksNotificationView.loadData();var y=new t;e.timelineView=new n({collection:y,fromDateMin:f.get("FromDateMin"),toDateMax:f.get("ToDateMax"),vent:m}),e.timeline.show(e.timelineView);var g=this.$el.find(".timeline");if(u.loadMask(g,"timeline-loading-mask",!0),y.fetch({data:{filter:{From:f.get("FromDate"),To:f.get("ToDate")}},success:function(t){e.timelineView.showOrHideEmptyWeekInfo(t.models)}}),!Ebre.Venezia.Rodo){$(".money-string.first-part").addClass("rodo rodo-popup-area"),$(".money-string.last-part").addClass("rodo rodo-popup-area"),$(".m2t-content").addClass("rodo rodo-popup-area"),$("#tasks-center div.timeline-header .btn-gray-gradient").addClass("rodo rodo-popup-area"),$("#tasks-center div.timeline-header .calendar").addClass("rodo rodo-popup-area"),$(".timeline").addClass("rodo rodo-popup-area"),$("#tasks-center").addClass("rodo");var b=["div.timeline-header .btn-gray-gradient",".timeline","div.timeline-header .calendar"];$.each(b,function(e,t){$(t).addClass("rodo-popup-area").attr("aria-label",I18n.t("rodo.notification.message")).text("")})}}})});
!function(e){void 0==e.fn.inputmask&&(e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,showMaskOnHover:!0,onKeyValidation:e.noop,numericInput:!1,radixPoint:".",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,46,91,93,108]},val:e.fn.val,escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")}},e.fn.inputmask=function(t,i){function n(t){var a=O.aliases[t];return!!a&&(a.alias&&n(a.alias),e.extend(!0,O,a),e.extend(!0,O,i),!0)}function a(t){var i=!1,n=0;1==t.length&&0==O.greedy&&(O.placeholder="");for(var a=e.map(t.split(""),function(e,t){var a=[];if(e==O.escapeChar)i=!0;else if(e!=O.optionalmarker.start&&e!=O.optionalmarker.end||i){var s=O.definitions[e];if(s&&!i)for(var r=0;r<s.cardinality;r++)a.push(v(n+r));else a.push(e),i=!1;return n+=a.length,a}}),s=a.slice(),r=1;r<O.repeat&&O.greedy;r++)s=s.concat(a.slice());return s}function s(t){var i=!1,n=!1,a=!1;return e.map(t.split(""),function(e,t){var s=[];if(e==O.escapeChar)n=!0;else if(e!=O.optionalmarker.start||n){if(e!=O.optionalmarker.end||n){var r=O.definitions[e];if(r&&!n){for(var o=r.prevalidator,u=o?o.length:0,l=1;l<r.cardinality;l++){var d=u>=l?o[l-1]:[],f=d.validator,c=d.cardinality;s.push({fn:f?"string"==typeof f?new RegExp(f):new function(){this.test=f}:new RegExp("."),cardinality:c||1,optionality:i,newBlockMarker:1==i&&a,offset:0,casing:r.casing,def:e}),1==i&&(a=!1)}s.push({fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:i,newBlockMarker:a,offset:0,casing:r.casing,def:e})}else s.push({fn:null,cardinality:0,optionality:i,newBlockMarker:a,offset:0,casing:null,def:e}),n=!1;return a=!1,s}i=!1,a=!0}else i=!0,a=!0})}function r(){function e(e){return O.optionalmarker.start+e+O.optionalmarker.end}function t(n,r){var o,u=r.split(O.optionalmarker.end,2),l=u[0].split(O.optionalmarker.start);l.length>1?(o=n+l[0]+e(l[1])+(u.length>1?u[1]:""),i.push({_buffer:a(o),tests:s(o),lastValidPosition:0}),o=n+l[0]+(u.length>1?u[1]:""),i.push({_buffer:a(o),tests:s(o),lastValidPosition:0}),u.length>1&&u[1].split(O.optionalmarker.start).length>1&&(t(n+l[0]+e(l[1]),u[1]),t(n+l[0],u[1]))):(o=n+u,i.push({_buffer:a(o),tests:s(o),lastValidPosition:0}))}var i=[];return t("",O.mask),i}function o(){return U[N]}function u(){return o().tests}function l(){return o()._buffer}function d(t,i,n,a,s){var r=[],o=!1,u=N;return e.each(U,function(e,o){var l=this;N=e;var d=t;if(u!=N&&!c(t)){if(i==l._buffer[d])return r[e]={refresh:!0},l.lastValidPosition=d,!1;d=s?m(n,t):g(n,t)}if((s?l.lastValidPosition<=O.numericInput?p():g(n,d):l.lastValidPosition>=m(n,d))&&d>=0&&d<p()){for(var f=h(d),v=i?1:0,k="",y=l.tests[f].cardinality;y>v;y--)k+=_(n,f-(y-1));i&&(k+=i),r[e]=null!=l.tests[f].fn&&l.tests[f].fn.test(k,n,d,a,O),!1!==r[e]?(!0===r[e]&&(r[e]={pos:d}),l.lastValidPosition=r[e].pos||d):l.lastValidPosition=s?g(n,t):m(n,t)}}),N=u,f(n,t,u,s),o=r[N]||o,setTimeout(function(){O.onKeyValidation.call(this,o,O)},0),o}function f(t,i,n,a){e.each(U,function(e,s){var r=this;if(a?r.lastValidPosition<=i:r.lastValidPosition>=i){if((N=e)!=n){var o=p(),u=l();a&&(t.reverse(),u.reverse()),t.length=i;for(var d=i;d<o;d++){var f=h(d);k(t,d,_(u,f))}a&&t.reverse()}return!1}})}function c(e){var t=h(e),i=u()[t];return void 0!=i&&i.fn}function h(e){return e%u().length}function v(e){return O.placeholder.charAt(e%O.placeholder.length)}function p(){var e=l().length;return!O.greedy&&O.repeat>1&&(e+=l().length*(O.repeat-1)),e}function g(e,t){var i=p();if(t>=i)return i;for(var n=t;++n<i&&!c(n););return n}function m(e,t){var i=t;if(i<=0)return 0;for(;--i>0&&!c(i););return i}function k(e,t,i){var n=u()[h(t)],a=i;if(void 0!=a)switch(n.casing){case"upper":a=i.toUpperCase();break;case"lower":a=i.toLowerCase()}e[t]=a}function _(e,t,i){return i&&(t=y(e,t)),e[t]}function y(e,t,i){var n;if(i)for(;t<0&&e.length<p();)for(n=l().length-1,t=l().length;void 0!==l()[n];)e.unshift(l()[n--]);else for(;void 0==e[t]&&e.length<p();)for(n=0;void 0!==l()[n];)e.push(l()[n++]);return t}function b(e,t,i){e._valueSet(t.join("")),void 0!=i&&(R?setTimeout(function(){A(e,i)},100):A(e,i))}function M(e,t,i){for(var n=t,a=p();n<i&&n<a;n++)k(e,n,_(l().slice(),n))}function x(e,t){var i=h(t);k(e,t,_(l(),i))}function E(t,i,n,a){var s=e(t).data("inputmask").isRTL,r=P(t._valueGet(),s).split("");if(s){var o=p(),f=r.reverse();f.length=o;for(var m=0;m<o;m++){var y=h(o-(m+1));null==u()[y].fn&&f[m]!=_(l(),y)?(f.splice(m,0,_(l(),y)),f.length=o):f[m]=f[m]||_(l(),y)}r=f.reverse()}M(i,0,i.length),i.length=l().length;for(var E,C=-1,S=-1,o=p(),G=r.length,A=0==G?o:-1,m=0;m<G;m++)for(var T=S+1;T<o;T++){if(c(T)){var I=r[m];!1!==(E=d(T,I,i,!n,s))?(!0!==E&&(T=E.pos||T,I=E.c||I),k(i,T,I),C=S=T):(x(i,T),I==v(T)&&(S=T,A=T));break}if(x(i,T),C==S&&(C=T),S=T,r[m]==_(i,T))break}if(0==O.greedy)for(var w=P(i.join(""),s).split("");i.length!=w.length;)s?i.shift():i.pop();return n&&b(t,i),s?O.numericInput?-1!=e.inArray(O.radixPoint,i)&&!0!==a?e.inArray(O.radixPoint,i):g(i,o):g(i,A):g(i,C)}function C(t){return e.inputmask.escapeRegex.call(this,t)}function P(e,t){return t?e.replace(new RegExp("^("+C(l().join(""))+")*"),""):e.replace(new RegExp("("+C(l().join(""))+")*$"),"")}function S(t,i){E(t,i,!1);var n=i.slice();if(e(t).data("inputmask").isRTL)for(var a=0;a<=n.length-1;a++){var s=h(a);if(!u()[s].optionality)break;if(v(a)!=i[a]&&c(a))break;n.splice(0,1)}else for(var a=n.length-1;a>=0;a--){var s=h(a);if(!u()[s].optionality)break;if(v(a)!=i[a]&&c(a))break;n.pop()}b(t,n)}function G(t,i){var n=t[0];if(!u()||!0!==i&&t.hasClass("hasDatepicker"))return n._valueGet();var a=l().slice();return E(n,a),e.map(a,function(e,t){return c(t)&&e!=_(l().slice(),t)?e:null}).join("")}function A(e,t,i){var n=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof t){var a=R?s:null,s=null;if(null==a){if(n.setSelectionRange)t=n.selectionStart,i=n.selectionEnd;else if(document.selection&&document.selection.createRange){var r=document.selection.createRange();t=0-r.duplicate().moveStart("character",-1e5),i=t+r.text.length}a={begin:t,end:i}}return a}if(i="number"==typeof i?i:t,0==O.insertMode&&t==i&&i++,n.setSelectionRange)n.setSelectionRange(t,i);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select()}n.focus(),R&&i!=n.selectionEnd&&(s={begin:t,end:i})}function T(t){var i=!1,n=t._valueGet();n.length;return currentActiveMasksetIndex=N,highestValidPosition=0,e.each(U,function(e,t){N=e;var a=p();if(t.lastValidPosition>=highestValidPosition&&t.lastValidPosition==a-1){for(var s=!0,r=0;r<a;r++){var o=c(r);if(o&&n.charAt(r)==v(r)||!o&&n.charAt(r)!=l()[r]){s=!1;break}}if(i=i||s)return!1}highestValidPosition=t.lastValidPosition}),N=currentActiveMasksetIndex,i}function I(t){function i(e,t,i){for(;!c(e)&&e-1>=0;)e--;for(var n=e;n<t&&n<p();n++)if(c(n)){x(G,n);var a=g(G,n),s=_(G,a);if(s!=v(a)){if(a<p()&&!1!==d(n,s,G,!0,H)&&u()[h(n)].def==u()[h(a)].def)k(G,n,_(G,a)),x(G,a);else if(c(n))break}else if(void 0==i)break}else x(G,n);return void 0!=i&&k(G,H?t:m(G,t),i),G=P(G.join(""),H).split(""),0==G.length&&(G=l().slice()),e}function n(e,t,i,n){for(var a=e;a<=t&&a<p();a++)if(c(a)){var s=_(G,a);if(k(G,a,i),s!=v(a)){var r=g(G,a);if(!(r<p()))break;if(!1!==d(r,s,G,!0,H)&&u()[h(a)].def==u()[h(r)].def)i=s;else{if(c(r))break;i=s}}else if(!0!==n)break}else x(G,a);var o=G.length;return G=P(G.join(""),H).split(""),0==G.length&&(G=l().slice()),t-(o-G.length)}function a(t){j=!1;var a=this,s=t.keyCode,r=A(a);if(O.numericInput){var o=a._valueGet(),u=o.indexOf(O.radixPoint);-1!=u&&(H=r.begin<=u||r.end<=u)}if(s==O.keyCode.BACKSPACE||s==O.keyCode.DELETE||D&&127==s){var d=p();if(0==r.begin&&r.end==d)N=0,G=l().slice(),b(a,G),A(a,E(a,G,!1));else if(r.end-r.begin>1||r.end-r.begin==1&&O.insertMode)M(G,r.begin,r.end),f(G,r.begin,N),b(a,G,H?E(a,G,!1):r.begin);else{var c=r.begin-(s==O.keyCode.DELETE?0:1);c<K&&s==O.keyCode.DELETE&&(c=K),c>=K&&(O.numericInput&&O.greedy&&s==O.keyCode.DELETE&&G[c]==O.radixPoint&&(c=g(G,c),H=!1),H?(c=n(K,c,v(c),!0),c=O.numericInput&&O.greedy&&s==O.keyCode.BACKSPACE&&G[c+1]==O.radixPoint?c+1:g(G,c)):c=i(c,d),f(G,c,N),b(a,G,c))}return a._valueGet()==l().join("")&&e(a).trigger("cleared"),!1}if(s==O.keyCode.END||s==O.keyCode.PAGE_DOWN)return setTimeout(function(){var e=E(a,G,!1,!0);O.insertMode||e!=p()||t.shiftKey||e--,A(a,t.shiftKey?r.begin:e,e)},0),!1;if(s==O.keyCode.HOME||s==O.keyCode.PAGE_UP)return A(a,0,t.shiftKey?r.begin:0),!1;if(s==O.keyCode.ESCAPE)return a._valueSet(I),A(a,0,E(a,G)),!1;if(s==O.keyCode.INSERT)return O.insertMode=!O.insertMode,A(a,O.insertMode||r.begin!=p()?r.begin:r.begin-1),!1;if(t.ctrlKey&&88==s)setTimeout(function(){A(a,E(a,G,!0))},0);else if(!O.insertMode){if(s==O.keyCode.RIGHT){var h=r.begin==r.end?r.end+1:r.end;return h=h<p()?h:r.end,A(a,t.shiftKey?r.begin:h,t.shiftKey?h+1:h),!1}if(s==O.keyCode.LEFT){var h=r.begin-1;return h=h>0?h:0,A(a,h,t.shiftKey?r.end:h),!1}}O.onKeyDown.call(this,t,O),L=-1!=e.inArray(s,O.ignorables)}function s(t){if(j)return!1;j=!0;var a=this,s=e(a);t=t||window.event;var r=t.which||t.charCode||t.keyCode;if(O.numericInput&&r==O.radixPoint){var o=a._valueGet(),u=o.indexOf(O.radixPoint);A(a,g(G,-1!=u?u:p()))}if(t.ctrlKey||t.altKey||t.metaKey||L)return!0;if(r){s.trigger("input");var l=A(a),f=String.fromCharCode(r),c=p();if(M(G,l.begin,l.end),H){var h,x=O.numericInput?l.end:m(G,l.end);if(!1!==(h=d(x==c||_(G,x)==O.radixPoint?m(G,x):x,f,G,!1,H))){var E=!1;if(!0!==h&&(E=h.refresh,x=h.pos||x,f=h.c||f),!0!==E){var C=K;if(1==O.insertMode){if(1==O.greedy)for(var P=G.slice();_(P,C,!0)!=v(C)&&C<=x;)C=C==c?c+1:g(G,C);if(!(C<=x&&(O.greedy||G.length<c)))return!1;if(G[K]!=v(K)&&G.length<c){var S=y(G,-1,H);0!=l.end&&(x+=S),c=G.length}i(C,O.numericInput?m(G,x):x,f)}else k(G,O.numericInput?m(G,x):x,f)}b(a,G,O.numericInput&&0==x?g(G,x):x),setTimeout(function(){T(a)&&s.trigger("complete")},0)}else R&&b(a,G,l.begin)}else{var h,x=g(G,l.begin-1);if(y(G,x,H),!1!==(h=d(x,f,G,!1,H))){var E=!1;if(!0!==h&&(E=h.refresh,x=h.pos||x,f=h.c||f),!0!==E)if(1==O.insertMode){for(var I=p(),P=G.slice();_(P,I,!0)!=v(I)&&I>=x;)I=0==I?-1:m(G,I);if(!(I>=x))return!1;n(x,G.length,f)}else k(G,x,f);var w=g(G,x);b(a,G,w),setTimeout(function(){T(a)&&s.trigger("complete")},0)}else R&&b(a,G,l.begin)}return!1}}function r(t){var i=e(this),n=this,a=t.keyCode;O.onKeyUp.call(this,t,O),a==O.keyCode.TAB&&i.hasClass("focus.inputmask")&&0==n._valueGet().length&&(G=l().slice(),b(n,G),H||A(n,0),I=n._valueGet())}var o=e(t);if(o.is(":input")){O.greedy=O.greedy?O.greedy:0==O.repeat;var C=o.prop("maxLength");p()>C&&C>-1&&(C<l().length&&(l().length=C),0==O.greedy&&(O.repeat=Math.round(C/l().length)),o.prop("maxLength",2*p())),o.data("inputmask",{masksets:U,activeMasksetIndex:N,greedy:O.greedy,repeat:O.repeat,autoUnmask:O.autoUnmask,definitions:O.definitions,isRTL:!1}),function(t){var i;Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(t,"value")),i&&i.get?t._valueGet||(t._valueGet=i.get,t._valueSet=i.set,Object.defineProperty(t,"value",{get:function(){var t=e(this),i=e(this).data("inputmask"),n=i.masksets,a=i.activeMasksetIndex;return i&&i.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=n[a]._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t),e(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(t._valueGet=t.__lookupGetter__("value"),t._valueSet=t.__lookupSetter__("value"),t.__defineGetter__("value",function(){var t=e(this),i=e(this).data("inputmask"),n=i.masksets,a=i.activeMasksetIndex;return i&&i.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=n[a]._buffer.join("")?this._valueGet():""}),t.__defineSetter__("value",function(t){this._valueSet(t),e(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return this.value},t._valueSet=function(e){this.value=e}),1!=e.fn.val.inputmaskpatch&&(e.fn.val=function(){if(0==arguments.length){var t=e(this);if(t.data("inputmask")){if(t.data("inputmask").autoUnmask)return t.inputmask("unmaskedvalue");var i=e.inputmask.val.apply(t),n=e(this).data("inputmask");return i!=n.masksets[n.activeMasksetIndex]._buffer.join("")?i:""}return e.inputmask.val.apply(t)}var a=arguments;return this.each(function(){var t=e(this),i=e.inputmask.val.apply(t,a);return t.data("inputmask")&&t.triggerHandler("setvalue.inputmask"),i})},e.extend(e.fn.val,{inputmaskpatch:!0})))}(t);var G=l().slice(),I=t._valueGet(),j=!1,L=!1,V=-1,K=g(G,-1),H=(m(G,p()),!1);if("rtl"==t.dir||O.numericInput){t.dir="ltr",o.css("text-align","right"),o.removeAttr("dir");var F=o.data("inputmask");F.isRTL=!0,o.data("inputmask",F),H=!0}o.unbind(".inputmask"),o.removeClass("focus.inputmask"),o.bind("mouseenter.inputmask",function(){var t=e(this),i=this;if(!t.hasClass("focus.inputmask")&&O.showMaskOnHover){var n=i._valueGet().length;n<G.length&&(0==n&&(G=l().slice()),b(i,G))}}).bind("blur.inputmask",function(){var t=e(this),i=this,n=i._valueGet();t.removeClass("focus.inputmask"),n!=I&&t.change(),O.clearMaskOnLostFocus&&""!=n&&(n==l().join("")?i._valueSet(""):S(i,G)),T(i)||(t.trigger("incomplete"),O.clearIncomplete&&(O.clearMaskOnLostFocus?i._valueSet(""):(G=l().slice(),b(i,G))))}).bind("focus.inputmask",function(){var t=e(this),i=this,n=i._valueGet();if(!t.hasClass("focus.inputmask")&&(!O.showMaskOnHover||O.showMaskOnHover&&""==n)){var a=n.length;a<G.length&&(0==a&&(G=l().slice()),A(i,E(i,G,!0)))}t.addClass("focus.inputmask"),I=i._valueGet()}).bind("mouseleave.inputmask",function(){var t=e(this),i=this;O.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||(i._valueGet()==l().join("")||""==i._valueGet()?i._valueSet(""):S(i,G)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var t=A(e);if(t.begin==t.end){var i=t.begin;V=E(e,G,!1),H?A(e,i>V&&(!1!==d(i,G[i],G,!0,H)||!c(i))?i:V):A(e,i<V&&(!1!==d(i,G[i],G,!0,H)||!c(i))?i:V)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){A(e,0,V)},0)}).bind("keydown.inputmask",a).bind("keypress.inputmask",s).bind("keyup.inputmask",r).bind(w+".inputmask dragdrop.inputmask drop.inputmask",function(){var e=this;setTimeout(function(){A(e,E(e,G,!0)),T(e)&&o.trigger("complete")},0)}).bind("setvalue.inputmask",function(){var e=this;I=e._valueGet(),E(e,G,!0),e._valueGet()==l().join("")&&e._valueSet("")}).bind("complete.inputmask",O.oncomplete).bind("incomplete.inputmask",O.onincomplete).bind("cleared.inputmask",O.oncleared),V=E(t,G,!0);var B;try{B=document.activeElement}catch(e){}B===t?(o.addClass("focus.inputmask"),A(t,V)):O.clearMaskOnLostFocus&&(t._valueGet()==l().join("")?t._valueSet(""):S(t,G)),function(t){var i=e._data(t).events;e.each(i,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace){var i=t.handler;t.handler=function(){return!this.readOnly&&!this.disabled&&i.apply(this,arguments)}}})})}(t)}}var O=e.extend(!0,{},e.inputmask.defaults,i),w=function(e){var t=document.createElement("input"),e="on"+e,i=e in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}("paste")?"paste":"input",D=null!=navigator.userAgent.match(/iphone/i),R=null!=navigator.userAgent.match(/android.*mobile safari.*/i);if(R){var j=navigator.userAgent.match(/mobile safari.*/i),L=parseInt(new RegExp(/[0-9]+/).exec(j));R=L<=533}var U,N=0;if("string"==typeof t)switch(t){case"mask":return U=r(),this.each(function(){I(this)});case"unmaskedvalue":return U=this.data("inputmask").masksets,N=this.data("inputmask").activeMasksetIndex,O.greedy=this.data("inputmask").greedy,O.repeat=this.data("inputmask").repeat,O.definitions=this.data("inputmask").definitions,G(this);case"remove":return this.each(function(){var t=e(this),i=this;setTimeout(function(){if(t.data("inputmask")){U=t.data("inputmask").masksets,N=t.data("inputmask").activeMasksetIndex,O.greedy=t.data("inputmask").greedy,O.repeat=t.data("inputmask").repeat,O.definitions=t.data("inputmask").definitions,i._valueSet(G(t,!0)),t.removeData("inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var e;Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(i,"value")),e&&e.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet)),delete i._valueGet,delete i._valueSet}},0)});case"getemptymask":return this.data("inputmask")?(U=this.data("inputmask").masksets,N=this.data("inputmask").activeMasksetIndex,U[N]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("inputmask")&&!this.data("inputmask").autoUnmask;case"isComplete":return U=this.data("inputmask").masksets,N=this.data("inputmask").activeMasksetIndex,O.greedy=this.data("inputmask").greedy,O.repeat=this.data("inputmask").repeat,O.definitions=this.data("inputmask").definitions,T(this[0]);default:return n(t)||(O.mask=t),U=r(),this.each(function(){I(this)})}return"object"==typeof t?(O=e.extend(!0,{},e.inputmask.defaults,t),n(O.alias),U=r(),this.each(function(){I(this)})):this})}(jQuery),function(e,t){e.widget("ui.dragslider",e.ui.slider,{options:e.extend({},e.ui.slider.prototype.options,{rangeFollow:!1,rangeLeftFollow:!1,rangeRightFollow:!1}),markSingleMode:!1,_create:function(){this.boundMinWdt=15.95,this.range=this.options.max-this.options.min,this.bound=this.range*(this.boundMinWdt/this.options.width),this.maxLeftValue=this.options.max-this.bound,this._markSingleMode=!1,this._forceMax=!1,this._forceMin=!1,e.ui.slider.prototype._create.apply(this,arguments)},_start:function(e,t){var i={handle:this.handles[t],value:this.value(),bound:this._bound()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value(),singleMode:this._markSingleMode};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_slide:function(t,i,n){var a=this.options;this.values();if(0===i){if(this._forceMax=!1,this._forceMin=!1,n>=a.max-this.bound)return this.values(1,a.max),this.values(0,a.max-this.bound),this._markSingleMode=!0,this._forceMax=!0,this._trigger("slide",t,{handle:this.handles[i],index:i,value:n,values:this.values(),singleMode:this._markSingleMode,forceMax:this._forceMax,forceMin:this._forceMin,bound:this.bound}),!1;if(this.values()[1]-n<this.bound){var s=n+this.bound;this.values(1,s,!0),this._markSingleMode=!0}else this._markSingleMode=!1}if(1===i){if(this._forceMax=!1,this._forceMin=!1,n<=a.min+this.bound)return this.values(0,a.min),this.values(1,a.min+this.bound),this._markSingleMode=!0,this._forceMin=!0,this._trigger("slide",t,{handle:this.handles[i],index:i,value:n,values:this.values(),singleMode:this._markSingleMode,forceMax:this._forceMax,forceMin:this._forceMin,bound:this.bound}),!1;if(n-this.values()[0]<this.bound){var s=n-this.bound;this.values(0,s),this._markSingleMode=!0}else this._markSingleMode=!1}var r,o,u;return this.options.values&&this.options.values.length?(r=this.values(i?0:1),2===this.options.values.length&&!0===this.options.range&&(0===i&&n>r||1===i&&n<r)&&(n=r),n!==this.values(i)&&(o=this.values(),o[i]=n,u=this._trigger("slide",t,{handle:this.handles[i],value:n,values:o,singleMode:this._markSingleMode,forceMax:this._forceMax,forceMin:this._forceMin,index:i,bound:this.bound}),r=this.values(i?0:1),!1!==u&&this.values(i,n,!0))):n!==this.value()&&!1!==(u=this._trigger("slide",t,{handle:this.handles[i],value:n,singleMode:this._markSingleMode,forceMax:this._forceMax,forceMin:this._forceMin,index:i,bound:this.bound}))&&this.value(n),e.ui.slider.prototype._slide.apply(this,arguments)},_bound:function(){return this.bound}}),e.ui.dragslider.prototype.getBound=function(e){return this._bound()}}(jQuery),function(e){e.fn.serializeObject=function(){if(this.length<1)return!1;var t={},i=t,n=':input[type!="checkbox"][type!="radio"], input:checked',a=function(){var n=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(","),a=n.length-1,s=e(this);if(n[0]){for(var r=0;r<a;r++)i=i[n[r]]=i[n[r]]||(""===n[r+1]?[]:{});void 0!==i.length?i.push(s.val()):i[n[a]]=s.val(),i=t}};return this.filter(n).each(a),this.find(n).each(a),t}}(jQuery);